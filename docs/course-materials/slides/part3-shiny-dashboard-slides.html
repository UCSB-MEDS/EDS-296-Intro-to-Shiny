<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>EDS 430 – part3-shiny-dashboard-slides</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
  <script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="../../site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
  <script src="../../site_libs/leaflet-1.3.1/leaflet.js"></script>
  <link href="../../site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
  <script src="../../site_libs/proj4-2.6.2/proj4.min.js"></script>
  <script src="../../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
  <link href="../../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
  <script src="../../site_libs/leaflet-binding-2.2.1/leaflet.js"></script>
  <script src="../../site_libs/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script>
  <script src="../../site_libs/leaflet-providers-plugin-2.2.1/leaflet-providers-plugin.js"></script>
  <link href="../../site_libs/leaflet-minimap-3.3.1/Control.MiniMap.min.css" rel="stylesheet">
  <script src="../../site_libs/leaflet-minimap-3.3.1/Control.MiniMap.min.js"></script>
  <script src="../../site_libs/leaflet-minimap-3.3.1/Minimap-binding.js"></script>
  <link href="../../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="../../site_libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="title-slide" class="slide level2 center" data-menu-title="Title Slide" data-background="#053660">
<h2></h2>
<p><span class="custom-title">EDS 430: Part 3</span></p>
<p><span class="custom-subtitle"><em>Building Shiny dashboards</em></span></p>
<hr class="hr-teal">
<p><span class="custom-subtitle3">Week 2 | February 2<sup>nd</sup>, 2024</span></p>
</section>
<section id="building-dashboards" class="slide level2" data-menu-title="~~~ Building Dashboards ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<i class="fa-solid fa-gauge" title="a gauge" aria-label="gauge"></i> Building dashboards with <code>{shinydashboard}</code>
</p>
<p class="caption-text">
<em>Shiny alone is powerful and flexible, however it can take a lot of work to create a sleek / modern UI. <code>{shinydashboard}</code> provides a “template” for quickly building visually appealing dashboard apps.</em>
</p>
</div>
</section>
<section id="LO-app3" class="slide level2" data-menu-title="Learning Objectives - App #3">
<h2></h2>
<p><span class="slide-title"><i class="fa-solid fa-book-open" title="an open book" aria-label="book-open"></i> Learning Objectives - App #3 (shinydashboard)</span></p>
<hr>
<p class="body-text-l teal-text bottombr">
After this section, you should:
</p>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> understand the general workflow for pre-processing, saving &amp; reading data into an app
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> be comfortable building out a dashboard UI using <code>{shinydashboard}</code> layout functions
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> understand how to add static images to your app
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> feel comfortable creating a basic reactive <code>leaflet</code> map
</p>
</div>
<div class="fragment">
<p class="body-text-l teal-text topbr">
Packages introduced:
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-box-open" title="an open box" aria-label="box-open"></i></span> <code>{shinydashboard}</code>: provides an alternative UI framework for easily building dashboard-style shiny applications
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-box-open" title="an open box" aria-label="box-open"></i></span> <code>{leaflet}</code>: for building interactive maps
</p>
</div>
</section>
<section id="roadmap-dashboard" class="slide level2" data-menu-title="Roadmap App #3">
<h2></h2>
<p><span class="slide-title">Roadmap for App #3</span></p>
<hr>
<p class="body-text">
In this section, we’ll be building a <strong>shinydashboard</strong> using data downloaded from the <a href="https://arcticdata.io/">Arctic Data Center</a>. We’ll be building out the following features:
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><br> <br></p>
<p class="body-text-s">
<span class="teal-text"><strong>(a)</strong></span> a <code>dashboardHeader</code> with the name of your app
</p>
<p class="body-text-s">
<span class="teal-text"><strong>(b)</strong></span> a <code>dashboardSidebar</code> with two <code>menuItem</code>s
</p>
<p class="body-text-s">
<span class="teal-text"><strong>(c)</strong></span> a landing page with background information about your app
</p>
<p class="body-text-s">
<span class="teal-text"><strong>(d)</strong></span> an interactive <em>and</em> reactive <code>leaflet</code> map
</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part3/final-dashboard.gif" style="width:100.0%" alt="A completed shinydashboard with intro text on the welcome (landing) page, dividing among boxes on the screen, and a map of the area of interest. On the dashboard page, we see three slider widgets in a box on the left-hand side of the page, and a reactive leaflet map on the right-hand side."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="what-is-a-dashboard" class="slide level2" data-menu-title="What is a dashboard?">
<h2></h2>
<p><span class="slide-title2">But first, what do we mean by a shiny “dashboard”?</span></p>
<hr>
<p><span class="body-text-s">The <a href="https://rstudio.github.io/shinydashboard/"><code>{shinydashboard}</code> package</a> provides additional UI layout functions that make building apps with a more classic “dashboard” feel a bit easier. You’ll always need to import <code>{shiny}</code> alongside <code>{shinydashboard}</code> (i.e.&nbsp;it’s not a full replacement for <code>{shiny}</code>).</span></p>

<img data-src="images/part3/simple_dashboard.png" style="width:100.0%" alt="A simple shinydashboard with two boxes (one containing a histogram and one containing a sliderInput) in the body. The header reads 'Basic tabs' and the sidebar has two menu items: Dashboard and Widgets." class="r-stretch quarto-figure-center"></section>
<section id="dashboardPage" class="slide level2" data-menu-title="dashboardPage()">
<h2></h2>
<p><span class="slide-title2">The most basic shinydashboard is made up of a header, a sidebar, and a body</span></p>
<hr>
<p class="body-text-s">
The main difference between a <strong>shiny app</strong> and a <strong>shinydashboard</strong> are the UI elements. Rather than a <code>fluidPage()</code> (as used in our previous shiny apps), we’ll create a <code>dashboardPage()</code>, which expects three main parts: a header, a sidebar, and a body. Below is the most minimal possible UI for a <code>{shinydashboard}</code> page (you can run this code in an <code>app.R</code> file, if you wish).
</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">#..............................setup.............................</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(shinydashboard)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#...............................ui...............................</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>ui <span class="ot">&lt;-</span> <span class="fu">dashboardPage</span>(</span>
<span id="cb1-7"><a href="#cb1-7"></a>  </span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="fu">dashboardHeader</span>(), </span>
<span id="cb1-9"><a href="#cb1-9"></a>  <span class="fu">dashboardSidebar</span>(), </span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="fu">dashboardBody</span>() </span>
<span id="cb1-11"><a href="#cb1-11"></a>  </span>
<span id="cb1-12"><a href="#cb1-12"></a>) </span>
<span id="cb1-13"><a href="#cb1-13"></a></span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="co">#.............................server.............................</span></span>
<span id="cb1-15"><a href="#cb1-15"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co">#......................combine ui &amp; server.......................</span></span>
<span id="cb1-18"><a href="#cb1-18"></a><span class="fu">shinyApp</span>(ui, server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part3/basic_dashboard.png" style="width:100.0%" alt="The most basic shinydashboard UI, with the default coloring -- a dashboardHeader in light blue, a dashboardSidebar in dark blue, and a dashboardBody in off-white."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="shinydashboard-examples" class="slide level2" data-menu-title="Examples of shinydashboards">
<h2></h2>
<p><span class="slide-title3">Example shiny dashboards built by some familiar folks</span></p>
<hr>
<p><span class="body-text-m teal-text"><strong>Live dashboards:</strong></span></p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-school" title="a school house" aria-label="school"></i></span> <a href="https://shinyapps.bren.ucsb.edu/student-data-explorer/">Bren Student Data Explorer</a> (<a href="https://github.com/UCSB-MEDS/shiny-dashboard">source code</a>), <em>by MEDS 2022 alum, <a href="https://www.linkedin.com/in/halinadolinh/">Halina Do-Linh</a>, during her Bren Summer Fellowship (and continued by future MEDS students!)</em> – explore Bren school student demographics and career outcomes
</p>
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-person-hiking" title="a person hiking with a backpack on" aria-label="person-hiking"></i></span> <a href="https://samanthacsik.shinyapps.io/strava_dashboard/">Sam’s Strava Stats</a> (<a href="https://github.com/samanthacsik/strava-dashboard">source code</a>), <em>by yours truly, <a href="https://samanthacsik.github.io/">Sam Csik</a></em> – a new and ongoing side project exploring my Strava hiking/biking/walking data
</p>
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-fish-fins" title="a fish with fins" aria-label="fish-fins"></i></span> <a href="http://ohi-science.nceas.ucsb.edu/visualizing_human_impacts/">Visualizing human impacts on at-risk marine biodiversity</a> (<a href="https://github.com/BrennieDev/CHI_shiny_app">source code</a>, <em>developed by MESM 2022 alum, <a href="https://github.com/BrennieDev">Ian Brunjes</a> &amp; <a href="http://oharascience.com/index.html">Dr.&nbsp;Casey O’Hara</a>)</em> – explore how human activities and climate change impact marine biodiversity worldwide
</p>
<p><span class="body-text-m teal-text"><strong>Dashboards which are no longer deployed:</strong></span></p>
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-fish" title="a fish" aria-label="fish"></i></span> <a href="http://34.94.133.101/">Channel Islands National Park’s Kelp Forest Monitoring Program</a> (<a href="https://github.com/cullen-molitor/KFM_Shiny_App">source code</a>), <em>by MEDS 2022 alum, <a href="https://cullen-molitor.github.io/">Cullen Molitor</a></em> – explore subtidal monitoring data collected from our closest National Park
</p>
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-campground" title="a camping tent" aria-label="campground"></i></span> <a href="https://shinyapps.bren.ucsb.edu/oe_app/">The Outdoor Equity App</a> (<a href="https://github.com/outdoor-equity/outdoor-equity">source code</a>), <em>developed by MEDS 2022 alumni <a href="https://www.linkedin.com/in/halinadolinh/">Halina Do-Linh</a> &amp; <a href="https://cboyajian.github.io/">Clarissa Boyajian</a> as part of their MEDS capstone project</em> – analyze patterns in the access and demand of visitors at reservable overnight sites
</p>
</section>
<section id="setup-dashboard-directory" class="slide level2" data-menu-title="Dashboard Setup">
<h2></h2>
<p><span class="slide-title">Setup your shiny dashboard</span></p>
<hr>
<p class="body-text bottombr">
First, create a subdirectory called <code>shinydashboard/</code> and add a <code>ui.R</code>, <code>server.R</code>, and <code>global.R</code> file.
</p>
<p class="body-text-s bottombr">
Add the server function to <code>server.R</code> and the three main UI components (header, sidebar, and body) to our dashboard page – <strong>I typically recommend splitting the UI into separate pieces, then combining them into a <code>dashboardPage</code> the end of <code>ui.R</code></strong> (as shown below) – this can help with organization as you app grows in complexity.
</p>
<p class="body-text-s bottombr">
We’ll set our dashboard aside for now while we work on downloading and pre-processing our data, as well as practice creating our data visualization <em>outside</em> of our app.
</p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><code>ui.R</code></a></li><li><a href="#tabset-1-2"><code>server.R</code></a></li><li><a href="#tabset-1-3"><code>global.R</code></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>()</span>
<span id="cb2-3"><a href="#cb2-3"></a></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>()</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>()</span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb2-11"><a href="#cb2-11"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/server.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-1-3">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/global.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="fu">library</span>(shinydashboard)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="run-app-a-lot" class="slide level2" data-menu-title="Run app after each addition">
<h2></h2>
<p><span class="slide-title2">Be sure to run your app after each new addition!</span></p>
<hr>
<p><br></p>
<p><span class="body-text-m">From here on out, <span class="teal-text"><strong>you should be running your app after each new addition</strong></span> to check that things work as expected – aim to do so after each slide where code is added.</span></p>
<p><br></p>
<div class="fragment">
<p><span class="body-text-m">I don’t explicitly call to do so on each slide, but this is a super important practice to get into!</span></p>
<p><br></p>
</div>
<div class="fragment">
<p><span class="body-text-m">Remember to give yourself proper <span class="teal-text"><strong>space between lines</strong></span> <em>and</em> <span class="teal-text"><strong>add annotations</strong></span> at the start and end of each parentheses – <em>I highly recommend following along with the formatting I use throughout these materials.</em></span></p>
</div>
</section>
<section id="begin-with-data" class="slide level2" data-menu-title="Begin with Data">
<h2></h2>
<p><span class="slide-title">As always, let’s start with the data</span></p>
<hr>
<p class="body-text bottombr">
Building an app doesn’t make much sense if we don’t know what we’re going to put in it. So, just like the last two apps, we’ll start with some data wrangling and practice data visualization.
</p>
<p class="body-text bottombr">
<em>Unlike</em> our last two apps, however, we’ll be working with tabular data from the <a href="https://arcticdata.io/">Arctic Data Center</a>, which we’ll download, process, save, then finally, read into our application. This process will likely be more similar to what you’ll encounter when working on your own applications moving forward. <strong>Take a few minutes to review the <a href="https://arcticdata.io/catalog/view/doi%3A10.18739%2FA2JH3D41P">metadata record</a> for the following data set, and download <a href="https://arcticdata.io/metacat/d1/mn/v2/object/urn%3Auuid%3A73800a2e-7617-470a-83aa-b530a01f32e3">FCWO_lakemonitoringdata_2011_2022_daily.csv</a>:</strong>
</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<center>
<p class="body-text-s bottombr">
Christopher Arp, Matthew Whitman, Katie Drew, and Allen Bondurant. 2022. Water depth, surface elevation, and water temperature of lakes in the Fish Creek Watershed in northern Alaska, USA, 2011-2022. Arctic Data Center. <a href="https://arcticdata.io/catalog/view/doi%3A10.18739%2FA2JH3D41P">doi:10.18739/A2JH3D41P</a>.
</p>
</center>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part3/adc_logo.png" style="width:100.0%" alt="The NSF Arctic Data Center Logo, which is a drawing depicting a blue mountain scape with green Northern Lights overhead."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="processing-storing-data" class="slide level2" data-menu-title="Processing &amp; Storing Data">
<h2></h2>
<p><span class="slide-title">Pre-processing data is critical</span></p>
<hr>
<p class="body-text-s">
<strong>Where you choose to store the data used by your Shiny app will depend largely on the type and size of the file(s) and who “owns” those data.</strong> It is likely that you’ll be working with data stored in a database or on a server. This is outside the scope of this workshop, but I suggest reading Nathan Stephens’ article, <a href="https://support.posit.co/hc/en-us/articles/115001248028-Where-to-store-your-Shiny-application-data">Where to store your Shiny application data</a> to start. Because we are going to be working with a relatively small data set today, we’ll bundle our data file with our dashboard inside our repository.
</p>
<p class="body-text-s topbr">
Regardless of where you choose to store your data, you can help your application more quickly process inputs / outputs by providing it <em>only as much data as needed to run</em>. This means <strong>pre-processing</strong> your data.
</p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p class="body-text-s topbr">
<a href="https://arcticdata.io/metacat/d1/mn/v2/object/urn%3Auuid%3A73800a2e-7617-470a-83aa-b530a01f32e3"><code>FCWO_lakemonitoringdata_2011_2022_daily.csv</code></a> contains <strong>8 attributes</strong> (variables) and <strong>18,994 observations</strong> collected from a set of <strong>11 lakes</strong> located in the Fish Creek Watershed in northern Alaska between 2011-2022. We’ll download and save the file to a <code>raw_data/</code> folder in the root directory of our repository. We’ll then pre-process the data in a separate script(s) saved to <code>scratch/</code> and save a cleaned / processed version of the data to our app’s directory, <code>/shinydashboard/data/lake_data_processed.csv</code>. Your repository structure should look similar to example on the right:
</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part3/shinydashboard-directory-structure.png" style="width:73.0%" alt="A schematic of the repository structure, as described."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="lake-data-goal" class="slide level2" data-menu-title="Lake Data End Goal">
<h2></h2>
<p><span class="slide-title">The goal:</span></p>
<hr>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part3/leaflet.gif" style="width:100.0%" alt="An interactive leaflet map with 11 markers placed on different lakes throughout Northeast Alaska. Clicking on a marker reveals details about the lake including the name, elevation, average depth, and average lake bed temperature."></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><br></p>
<p class="body-text bottombr">
Our goal is to create a <code>leaflet</code> map with makers placed on each of the 11 unique lakes where data were collected. When clicked, a marker should reveal the <strong>lake name</strong>, <strong>elevation</strong> (in meters, above sea level), <strong>average depth</strong> of the lake (in meters), and <strong>average lake bed temperature</strong> (in degrees Celsius). <em>To do so, we’ll need a data frame that looks like the example below:</em>
</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part3/lakes_df.png" style="width:100.0%" alt="An example of our desired final data frame, with 6 attributes (Site, Latitude, Longitude, Elevation, AvgDepth, AvgTemp) and 11 rows of observations, one for each lake surveyed."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="process-lake-data" class="slide level2" data-menu-title="Process Lake Data">
<h2></h2>
<p><span class="slide-title">Process lake data &amp; save new file</span></p>
<hr>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/scratch/data_processing_app3_shinydashboard.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">#...............................................................................</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="co">#                                                                              .</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">#  For simplicity, I've removed all rows with missing values (i.e. `NaN`s      .</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">#  in the `Depth` column &amp; `NA`s in the `BedTemperature` column) before        .</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">#  calculating averages. However, exploring and  thinking critically about     .</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">#  missing data is an important part of data analysis, and in a real-life      .</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">#  scenario, you should consider the most appropriate method for handling them .</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="co">#                                                                              .</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="co">#...............................................................................</span></span>
<span id="cb5-10"><a href="#cb5-10"></a></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">#....................SETUP &amp; DATA PROCESSING.....................</span></span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co"># load packages ----</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-15"><a href="#cb5-15"></a></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co"># read in raw data ----</span></span>
<span id="cb5-17"><a href="#cb5-17"></a>lake_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"FCWO_lakemonitoringdata_2011_2022_daily.csv"</span>))</span>
<span id="cb5-18"><a href="#cb5-18"></a></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="co"># calculate avg depth &amp; temp ----</span></span>
<span id="cb5-20"><a href="#cb5-20"></a>avg_depth_temp <span class="ot">&lt;-</span> lake_raw <span class="sc">|&gt;</span> </span>
<span id="cb5-21"><a href="#cb5-21"></a>  <span class="fu">select</span>(Site, Depth, BedTemperature) <span class="sc">|&gt;</span> </span>
<span id="cb5-22"><a href="#cb5-22"></a>  <span class="fu">filter</span>(Depth <span class="sc">!=</span> <span class="st">"NaN"</span>) <span class="sc">|&gt;</span>  <span class="co"># remove NaN ("not a number") from Depth</span></span>
<span id="cb5-23"><a href="#cb5-23"></a>  <span class="fu">drop_na</span>(BedTemperature) <span class="sc">|&gt;</span> <span class="co"># remove NAs (missing data) from BedTemperature</span></span>
<span id="cb5-24"><a href="#cb5-24"></a>  <span class="fu">group_by</span>(Site) <span class="sc">|&gt;</span> </span>
<span id="cb5-25"><a href="#cb5-25"></a>  <span class="fu">summarize</span>(</span>
<span id="cb5-26"><a href="#cb5-26"></a>    <span class="at">AvgDepth =</span> <span class="fu">round</span>(<span class="fu">mean</span>(Depth), <span class="dv">1</span>),</span>
<span id="cb5-27"><a href="#cb5-27"></a>    <span class="at">AvgTemp =</span> <span class="fu">round</span>(<span class="fu">mean</span>(BedTemperature), <span class="dv">1</span>)</span>
<span id="cb5-28"><a href="#cb5-28"></a>    )</span>
<span id="cb5-29"><a href="#cb5-29"></a></span>
<span id="cb5-30"><a href="#cb5-30"></a><span class="co"># join avg depth &amp; temp to original data (match rows based on 'Site') ---</span></span>
<span id="cb5-31"><a href="#cb5-31"></a>joined_dfs <span class="ot">&lt;-</span> <span class="fu">full_join</span>(lake_raw, avg_depth_temp)</span>
<span id="cb5-32"><a href="#cb5-32"></a></span>
<span id="cb5-33"><a href="#cb5-33"></a><span class="co"># get unique lakes observations (with corresponding lat, lon, elev, avgDepth, avgTemp) for mapping ----</span></span>
<span id="cb5-34"><a href="#cb5-34"></a>unique_lakes <span class="ot">&lt;-</span> joined_dfs <span class="sc">|&gt;</span> </span>
<span id="cb5-35"><a href="#cb5-35"></a>  <span class="fu">select</span>(Site, Latitude, Longitude, Elevation, AvgDepth, AvgTemp) <span class="sc">|&gt;</span> </span>
<span id="cb5-36"><a href="#cb5-36"></a>  <span class="fu">distinct</span>()</span>
<span id="cb5-37"><a href="#cb5-37"></a></span>
<span id="cb5-38"><a href="#cb5-38"></a><span class="co"># save processed data to your app's data directory ----</span></span>
<span id="cb5-39"><a href="#cb5-39"></a><span class="fu">write_csv</span>(<span class="at">x =</span> unique_lakes, <span class="at">file =</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"shinydashboard"</span>, <span class="st">"data"</span>, <span class="st">"lake_data_processed.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="file-types" class="slide level2" data-menu-title="File Types">
<h2></h2>
<p><span class="slide-title">A note on file types</span></p>
<hr>
<p class="body-text-s">
Oftentimes, you may choose to save your processed data frame as a <code>.rds</code> file (a data file format, native to R, which stores a single R object). <code>.rds</code> file are relatively small (and therefore take up little storage space), take less time to import / export, and preserve data types and classes (e.g.&nbsp;factors and dates), eliminating the need to redefine data types after loading the file. Bear in mind that this increased speed and space-saving may come at the cost of generality – you can’t open a <code>.rds</code> file outside of R or read it in with another programming language (e.g.&nbsp;Python).
</p>
<p class="body-text-s topbr">
While we’ll be sticking to <code>.csv</code> files in this workshop, it’s worth experimenting with <code>.rds</code> when you begin working with your own (likely larger) data. You can read in (<code>readRDS()</code>) and write out to (<code>saveRDS()</code>) <code>.rds</code> files as easily as <code>.csv</code> files.
</p>

<img data-src="images/part3/rds.png" style="width:100.0%" alt="The R language logo overlaid on top of a database stack -- often used to represent the rds data file format." class="r-stretch quarto-figure-center"></section>
<section id="draft-leaflet" class="slide level2" data-menu-title="Draft Leaflet">
<h2></h2>
<p><span class="slide-title">Draft <code>leaflet</code> map</span></p>
<hr>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">leaflet map</a></li><li><a href="#tabset-2-2">code</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<p class="body-text-s">
There are lots of ways to customize <code>leaflet</code> maps. We’ll be keeping ours relatively simple, but check out the <a href="https://rstudio.github.io/leaflet/">Leaflet for R</a> documentation for more ways to get creative with your maps.
</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9d95111cd53ce7d58f50" style="width:60%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-9d95111cd53ce7d58f50">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addMiniMap","args":[null,null,"bottomright",150,150,19,19,-5,false,false,false,true,false,false,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]},{"method":"addMarkers","args":[[70.032,70.236,70.17,70.233,70.27,70.267,70.032,70.09699999999999,70.247,70.113,70.246],[-152.194,-152.186,-152.785,-151.339,-151.355,-151.387,-152.194,-152.074,-151.478,-152.077,-152.141],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Site Name: HarryPotter<br>Elevation: 12.3 meters (above SL)<br>Avg Depth: 2.3 meters<br>Avg Lake Bed Temperature: 5.6°C","Site Name: Hipbone<br>Elevation: 21 meters (above SL)<br>Avg Depth: 2 meters<br>Avg Lake Bed Temperature: 10.7°C","Site Name: Iceshove<br>Elevation: 20.3 meters (above SL)<br>Avg Depth: 1.8 meters<br>Avg Lake Bed Temperature: 10.9°C","Site Name: L9817<br>Elevation: 16.1 meters (above SL)<br>Avg Depth: 2.6 meters<br>Avg Lake Bed Temperature: 5.9°C","Site Name: L9819<br>Elevation: 8.2 meters (above SL)<br>Avg Depth: 1.7 meters<br>Avg Lake Bed Temperature: 5.6°C","Site Name: L9820<br>Elevation: 9.5 meters (above SL)<br>Avg Depth: 1.1 meters<br>Avg Lake Bed Temperature: 5.5°C","Site Name: LittleAlaska<br>Elevation: 28.9 meters (above SL)<br>Avg Depth: 1.2 meters<br>Avg Lake Bed Temperature: 5.2°C","Site Name: LowerSnowman<br>Elevation: 27.4 meters (above SL)<br>Avg Depth: 1.2 meters<br>Avg Lake Bed Temperature: 7.2°C","Site Name: M9925<br>Elevation: 14.7 meters (above SL)<br>Avg Depth: 0.9 meters<br>Avg Lake Bed Temperature: 7°C","Site Name: MiddleSnowman<br>Elevation: 26.3 meters (above SL)<br>Avg Depth: 1.1 meters<br>Avg Lake Bed Temperature: 6.4°C","Site Name: Serenity<br>Elevation: 12 meters (above SL)<br>Avg Depth: 3.9 meters<br>Avg Lake Bed Temperature: 10.7°C"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"setView":[[70.249234,-152.048442],6,[]],"limits":{"lat":[70.032,70.27],"lng":[-152.785,-151.339]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/scratch/practice_script_app3_shinydashboard.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">#..............................SETUP.............................</span></span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co"># load packages ----</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co"># read in data ----</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>lake_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"shinydashboard"</span>, <span class="st">"data"</span>, <span class="st">"lake_data_processed.csv"</span>))</span>
<span id="cb6-9"><a href="#cb6-9"></a></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#..........................PRACTICE VIZ..........................</span></span>
<span id="cb6-11"><a href="#cb6-11"></a></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="fu">leaflet</span>() <span class="sc">|&gt;</span> </span>
<span id="cb6-13"><a href="#cb6-13"></a>  </span>
<span id="cb6-14"><a href="#cb6-14"></a>  <span class="co"># add tiles</span></span>
<span id="cb6-15"><a href="#cb6-15"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>Esri.WorldImagery) <span class="sc">|&gt;</span> </span>
<span id="cb6-16"><a href="#cb6-16"></a>  </span>
<span id="cb6-17"><a href="#cb6-17"></a>  <span class="co"># set view over AK</span></span>
<span id="cb6-18"><a href="#cb6-18"></a>  <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">152.048442</span>, <span class="at">lat =</span> <span class="fl">70.249234</span>, <span class="at">zoom =</span> <span class="dv">6</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-19"><a href="#cb6-19"></a>  </span>
<span id="cb6-20"><a href="#cb6-20"></a>  <span class="co"># add mini map</span></span>
<span id="cb6-21"><a href="#cb6-21"></a>  <span class="fu">addMiniMap</span>(<span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>, <span class="at">minimized =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-22"><a href="#cb6-22"></a>  </span>
<span id="cb6-23"><a href="#cb6-23"></a>  <span class="co"># add markers</span></span>
<span id="cb6-24"><a href="#cb6-24"></a>  <span class="fu">addMarkers</span>(<span class="at">data =</span> lake_data, </span>
<span id="cb6-25"><a href="#cb6-25"></a>             <span class="at">lng =</span> lake_data<span class="sc">$</span>Longitude, <span class="at">lat =</span> lake_data<span class="sc">$</span>Latitude,</span>
<span id="cb6-26"><a href="#cb6-26"></a>             <span class="at">popup =</span> <span class="fu">paste0</span>(<span class="st">"Site Name: "</span>, lake_data<span class="sc">$</span>Site, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb6-27"><a href="#cb6-27"></a>                           <span class="st">"Elevation: "</span>, lake_data<span class="sc">$</span>Elevation, <span class="st">" meters (above SL)"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb6-28"><a href="#cb6-28"></a>                           <span class="st">"Avg Depth: "</span>, lake_data<span class="sc">$</span>AvgDepth, <span class="st">" meters"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb6-29"><a href="#cb6-29"></a>                           <span class="st">"Avg Lake Bed Temperature: "</span>, lake_data<span class="sc">$</span>AvgTemp, <span class="st">"\u00B0C"</span>)) <span class="co"># </span><span class="al">NOTE</span><span class="co">: Unicode for degree symbol icon</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="filter-leaflet" class="slide level2" data-menu-title="Filter Leaflet">
<h2></h2>
<p><span class="slide-title2">Practice filtering <code>leaflet</code> observations</span></p>
<hr>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">leaflet map (filtered)</a></li><li><a href="#tabset-3-2">code</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<p class="body-text-s">
We’ll eventually build three <code>sliderInput</code>s to filter lake makers by <code>Elevation</code>, <code>AvgDepth</code>, and <code>AvgTemp</code>. Practice filtering here first (and be sure to update the data frame name in your leaflet code!):
</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c0ed15bf97ee5958df51" style="width:60%;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-c0ed15bf97ee5958df51">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addMiniMap","args":[null,null,"bottomright",150,150,19,19,-5,false,false,false,true,false,false,{"color":"#ff7800","weight":1,"clickable":false},{"color":"#000000","weight":1,"clickable":false,"opacity":0,"fillOpacity":0},{"hideText":"Hide MiniMap","showText":"Show MiniMap"},[]]},{"method":"addMarkers","args":[[70.032,70.233],[-152.194,-151.339],null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},["Site Name: HarryPotter<br>Elevation: 12.3 meters (above SL)<br>Avg Depth: 2.3 meters<br>Avg Lake Bed Temperature: 5.6°C","Site Name: L9817<br>Elevation: 16.1 meters (above SL)<br>Avg Depth: 2.6 meters<br>Avg Lake Bed Temperature: 5.9°C"],null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"setView":[[70.249234,-152.048442],6,[]],"limits":{"lat":[70.032,70.233],"lng":[-152.194,-151.339]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/scratch/practice_script_app3_shinydashboard.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb7" data-code-line-numbers="10-15|31-37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">#..............................SETUP.............................</span></span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co"># load packages ----</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb7-6"><a href="#cb7-6"></a></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co"># read in data ----</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>lake_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"shinydashboard"</span>, <span class="st">"data"</span>, <span class="st">"lake_data_processed.csv"</span>))</span>
<span id="cb7-9"><a href="#cb7-9"></a></span>
<span id="cb7-10"><a href="#cb7-10"></a><span class="co">#.......................PRACTICE FILTERING.......................</span></span>
<span id="cb7-11"><a href="#cb7-11"></a></span>
<span id="cb7-12"><a href="#cb7-12"></a>filtered_lakes <span class="ot">&lt;-</span> lake_data <span class="sc">|&gt;</span> </span>
<span id="cb7-13"><a href="#cb7-13"></a>  <span class="fu">filter</span>(Elevation <span class="sc">&gt;=</span> <span class="dv">8</span> <span class="sc">&amp;</span> Elevation <span class="sc">&lt;=</span> <span class="dv">20</span>) <span class="sc">|&gt;</span> </span>
<span id="cb7-14"><a href="#cb7-14"></a>  <span class="fu">filter</span>(AvgDepth <span class="sc">&gt;=</span> <span class="dv">2</span> <span class="sc">&amp;</span> AvgDepth <span class="sc">&lt;=</span> <span class="dv">3</span>) <span class="sc">|&gt;</span> </span>
<span id="cb7-15"><a href="#cb7-15"></a>  <span class="fu">filter</span>(AvgTemp <span class="sc">&gt;=</span> <span class="dv">4</span> <span class="sc">&amp;</span> AvgTemp <span class="sc">&lt;=</span> <span class="dv">6</span>)</span>
<span id="cb7-16"><a href="#cb7-16"></a></span>
<span id="cb7-17"><a href="#cb7-17"></a><span class="co">#..........................PRACTICE VIZ..........................</span></span>
<span id="cb7-18"><a href="#cb7-18"></a></span>
<span id="cb7-19"><a href="#cb7-19"></a><span class="fu">leaflet</span>() <span class="sc">|&gt;</span> </span>
<span id="cb7-20"><a href="#cb7-20"></a>  </span>
<span id="cb7-21"><a href="#cb7-21"></a>  <span class="co"># add tiles</span></span>
<span id="cb7-22"><a href="#cb7-22"></a>  <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>Esri.WorldImagery, <span class="co"># make note of using appropriate tiles</span></span>
<span id="cb7-23"><a href="#cb7-23"></a>                   <span class="at">options =</span> <span class="fu">providerTileOptions</span>(<span class="at">maxNativeZoom =</span> <span class="dv">19</span>, <span class="at">maxZoom =</span> <span class="dv">100</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb7-24"><a href="#cb7-24"></a>  </span>
<span id="cb7-25"><a href="#cb7-25"></a>  <span class="co"># add mini map</span></span>
<span id="cb7-26"><a href="#cb7-26"></a>  <span class="fu">addMiniMap</span>(<span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>, <span class="at">minimized =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb7-27"><a href="#cb7-27"></a>  </span>
<span id="cb7-28"><a href="#cb7-28"></a>  <span class="co"># set view over AK</span></span>
<span id="cb7-29"><a href="#cb7-29"></a>  <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">152.048442</span>, <span class="at">lat =</span> <span class="fl">70.249234</span>, <span class="at">zoom =</span> <span class="dv">6</span>) <span class="sc">|&gt;</span> </span>
<span id="cb7-30"><a href="#cb7-30"></a>  </span>
<span id="cb7-31"><a href="#cb7-31"></a>  <span class="co"># add markers</span></span>
<span id="cb7-32"><a href="#cb7-32"></a>  <span class="fu">addMarkers</span>(<span class="at">data =</span> filtered_lakes,</span>
<span id="cb7-33"><a href="#cb7-33"></a>             <span class="at">lng =</span> filtered_lakes<span class="sc">$</span>Longitude, <span class="at">lat =</span> filtered_lakes<span class="sc">$</span>Latitude,</span>
<span id="cb7-34"><a href="#cb7-34"></a>             <span class="at">popup =</span> <span class="fu">paste0</span>(<span class="st">"Site Name: "</span>, filtered_lakes<span class="sc">$</span>Site, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb7-35"><a href="#cb7-35"></a>                           <span class="st">"Elevation: "</span>, filtered_lakes<span class="sc">$</span>Elevation, <span class="st">" meters (above SL)"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb7-36"><a href="#cb7-36"></a>                           <span class="st">"Avg Depth: "</span>, filtered_lakes<span class="sc">$</span>AvgDepth, <span class="st">" meters"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb7-37"><a href="#cb7-37"></a>                           <span class="st">"Avg Lake Bed Temperature: "</span>, filtered_lakes<span class="sc">$</span>AvgTemp, <span class="st">"\u00B0C"</span>)) <span class="co"># </span><span class="al">NOTE</span><span class="co">: Unicode for degree symbol icon</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="sketch-ui" class="slide level2" data-menu-title="Sketch the UI">
<h2></h2>
<p><span class="slide-title">Sketch out our dashboard UI</span></p>
<hr>
<p class="body-text-s">
I want my dashboard to have two menu items: a welcome page with some background information, and a dashboard page with my reactive map. All elements will be placed inside <code>box</code>es, the primary building blocks of shinydashboards (more on that soon).
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part3/welcome_sketch.png" style="width:100.0%" alt="A rough sketch of our dashboard welcome page. A header has a place for the app's title in the top left corner and there's a sidebar on the left-hand side of the page with our two pages (welcome and dashboard). The welcome page has a box on the left-hand side that will contain background info and maybe a photo. The right-hand side of the page has two stacked boxes. The top box will contain data citation information and the bottom box will contain a disclaimer."></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part3/dashboard_sketch.png" style="width:100.0%" alt="A sketch of the dashboard page of our app, which will have two side-by-side boxes. The left-hand box will contain three sliderInputs and the right-hand box will contain our reactive leaflet map."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="title-menuItems" class="slide level2" data-menu-title="Title &amp; menuItems">
<h2></h2>
<p><span class="slide-title2">Add a <code>title</code> &amp; <code>menuItem</code>s</span></p>
<hr>
<p class="body-text-s">
First, add a title to <code>dashboardHeader()</code> and make more space using <code>titleWidth</code>, if necessary.
</p>
<p class="body-text-s">
Next, we’ll build our <code>dashboardSidebar()</code>. Add a <code>sidebarMenu()</code> that contains two <code>menuItem</code>s. Be sure to provide each <code>menuItem()</code> with <code>text</code> as you’d like it to appear in your app (for me, that’s <strong>Welcome</strong> and <strong>Dashboard</strong>), and a <code>tabName</code> which will be used to place <code>dashboardBody()</code> content in the appropriate <code>menuItem()</code>. Optionally, you can provide an icon. By default, <code>icon()</code> uses icons from <a href="https://fontawesome.com/">FontAwesome</a>.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb8" data-code-line-numbers="4-6|13-19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb8-3"><a href="#cb8-3"></a>  </span>
<span id="cb8-4"><a href="#cb8-4"></a>  <span class="co"># title ----</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>  </span>
<span id="cb8-8"><a href="#cb8-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb8-12"><a href="#cb8-12"></a>  </span>
<span id="cb8-13"><a href="#cb8-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb8-14"><a href="#cb8-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb8-15"><a href="#cb8-15"></a>    </span>
<span id="cb8-16"><a href="#cb8-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb8-17"><a href="#cb8-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb8-18"><a href="#cb8-18"></a>    </span>
<span id="cb8-19"><a href="#cb8-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb8-20"><a href="#cb8-20"></a>  </span>
<span id="cb8-21"><a href="#cb8-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb8-22"><a href="#cb8-22"></a></span>
<span id="cb8-23"><a href="#cb8-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb8-24"><a href="#cb8-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>()</span>
<span id="cb8-25"><a href="#cb8-25"></a></span>
<span id="cb8-26"><a href="#cb8-26"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb8-27"><a href="#cb8-27"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="tabItems" class="slide level2" data-menu-title="tabItems">
<h2></h2>
<p><span class="slide-title2">Add <code>tabItems</code> to your <code>dashboardBody</code></span></p>
<hr>
<p class="body-text-s">
Next, we’ll create <code>tabItems</code> in our <code>dashboardBody</code> – we’ll make a <code>tabItem</code> (singular) for each <code>menuItem</code> in our <code>dashboardSidebar</code>. In order to match a <code>menuItem</code> and a <code>tabItem</code>, ensure that they have matching a <code>tabName</code> (e.g.&nbsp;any content added to the <strong>dashboard</strong> <code>tabItem</code> will appear under the <strong>dashboard</strong> <code>menuItem</code>).
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="26-43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb9-2"><a href="#cb9-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb9-3"><a href="#cb9-3"></a>  </span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb9-7"><a href="#cb9-7"></a>  </span>
<span id="cb9-8"><a href="#cb9-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb9-9"><a href="#cb9-9"></a></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb9-12"><a href="#cb9-12"></a>  </span>
<span id="cb9-13"><a href="#cb9-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb9-14"><a href="#cb9-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb9-15"><a href="#cb9-15"></a>    </span>
<span id="cb9-16"><a href="#cb9-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb9-17"><a href="#cb9-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb9-18"><a href="#cb9-18"></a>    </span>
<span id="cb9-19"><a href="#cb9-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb9-20"><a href="#cb9-20"></a>  </span>
<span id="cb9-21"><a href="#cb9-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb9-22"><a href="#cb9-22"></a></span>
<span id="cb9-23"><a href="#cb9-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb9-24"><a href="#cb9-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb9-25"><a href="#cb9-25"></a>  </span>
<span id="cb9-26"><a href="#cb9-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb9-27"><a href="#cb9-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb9-28"><a href="#cb9-28"></a>    </span>
<span id="cb9-29"><a href="#cb9-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb9-30"><a href="#cb9-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb9-31"><a href="#cb9-31"></a>            </span>
<span id="cb9-32"><a href="#cb9-32"></a>            <span class="st">"background info here"</span></span>
<span id="cb9-33"><a href="#cb9-33"></a>            </span>
<span id="cb9-34"><a href="#cb9-34"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb9-35"><a href="#cb9-35"></a>    </span>
<span id="cb9-36"><a href="#cb9-36"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb9-37"><a href="#cb9-37"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb9-38"><a href="#cb9-38"></a>            </span>
<span id="cb9-39"><a href="#cb9-39"></a>            <span class="st">"dashboard content here"</span></span>
<span id="cb9-40"><a href="#cb9-40"></a>            </span>
<span id="cb9-41"><a href="#cb9-41"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb9-42"><a href="#cb9-42"></a>    </span>
<span id="cb9-43"><a href="#cb9-43"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb9-44"><a href="#cb9-44"></a>  </span>
<span id="cb9-45"><a href="#cb9-45"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb9-46"><a href="#cb9-46"></a></span>
<span id="cb9-47"><a href="#cb9-47"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb9-48"><a href="#cb9-48"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="boxes" class="slide level2" data-menu-title="boxes">
<h2></h2>
<p><span class="slide-title2">Add <code>box</code>es to contain UI content (part 1)</span></p>
<hr>
<p class="body-text-s">
<a href="https://rstudio.github.io/shinydashboard/structure.html#boxes">Boxes</a> are the primary building blocks of shinydashboards and can contain almost any Shiny UI element (e.g.&nbsp;text, inputs, outputs). Start by adding two side-by-side boxes to our <strong>dashboard</strong> tab inside a <code>fluidRow()</code>. Together, their widths will add up to 12 (the total width of a browser page). These boxes will eventually contain our <code>sliderInput</code>s and our <code>leafletOutput</code>.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb10" data-code-line-numbers="39-56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb10-3"><a href="#cb10-3"></a>  </span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>  </span>
<span id="cb10-8"><a href="#cb10-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb10-9"><a href="#cb10-9"></a></span>
<span id="cb10-10"><a href="#cb10-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb10-12"><a href="#cb10-12"></a>  </span>
<span id="cb10-13"><a href="#cb10-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb10-14"><a href="#cb10-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb10-15"><a href="#cb10-15"></a>    </span>
<span id="cb10-16"><a href="#cb10-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb10-17"><a href="#cb10-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb10-18"><a href="#cb10-18"></a>    </span>
<span id="cb10-19"><a href="#cb10-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb10-20"><a href="#cb10-20"></a>  </span>
<span id="cb10-21"><a href="#cb10-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb10-22"><a href="#cb10-22"></a></span>
<span id="cb10-23"><a href="#cb10-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb10-24"><a href="#cb10-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb10-25"><a href="#cb10-25"></a>  </span>
<span id="cb10-26"><a href="#cb10-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb10-27"><a href="#cb10-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb10-28"><a href="#cb10-28"></a>    </span>
<span id="cb10-29"><a href="#cb10-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb10-30"><a href="#cb10-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb10-31"><a href="#cb10-31"></a>            </span>
<span id="cb10-32"><a href="#cb10-32"></a>            <span class="st">"background info here"</span></span>
<span id="cb10-33"><a href="#cb10-33"></a>            </span>
<span id="cb10-34"><a href="#cb10-34"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem </span></span>
<span id="cb10-35"><a href="#cb10-35"></a>    </span>
<span id="cb10-36"><a href="#cb10-36"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb10-37"><a href="#cb10-37"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb10-38"><a href="#cb10-38"></a>            </span>
<span id="cb10-39"><a href="#cb10-39"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb10-40"><a href="#cb10-40"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb10-41"><a href="#cb10-41"></a>              </span>
<span id="cb10-42"><a href="#cb10-42"></a>              <span class="co"># input box ----</span></span>
<span id="cb10-43"><a href="#cb10-43"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb10-44"><a href="#cb10-44"></a>                  </span>
<span id="cb10-45"><a href="#cb10-45"></a>                  <span class="st">"sliderInputs here"</span></span>
<span id="cb10-46"><a href="#cb10-46"></a>                  </span>
<span id="cb10-47"><a href="#cb10-47"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb10-48"><a href="#cb10-48"></a>              </span>
<span id="cb10-49"><a href="#cb10-49"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb10-50"><a href="#cb10-50"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>, </span>
<span id="cb10-51"><a href="#cb10-51"></a>                  </span>
<span id="cb10-52"><a href="#cb10-52"></a>                  <span class="st">"leafletOutput here"</span></span>
<span id="cb10-53"><a href="#cb10-53"></a>                  </span>
<span id="cb10-54"><a href="#cb10-54"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb10-55"><a href="#cb10-55"></a>              </span>
<span id="cb10-56"><a href="#cb10-56"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb10-57"><a href="#cb10-57"></a>            </span>
<span id="cb10-58"><a href="#cb10-58"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb10-59"><a href="#cb10-59"></a>    </span>
<span id="cb10-60"><a href="#cb10-60"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb10-61"><a href="#cb10-61"></a>  </span>
<span id="cb10-62"><a href="#cb10-62"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb10-63"><a href="#cb10-63"></a></span>
<span id="cb10-64"><a href="#cb10-64"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb10-65"><a href="#cb10-65"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="columns" class="slide level2" data-menu-title="Columns">
<h2></h2>
<p><span class="slide-title2">Add <code>box</code>es to contain UI content (part 2)</span></p>
<hr>
<p class="body-text-s">
Lastly, add boxes to our <strong>welcome</strong> tab We’ll use <code>column</code>s to place one box on the left-hand side of our page, and two stacked boxes on the right-hand side. Each <code>column</code> will take up half the page (<strong>Note:</strong> <em>For column-based layouts, use <code>NULL</code> for the box width, as the width is set by the column that contains the box</em>). We can create two <code>fluidRow</code>s within the right-hand column to stack two boxes vertically.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="32-71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb11-3"><a href="#cb11-3"></a>  </span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>  </span>
<span id="cb11-8"><a href="#cb11-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb11-9"><a href="#cb11-9"></a></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb11-11"><a href="#cb11-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb11-12"><a href="#cb11-12"></a>  </span>
<span id="cb11-13"><a href="#cb11-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb11-14"><a href="#cb11-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb11-15"><a href="#cb11-15"></a>    </span>
<span id="cb11-16"><a href="#cb11-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb11-17"><a href="#cb11-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb11-18"><a href="#cb11-18"></a>    </span>
<span id="cb11-19"><a href="#cb11-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb11-20"><a href="#cb11-20"></a>  </span>
<span id="cb11-21"><a href="#cb11-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb11-22"><a href="#cb11-22"></a></span>
<span id="cb11-23"><a href="#cb11-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb11-24"><a href="#cb11-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb11-25"><a href="#cb11-25"></a>  </span>
<span id="cb11-26"><a href="#cb11-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb11-27"><a href="#cb11-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb11-28"><a href="#cb11-28"></a>    </span>
<span id="cb11-29"><a href="#cb11-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb11-30"><a href="#cb11-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb11-31"><a href="#cb11-31"></a>            </span>
<span id="cb11-32"><a href="#cb11-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb11-33"><a href="#cb11-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb11-34"><a href="#cb11-34"></a>                   </span>
<span id="cb11-35"><a href="#cb11-35"></a>                   <span class="co"># background info box ----</span></span>
<span id="cb11-36"><a href="#cb11-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-37"><a href="#cb11-37"></a>                       </span>
<span id="cb11-38"><a href="#cb11-38"></a>                       <span class="st">"background info here"</span></span>
<span id="cb11-39"><a href="#cb11-39"></a>                       </span>
<span id="cb11-40"><a href="#cb11-40"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> background info box</span></span>
<span id="cb11-41"><a href="#cb11-41"></a>                   </span>
<span id="cb11-42"><a href="#cb11-42"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb11-43"><a href="#cb11-43"></a>            </span>
<span id="cb11-44"><a href="#cb11-44"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb11-45"><a href="#cb11-45"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb11-46"><a href="#cb11-46"></a>                   </span>
<span id="cb11-47"><a href="#cb11-47"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb11-48"><a href="#cb11-48"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb11-49"><a href="#cb11-49"></a>                     </span>
<span id="cb11-50"><a href="#cb11-50"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb11-51"><a href="#cb11-51"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-52"><a href="#cb11-52"></a>                         </span>
<span id="cb11-53"><a href="#cb11-53"></a>                         <span class="st">"data citation here"</span></span>
<span id="cb11-54"><a href="#cb11-54"></a>                         </span>
<span id="cb11-55"><a href="#cb11-55"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb11-56"><a href="#cb11-56"></a>                     </span>
<span id="cb11-57"><a href="#cb11-57"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb11-58"><a href="#cb11-58"></a>                   </span>
<span id="cb11-59"><a href="#cb11-59"></a>                   <span class="co"># second fluidRow ----</span></span>
<span id="cb11-60"><a href="#cb11-60"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb11-61"><a href="#cb11-61"></a>                     </span>
<span id="cb11-62"><a href="#cb11-62"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb11-63"><a href="#cb11-63"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb11-64"><a href="#cb11-64"></a>                         </span>
<span id="cb11-65"><a href="#cb11-65"></a>                         <span class="st">"disclaimer here"</span></span>
<span id="cb11-66"><a href="#cb11-66"></a>                         </span>
<span id="cb11-67"><a href="#cb11-67"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb11-68"><a href="#cb11-68"></a>                     </span>
<span id="cb11-69"><a href="#cb11-69"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb11-70"><a href="#cb11-70"></a>                   </span>
<span id="cb11-71"><a href="#cb11-71"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb11-72"><a href="#cb11-72"></a>            </span>
<span id="cb11-73"><a href="#cb11-73"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb11-74"><a href="#cb11-74"></a>    </span>
<span id="cb11-75"><a href="#cb11-75"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb11-76"><a href="#cb11-76"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb11-77"><a href="#cb11-77"></a>            </span>
<span id="cb11-78"><a href="#cb11-78"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb11-79"><a href="#cb11-79"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb11-80"><a href="#cb11-80"></a>              </span>
<span id="cb11-81"><a href="#cb11-81"></a>              <span class="co"># input box ----</span></span>
<span id="cb11-82"><a href="#cb11-82"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb11-83"><a href="#cb11-83"></a>                  </span>
<span id="cb11-84"><a href="#cb11-84"></a>                  <span class="st">"sliderInputs here"</span></span>
<span id="cb11-85"><a href="#cb11-85"></a>                  </span>
<span id="cb11-86"><a href="#cb11-86"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb11-87"><a href="#cb11-87"></a>              </span>
<span id="cb11-88"><a href="#cb11-88"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb11-89"><a href="#cb11-89"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb11-90"><a href="#cb11-90"></a>                  </span>
<span id="cb11-91"><a href="#cb11-91"></a>                  <span class="st">"leaflet output here"</span></span>
<span id="cb11-92"><a href="#cb11-92"></a>                  </span>
<span id="cb11-93"><a href="#cb11-93"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb11-94"><a href="#cb11-94"></a>              </span>
<span id="cb11-95"><a href="#cb11-95"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb11-96"><a href="#cb11-96"></a>            </span>
<span id="cb11-97"><a href="#cb11-97"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb11-98"><a href="#cb11-98"></a>    </span>
<span id="cb11-99"><a href="#cb11-99"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb11-100"><a href="#cb11-100"></a>  </span>
<span id="cb11-101"><a href="#cb11-101"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb11-102"><a href="#cb11-102"></a></span>
<span id="cb11-103"><a href="#cb11-103"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb11-104"><a href="#cb11-104"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="import-data" class="slide level2" data-menu-title="Read in data">
<h2></h2>
<p><span class="slide-title3">Read data into <code>global.R</code> &amp; add necessary packages</span></p>
<hr>
<p class="body-text">
Remember to load your <em>pre-processed</em> data, which should live in the <code>data/</code> folder within your app’s directory.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/global.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb12" data-code-line-numbers="4-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="fu">library</span>(shinydashboard)</span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="fu">library</span>(shinycssloaders)</span>
<span id="cb12-7"><a href="#cb12-7"></a></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co"># READ IN DATA ----</span></span>
<span id="cb12-9"><a href="#cb12-9"></a>lake_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/lake_data_processed.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="fragment">
<p><br></p>
<p><span class="teal-text"><strong>Some important notes:</strong></span></p>
<ul>
<li><span class="body-text-s"><strong>Avoid using <code>here::here()</code> in your shiny apps</strong>, as it can cause some unexpected issues (read more about it in <a href="https://community.rstudio.com/t/using-here-here-or-similar-with-shiny/45505">this discussion</a>)</span></li>
<li><span class="body-text-s">The <strong>file path</strong> specified for reading in our data <strong>is relative</strong> to the app files (<code>ui.R</code>, <code>server.R</code>). It’s important to note, however, that you won’t be able to run your code line-by-line (like in a typical script; the file path won’t be recognized) – this is expected!.</span></li>
</ul>
</div>
</section>
<section id="add-sliderInput-leafletMap" class="slide level2" data-menu-title="Add Widget &amp; Leaflet Map">
<h2></h2>
<p><span class="slide-title2">Add a <code>sliderInput</code> &amp; <code>leafletOutput</code> to the UI</span></p>
<hr>
<p class="body-text-s">
Start by adding just one <code>sliderInput</code> (for selecting a range of lake <code>Elevation</code>s) to the left-hand box in the <strong>dashboard</strong> tab. Then, add a <code>leafletOutput</code> to create a placeholder space for our map, along with a Spinner animation (from the <code>{shinycssloaders}</code> package). While we’re here, we can also add <code>title</code>s to each box.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="84-89|96-100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb13-3"><a href="#cb13-3"></a>  </span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>  </span>
<span id="cb13-8"><a href="#cb13-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb13-9"><a href="#cb13-9"></a></span>
<span id="cb13-10"><a href="#cb13-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb13-11"><a href="#cb13-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb13-12"><a href="#cb13-12"></a>  </span>
<span id="cb13-13"><a href="#cb13-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb13-14"><a href="#cb13-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb13-15"><a href="#cb13-15"></a></span>
<span id="cb13-16"><a href="#cb13-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb13-17"><a href="#cb13-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb13-18"><a href="#cb13-18"></a></span>
<span id="cb13-19"><a href="#cb13-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb13-20"><a href="#cb13-20"></a></span>
<span id="cb13-21"><a href="#cb13-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb13-22"><a href="#cb13-22"></a></span>
<span id="cb13-23"><a href="#cb13-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb13-24"><a href="#cb13-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb13-25"><a href="#cb13-25"></a>  </span>
<span id="cb13-26"><a href="#cb13-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb13-27"><a href="#cb13-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb13-28"><a href="#cb13-28"></a></span>
<span id="cb13-29"><a href="#cb13-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb13-30"><a href="#cb13-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb13-31"><a href="#cb13-31"></a></span>
<span id="cb13-32"><a href="#cb13-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb13-33"><a href="#cb13-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb13-34"><a href="#cb13-34"></a></span>
<span id="cb13-35"><a href="#cb13-35"></a>                   <span class="co"># background box ----</span></span>
<span id="cb13-36"><a href="#cb13-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb13-37"><a href="#cb13-37"></a>                       </span>
<span id="cb13-38"><a href="#cb13-38"></a>                       <span class="st">"background info here"</span></span>
<span id="cb13-39"><a href="#cb13-39"></a></span>
<span id="cb13-40"><a href="#cb13-40"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> background box</span></span>
<span id="cb13-41"><a href="#cb13-41"></a></span>
<span id="cb13-42"><a href="#cb13-42"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb13-43"><a href="#cb13-43"></a></span>
<span id="cb13-44"><a href="#cb13-44"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb13-45"><a href="#cb13-45"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb13-46"><a href="#cb13-46"></a></span>
<span id="cb13-47"><a href="#cb13-47"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb13-48"><a href="#cb13-48"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb13-49"><a href="#cb13-49"></a></span>
<span id="cb13-50"><a href="#cb13-50"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb13-51"><a href="#cb13-51"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb13-52"><a href="#cb13-52"></a>                         </span>
<span id="cb13-53"><a href="#cb13-53"></a>                         <span class="st">"data citation here"</span></span>
<span id="cb13-54"><a href="#cb13-54"></a></span>
<span id="cb13-55"><a href="#cb13-55"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb13-56"><a href="#cb13-56"></a></span>
<span id="cb13-57"><a href="#cb13-57"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb13-58"><a href="#cb13-58"></a></span>
<span id="cb13-59"><a href="#cb13-59"></a>                   <span class="co"># second fluidRow ----</span></span>
<span id="cb13-60"><a href="#cb13-60"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb13-61"><a href="#cb13-61"></a></span>
<span id="cb13-62"><a href="#cb13-62"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb13-63"><a href="#cb13-63"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb13-64"><a href="#cb13-64"></a>                         </span>
<span id="cb13-65"><a href="#cb13-65"></a>                         <span class="st">"disclaimer here"</span></span>
<span id="cb13-66"><a href="#cb13-66"></a></span>
<span id="cb13-67"><a href="#cb13-67"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb13-68"><a href="#cb13-68"></a></span>
<span id="cb13-69"><a href="#cb13-69"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb13-70"><a href="#cb13-70"></a></span>
<span id="cb13-71"><a href="#cb13-71"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb13-72"><a href="#cb13-72"></a></span>
<span id="cb13-73"><a href="#cb13-73"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb13-74"><a href="#cb13-74"></a></span>
<span id="cb13-75"><a href="#cb13-75"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb13-76"><a href="#cb13-76"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb13-77"><a href="#cb13-77"></a></span>
<span id="cb13-78"><a href="#cb13-78"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb13-79"><a href="#cb13-79"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb13-80"><a href="#cb13-80"></a></span>
<span id="cb13-81"><a href="#cb13-81"></a>              <span class="co"># input box ----</span></span>
<span id="cb13-82"><a href="#cb13-82"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb13-83"><a href="#cb13-83"></a>                  </span>
<span id="cb13-84"><a href="#cb13-84"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb13-85"><a href="#cb13-85"></a></span>
<span id="cb13-86"><a href="#cb13-86"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb13-87"><a href="#cb13-87"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider_input"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb13-88"><a href="#cb13-88"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb13-89"><a href="#cb13-89"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation)))</span>
<span id="cb13-90"><a href="#cb13-90"></a></span>
<span id="cb13-91"><a href="#cb13-91"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb13-92"><a href="#cb13-92"></a></span>
<span id="cb13-93"><a href="#cb13-93"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb13-94"><a href="#cb13-94"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb13-95"><a href="#cb13-95"></a></span>
<span id="cb13-96"><a href="#cb13-96"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb13-97"><a href="#cb13-97"></a></span>
<span id="cb13-98"><a href="#cb13-98"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb13-99"><a href="#cb13-99"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map_output"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-100"><a href="#cb13-100"></a>                    <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb13-101"><a href="#cb13-101"></a></span>
<span id="cb13-102"><a href="#cb13-102"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb13-103"><a href="#cb13-103"></a></span>
<span id="cb13-104"><a href="#cb13-104"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb13-105"><a href="#cb13-105"></a></span>
<span id="cb13-106"><a href="#cb13-106"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb13-107"><a href="#cb13-107"></a></span>
<span id="cb13-108"><a href="#cb13-108"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb13-109"><a href="#cb13-109"></a>  </span>
<span id="cb13-110"><a href="#cb13-110"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb13-111"><a href="#cb13-111"></a></span>
<span id="cb13-112"><a href="#cb13-112"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb13-113"><a href="#cb13-113"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="build-map-server" class="slide level2" data-menu-title="Build map in server.R">
<h2></h2>
<p><span class="slide-title2">Assemble inputs &amp; outputs in <code>server.R</code></span></p>
<hr>
<p class="body-text-s">
Remember to reference your practice data viz script and to follow our three steps for creating reactive outputs. And don’t forget to add <code>()</code> following each reactive data frame called in your leaflet map!
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/server.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="3-36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb14-2"><a href="#cb14-2"></a>  </span>
<span id="cb14-3"><a href="#cb14-3"></a>  <span class="co"># filter lake data ----</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>  filtered_lakes_df <span class="ot">&lt;-</span> <span class="fu">reactive</span> ({</span>
<span id="cb14-5"><a href="#cb14-5"></a>    </span>
<span id="cb14-6"><a href="#cb14-6"></a>    lake_data <span class="sc">|&gt;</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>      <span class="fu">filter</span>(Elevation <span class="sc">&gt;=</span> input<span class="sc">$</span>elevation_slider_input[<span class="dv">1</span>] <span class="sc">&amp;</span> Elevation <span class="sc">&lt;=</span> input<span class="sc">$</span>elevation_slider_input[<span class="dv">2</span>])</span>
<span id="cb14-8"><a href="#cb14-8"></a>    </span>
<span id="cb14-9"><a href="#cb14-9"></a>  })</span>
<span id="cb14-10"><a href="#cb14-10"></a>  </span>
<span id="cb14-11"><a href="#cb14-11"></a>  </span>
<span id="cb14-12"><a href="#cb14-12"></a>  </span>
<span id="cb14-13"><a href="#cb14-13"></a>  <span class="co"># build leaflet map ----</span></span>
<span id="cb14-14"><a href="#cb14-14"></a>  output<span class="sc">$</span>lake_map_output <span class="ot">&lt;-</span> <span class="fu">renderLeaflet</span>({</span>
<span id="cb14-15"><a href="#cb14-15"></a>    </span>
<span id="cb14-16"><a href="#cb14-16"></a>    <span class="fu">leaflet</span>() <span class="sc">|&gt;</span></span>
<span id="cb14-17"><a href="#cb14-17"></a>      </span>
<span id="cb14-18"><a href="#cb14-18"></a>      <span class="co"># add tiles</span></span>
<span id="cb14-19"><a href="#cb14-19"></a>      <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>Esri.WorldImagery) <span class="sc">|&gt;</span></span>
<span id="cb14-20"><a href="#cb14-20"></a>      </span>
<span id="cb14-21"><a href="#cb14-21"></a>      <span class="co"># set view over AK</span></span>
<span id="cb14-22"><a href="#cb14-22"></a>      <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">152.048442</span>, <span class="at">lat =</span> <span class="fl">70.249234</span>, <span class="at">zoom =</span> <span class="dv">6</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-23"><a href="#cb14-23"></a>      </span>
<span id="cb14-24"><a href="#cb14-24"></a>      <span class="co"># add mini map</span></span>
<span id="cb14-25"><a href="#cb14-25"></a>      <span class="fu">addMiniMap</span>(<span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>, <span class="at">minimized =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb14-26"><a href="#cb14-26"></a>      </span>
<span id="cb14-27"><a href="#cb14-27"></a>      <span class="co"># add markers</span></span>
<span id="cb14-28"><a href="#cb14-28"></a>      <span class="fu">addMarkers</span>(<span class="at">data =</span>  <span class="fu">filtered_lakes_df</span>(),</span>
<span id="cb14-29"><a href="#cb14-29"></a>                 <span class="at">lng =</span> <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Longitude, <span class="at">lat =</span> <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Latitude,</span>
<span id="cb14-30"><a href="#cb14-30"></a>                 <span class="at">popup =</span> <span class="fu">paste</span>(<span class="st">"Site Name:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Site, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb14-31"><a href="#cb14-31"></a>                               <span class="st">"Elevation:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Elevation, <span class="st">"meters (above SL)"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb14-32"><a href="#cb14-32"></a>                               <span class="st">"Avg Depth:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>AvgDepth, <span class="st">"meters"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb14-33"><a href="#cb14-33"></a>                               <span class="st">"Avg Lake Bed Temperature:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>AvgTemp, <span class="st">"deg Celsius"</span>))</span>
<span id="cb14-34"><a href="#cb14-34"></a>    </span>
<span id="cb14-35"><a href="#cb14-35"></a>  })</span>
<span id="cb14-36"><a href="#cb14-36"></a>  </span>
<span id="cb14-37"><a href="#cb14-37"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="working-elev-widget" class="slide level2" data-menu-title="Test Elevation Widget">
<h2></h2>
<p><span class="slide-title2">Run your app &amp; test out your first widget</span></p>
<hr>
<p>If all is good, you should see something similar to this:</p>

<img data-src="images/part3/elev_widget.gif" style="width:100.0%" alt="Our Fish Creek Watershed Lake Monitoring dashboard. The 'Welcome' page has a box on the left for background info, and two stacked boxes on the right for data citation and disclaimer info. The 'Dashboard' tab has a sliderInput in the left-hand box, where users can select a range of elevations. When a range is selected, the blue markers on the leaflet map in the right-hand box are filtered accordingly. Clicking on the markers reveals more information about the specific site, including Site Name, Elevation, Avg Depth, and AvgTemp." class="r-stretch quarto-figure-center"></section>
<section id="exercise5-prompt" class="slide level2" data-menu-title="** Exercise 5 Prompt **" data-background="#d2e3f3">
<h2></h2>
<p><span class="slide-title3"><i class="fa-solid fa-question" title="question mark" aria-label="question"></i> Exercise 5: Add two more <code>sliderInput</code>s to filter for <code>AvgDepth</code> &amp; <code>AvgTemp</code></span></p>
<hr>
<p><br></p>
<p><span class="body-text-m"><strong>To Do:</strong></span></p>
<p><br></p>
<p><span class="body-text-s"><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Add two more <code>sliderInput</code>s, one for <code>AvgDepth</code> and one for <code>AvgTemp</code> beneath our first Elevation <code>sliderInput</code> in the UI</span></p>
<p><span class="body-text-s"><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Update our reactive data frame so that all three widgets filter the leaflet map</span></p>
<p><br> <br> <br> <br> <br> <br></p>
<div class="center-text body-text-l teal-text">
<p>See next slide for a solution!</p>
</div>
</section>
<section id="exercise5-solution" class="slide level2" data-menu-title="** Exercise 5 Solution **" data-background="#d2e3f3">
<h2></h2>
<p><span class="slide-title"><i class="fa-solid fa-check" title="check mark" aria-label="check"></i> Exercise 5: A solution</span></p>
<hr>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1"><code>ui.R</code></a></li><li><a href="#tabset-4-2"><code>server.R</code></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="91-97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb15-3"><a href="#cb15-3"></a>  </span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>  </span>
<span id="cb15-8"><a href="#cb15-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb15-9"><a href="#cb15-9"></a></span>
<span id="cb15-10"><a href="#cb15-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb15-11"><a href="#cb15-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb15-12"><a href="#cb15-12"></a>  </span>
<span id="cb15-13"><a href="#cb15-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb15-14"><a href="#cb15-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb15-15"><a href="#cb15-15"></a></span>
<span id="cb15-16"><a href="#cb15-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb15-17"><a href="#cb15-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb15-18"><a href="#cb15-18"></a></span>
<span id="cb15-19"><a href="#cb15-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb15-20"><a href="#cb15-20"></a></span>
<span id="cb15-21"><a href="#cb15-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb15-22"><a href="#cb15-22"></a></span>
<span id="cb15-23"><a href="#cb15-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb15-24"><a href="#cb15-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb15-25"><a href="#cb15-25"></a>  </span>
<span id="cb15-26"><a href="#cb15-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb15-27"><a href="#cb15-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb15-28"><a href="#cb15-28"></a></span>
<span id="cb15-29"><a href="#cb15-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb15-30"><a href="#cb15-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb15-31"><a href="#cb15-31"></a></span>
<span id="cb15-32"><a href="#cb15-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb15-33"><a href="#cb15-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb15-34"><a href="#cb15-34"></a></span>
<span id="cb15-35"><a href="#cb15-35"></a>                   <span class="co"># background box ----</span></span>
<span id="cb15-36"><a href="#cb15-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb15-37"><a href="#cb15-37"></a>                       </span>
<span id="cb15-38"><a href="#cb15-38"></a>                       <span class="st">"background info here"</span></span>
<span id="cb15-39"><a href="#cb15-39"></a></span>
<span id="cb15-40"><a href="#cb15-40"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> background box</span></span>
<span id="cb15-41"><a href="#cb15-41"></a></span>
<span id="cb15-42"><a href="#cb15-42"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb15-43"><a href="#cb15-43"></a></span>
<span id="cb15-44"><a href="#cb15-44"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb15-45"><a href="#cb15-45"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb15-46"><a href="#cb15-46"></a></span>
<span id="cb15-47"><a href="#cb15-47"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb15-48"><a href="#cb15-48"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb15-49"><a href="#cb15-49"></a></span>
<span id="cb15-50"><a href="#cb15-50"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb15-51"><a href="#cb15-51"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb15-52"><a href="#cb15-52"></a>                         </span>
<span id="cb15-53"><a href="#cb15-53"></a>                         <span class="st">"data citation here"</span></span>
<span id="cb15-54"><a href="#cb15-54"></a></span>
<span id="cb15-55"><a href="#cb15-55"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb15-56"><a href="#cb15-56"></a></span>
<span id="cb15-57"><a href="#cb15-57"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb15-58"><a href="#cb15-58"></a></span>
<span id="cb15-59"><a href="#cb15-59"></a>                   <span class="co"># second fluidRow ----</span></span>
<span id="cb15-60"><a href="#cb15-60"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb15-61"><a href="#cb15-61"></a></span>
<span id="cb15-62"><a href="#cb15-62"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb15-63"><a href="#cb15-63"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb15-64"><a href="#cb15-64"></a>                         </span>
<span id="cb15-65"><a href="#cb15-65"></a>                         <span class="st">"disclaimer here"</span></span>
<span id="cb15-66"><a href="#cb15-66"></a>                         </span>
<span id="cb15-67"><a href="#cb15-67"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb15-68"><a href="#cb15-68"></a></span>
<span id="cb15-69"><a href="#cb15-69"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb15-70"><a href="#cb15-70"></a></span>
<span id="cb15-71"><a href="#cb15-71"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb15-72"><a href="#cb15-72"></a></span>
<span id="cb15-73"><a href="#cb15-73"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb15-74"><a href="#cb15-74"></a></span>
<span id="cb15-75"><a href="#cb15-75"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb15-76"><a href="#cb15-76"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb15-77"><a href="#cb15-77"></a></span>
<span id="cb15-78"><a href="#cb15-78"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb15-79"><a href="#cb15-79"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb15-80"><a href="#cb15-80"></a></span>
<span id="cb15-81"><a href="#cb15-81"></a>              <span class="co"># input box ----</span></span>
<span id="cb15-82"><a href="#cb15-82"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb15-83"><a href="#cb15-83"></a>                  </span>
<span id="cb15-84"><a href="#cb15-84"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb15-85"><a href="#cb15-85"></a></span>
<span id="cb15-86"><a href="#cb15-86"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb15-87"><a href="#cb15-87"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider_input"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb15-88"><a href="#cb15-88"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb15-89"><a href="#cb15-89"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation))),</span>
<span id="cb15-90"><a href="#cb15-90"></a></span>
<span id="cb15-91"><a href="#cb15-91"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"depth_slider_input"</span>, <span class="at">label =</span> <span class="st">"Average depth (meters):"</span>,</span>
<span id="cb15-92"><a href="#cb15-92"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth),</span>
<span id="cb15-93"><a href="#cb15-93"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth))),</span>
<span id="cb15-94"><a href="#cb15-94"></a></span>
<span id="cb15-95"><a href="#cb15-95"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"temp_slider_input"</span>, <span class="at">label =</span> <span class="st">"Average lake bed temperature (degrees C):"</span>,</span>
<span id="cb15-96"><a href="#cb15-96"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp),</span>
<span id="cb15-97"><a href="#cb15-97"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp)))</span>
<span id="cb15-98"><a href="#cb15-98"></a></span>
<span id="cb15-99"><a href="#cb15-99"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb15-100"><a href="#cb15-100"></a></span>
<span id="cb15-101"><a href="#cb15-101"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb15-102"><a href="#cb15-102"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb15-103"><a href="#cb15-103"></a></span>
<span id="cb15-104"><a href="#cb15-104"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb15-105"><a href="#cb15-105"></a></span>
<span id="cb15-106"><a href="#cb15-106"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb15-107"><a href="#cb15-107"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map_output"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb15-108"><a href="#cb15-108"></a>                    <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb15-109"><a href="#cb15-109"></a></span>
<span id="cb15-110"><a href="#cb15-110"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb15-111"><a href="#cb15-111"></a></span>
<span id="cb15-112"><a href="#cb15-112"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb15-113"><a href="#cb15-113"></a></span>
<span id="cb15-114"><a href="#cb15-114"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb15-115"><a href="#cb15-115"></a></span>
<span id="cb15-116"><a href="#cb15-116"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb15-117"><a href="#cb15-117"></a>  </span>
<span id="cb15-118"><a href="#cb15-118"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb15-119"><a href="#cb15-119"></a></span>
<span id="cb15-120"><a href="#cb15-120"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb15-121"><a href="#cb15-121"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/server.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb16" data-code-line-numbers="8-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb16-2"><a href="#cb16-2"></a>  </span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="co"># filter lake data ----</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  filtered_lakes_df <span class="ot">&lt;-</span> <span class="fu">reactive</span> ({</span>
<span id="cb16-5"><a href="#cb16-5"></a>    </span>
<span id="cb16-6"><a href="#cb16-6"></a>    lake_data <span class="sc">|&gt;</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>      <span class="fu">filter</span>(Elevation <span class="sc">&gt;=</span> input<span class="sc">$</span>elevation_slider_input[<span class="dv">1</span>] <span class="sc">&amp;</span> Elevation <span class="sc">&lt;=</span> input<span class="sc">$</span>elevation_slider_input[<span class="dv">2</span>])  <span class="sc">|&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>      <span class="fu">filter</span>(AvgDepth <span class="sc">&gt;=</span> input<span class="sc">$</span>depth_slider_input[<span class="dv">1</span>] <span class="sc">&amp;</span> AvgDepth <span class="sc">&lt;=</span> input<span class="sc">$</span>depth_slider_input[<span class="dv">2</span>]) <span class="sc">|&gt;</span></span>
<span id="cb16-9"><a href="#cb16-9"></a>      <span class="fu">filter</span>(AvgTemp <span class="sc">&gt;=</span> input<span class="sc">$</span>temp_slider_input[<span class="dv">1</span>] <span class="sc">&amp;</span> AvgTemp <span class="sc">&lt;=</span> input<span class="sc">$</span>temp_slider_input[<span class="dv">2</span>])</span>
<span id="cb16-10"><a href="#cb16-10"></a>    </span>
<span id="cb16-11"><a href="#cb16-11"></a>  })</span>
<span id="cb16-12"><a href="#cb16-12"></a>  </span>
<span id="cb16-13"><a href="#cb16-13"></a>  </span>
<span id="cb16-14"><a href="#cb16-14"></a>  </span>
<span id="cb16-15"><a href="#cb16-15"></a>  <span class="co"># build leaflet map ----</span></span>
<span id="cb16-16"><a href="#cb16-16"></a>  output<span class="sc">$</span>lake_map_output <span class="ot">&lt;-</span> <span class="fu">renderLeaflet</span>({</span>
<span id="cb16-17"><a href="#cb16-17"></a>    </span>
<span id="cb16-18"><a href="#cb16-18"></a>    <span class="fu">leaflet</span>() <span class="sc">|&gt;</span></span>
<span id="cb16-19"><a href="#cb16-19"></a>      </span>
<span id="cb16-20"><a href="#cb16-20"></a>      <span class="co"># add tiles</span></span>
<span id="cb16-21"><a href="#cb16-21"></a>      <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>Esri.WorldImagery) <span class="sc">|&gt;</span></span>
<span id="cb16-22"><a href="#cb16-22"></a>      </span>
<span id="cb16-23"><a href="#cb16-23"></a>      <span class="co"># set view over AK</span></span>
<span id="cb16-24"><a href="#cb16-24"></a>      <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">152.048442</span>, <span class="at">lat =</span> <span class="fl">70.249234</span>, <span class="at">zoom =</span> <span class="dv">6</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-25"><a href="#cb16-25"></a>      </span>
<span id="cb16-26"><a href="#cb16-26"></a>      <span class="co"># add mini map</span></span>
<span id="cb16-27"><a href="#cb16-27"></a>      <span class="fu">addMiniMap</span>(<span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>, <span class="at">minimized =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-28"><a href="#cb16-28"></a>      </span>
<span id="cb16-29"><a href="#cb16-29"></a>      <span class="co"># add markers</span></span>
<span id="cb16-30"><a href="#cb16-30"></a>      <span class="fu">addMarkers</span>(<span class="at">data =</span>  <span class="fu">filtered_lakes_df</span>(),</span>
<span id="cb16-31"><a href="#cb16-31"></a>                 <span class="at">lng =</span> <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Longitude, <span class="at">lat =</span> <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Latitude,</span>
<span id="cb16-32"><a href="#cb16-32"></a>                 <span class="at">popup =</span> <span class="fu">paste</span>(<span class="st">"Site Name:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Site, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb16-33"><a href="#cb16-33"></a>                               <span class="st">"Elevation:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Elevation, <span class="st">"meters (above SL)"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb16-34"><a href="#cb16-34"></a>                               <span class="st">"Avg Depth:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>AvgDepth, <span class="st">"meters"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb16-35"><a href="#cb16-35"></a>                               <span class="st">"Avg Lake Bed Temperature:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>AvgTemp, <span class="st">"deg Celsius"</span>))</span>
<span id="cb16-36"><a href="#cb16-36"></a>    </span>
<span id="cb16-37"><a href="#cb16-37"></a>  })</span>
<span id="cb16-38"><a href="#cb16-38"></a>  </span>
<span id="cb16-39"><a href="#cb16-39"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="exercise6-prompt-tips" class="slide level2" data-menu-title="** Exercise 6 Prompt &amp; Tips **" data-background="#d2e3f3">
<h2></h2>
<p><span class="slide-title2"><i class="fa-solid fa-question" title="question mark" aria-label="question"></i> &amp; <i class="fa-solid fa-lightbulb" title="a lightbulb" aria-label="lightbulb"></i> Exercise 6: Add titles &amp; text to Welcome page boxes</span></p>
<hr>
<p><span class="body-text-m"><strong>To Do:</strong></span></p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Add titles to each box on the <strong>Welcome</strong> page
</p>
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Create a <code>text/</code> folder within your app’s directory and add three markdown (<code>.md</code>) files. Write / format text for the background info (left), data citation (top-right), and disclaimer (bottom-right) boxes. Example text below:
</p>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1"><code>intro.md</code></a></li><li><a href="#tabset-5-2"><code>citation.md</code></a></li><li><a href="#tabset-5-3"><code>disclaimer.md</code></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/text/intro.md</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1"></a>The <span class="co">[</span><span class="ot">Fish Creek Watershed Observatory (FCWO)</span><span class="co">](http://www.fishcreekwatershed.org/)</span> is a focal watershed within the <span class="co">[</span><span class="ot">National Petroleum Reserve in Alaska (NPR-A)</span><span class="co">](https://www.blm.gov/programs/energy-and-minerals/oil-and-gas/about/alaska/NPR-A)</span>. Targeted lake and stream monitoring within the watershed provide site-specific data prior to and after the establishment of new petroleum development, as well as insight into dynamics related to climate change and variability. Eleven lakes of interest (Harry Potter, Hipbone, Iceshove, L9817, L9819, L9820, Little Alaska, Lower Snowman, M9925, Middle Snowman, and Serenity) are featured in this dashboard.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-5-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/text/citation.md</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb18-1"><a href="#cb18-1"></a>Data presented in this dashboard were collected as part of the <span class="co">[</span><span class="ot">Fish Creek Watershed Observatory</span><span class="co">](http://www.fishcreekwatershed.org/)</span> are archived and publicly accessible on the NSF <span class="co">[</span><span class="ot">Arctic Data Center</span><span class="co">](https://arcticdata.io/)</span>. **Citation:** </span>
<span id="cb18-2"><a href="#cb18-2"></a></span>
<span id="cb18-3"><a href="#cb18-3"></a>*Christopher Arp, Matthew Whitman, Katie Drew, and Allen Bondurant. 2022. Water depth, surface elevation, and water temperature of lakes in the Fish Creek Watershed in northern Alaska, USA, 2011-2022. Arctic Data Center [doi:10.18739/A2JH3D41P](https://arcticdata.io/catalog/view/doi%3A10.18739%2FA2JH3D41P).*</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-5-3">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/text/disclaimer.md</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb19-1"><a href="#cb19-1"></a>This app is build for demonstration/teaching purposes only and is not paid for or endorsed by the Fish Creek Watershed Observatory or affiliates in any way. The data as presented here are not intended for publication nor scientific interpretation. </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
<p><br></p>
<p><span class="body-text-m"><strong>Tips:</strong></span></p>
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Titles can include icons! For example: <code>title = tagList(icon("icon-name"), strong("title text here"))</code>
</p>
</section>
<section id="exercise6-solution" class="slide level2" data-menu-title="** Exercise 6 Solution **" data-background="#d2e3f3">
<h2></h2>
<p><span class="slide-title2"><i class="fa-solid fa-check" title="check mark" aria-label="check"></i> Exercise 6: A solution</span></p>
<hr>
<p class="body-text-s">
Press the right arrow key to advance through the newly added lines of code.
</p>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1"><code>global.R</code></a></li><li><a href="#tabset-6-2"><code>ui.R</code></a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/global.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb20" data-code-line-numbers="7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="fu">library</span>(shinydashboard)</span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb20-6"><a href="#cb20-6"></a><span class="fu">library</span>(shinycssloaders)</span>
<span id="cb20-7"><a href="#cb20-7"></a><span class="fu">library</span>(markdown)</span>
<span id="cb20-8"><a href="#cb20-8"></a></span>
<span id="cb20-9"><a href="#cb20-9"></a><span class="co"># READ IN DATA ----</span></span>
<span id="cb20-10"><a href="#cb20-10"></a>lake_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/lake_data_processed.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-6-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="38-39|54-55|67-68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb21-3"><a href="#cb21-3"></a>  </span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>  </span>
<span id="cb21-8"><a href="#cb21-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb21-9"><a href="#cb21-9"></a></span>
<span id="cb21-10"><a href="#cb21-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb21-11"><a href="#cb21-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb21-12"><a href="#cb21-12"></a>  </span>
<span id="cb21-13"><a href="#cb21-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb21-14"><a href="#cb21-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb21-15"><a href="#cb21-15"></a></span>
<span id="cb21-16"><a href="#cb21-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb21-17"><a href="#cb21-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb21-18"><a href="#cb21-18"></a></span>
<span id="cb21-19"><a href="#cb21-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb21-20"><a href="#cb21-20"></a></span>
<span id="cb21-21"><a href="#cb21-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb21-22"><a href="#cb21-22"></a></span>
<span id="cb21-23"><a href="#cb21-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb21-24"><a href="#cb21-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb21-25"><a href="#cb21-25"></a>  </span>
<span id="cb21-26"><a href="#cb21-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb21-27"><a href="#cb21-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb21-28"><a href="#cb21-28"></a></span>
<span id="cb21-29"><a href="#cb21-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb21-30"><a href="#cb21-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb21-31"><a href="#cb21-31"></a></span>
<span id="cb21-32"><a href="#cb21-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb21-33"><a href="#cb21-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb21-34"><a href="#cb21-34"></a></span>
<span id="cb21-35"><a href="#cb21-35"></a>                   <span class="co"># background box ----</span></span>
<span id="cb21-36"><a href="#cb21-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-37"><a href="#cb21-37"></a>                       </span>
<span id="cb21-38"><a href="#cb21-38"></a>                       <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"water"</span>), <span class="fu">strong</span>(<span class="st">"Monitoring Fish Creek Watershed"</span>)),</span>
<span id="cb21-39"><a href="#cb21-39"></a>                       <span class="fu">includeMarkdown</span>(<span class="st">"text/intro.md"</span>)</span>
<span id="cb21-40"><a href="#cb21-40"></a></span>
<span id="cb21-41"><a href="#cb21-41"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> background box</span></span>
<span id="cb21-42"><a href="#cb21-42"></a></span>
<span id="cb21-43"><a href="#cb21-43"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb21-44"><a href="#cb21-44"></a></span>
<span id="cb21-45"><a href="#cb21-45"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb21-46"><a href="#cb21-46"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb21-47"><a href="#cb21-47"></a></span>
<span id="cb21-48"><a href="#cb21-48"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb21-49"><a href="#cb21-49"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb21-50"><a href="#cb21-50"></a></span>
<span id="cb21-51"><a href="#cb21-51"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb21-52"><a href="#cb21-52"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-53"><a href="#cb21-53"></a>                         </span>
<span id="cb21-54"><a href="#cb21-54"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"table"</span>), <span class="fu">strong</span>(<span class="st">"Data Source"</span>)),</span>
<span id="cb21-55"><a href="#cb21-55"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/citation.md"</span>)</span>
<span id="cb21-56"><a href="#cb21-56"></a></span>
<span id="cb21-57"><a href="#cb21-57"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb21-58"><a href="#cb21-58"></a></span>
<span id="cb21-59"><a href="#cb21-59"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb21-60"><a href="#cb21-60"></a></span>
<span id="cb21-61"><a href="#cb21-61"></a>                   <span class="co"># second fluidRow ----</span></span>
<span id="cb21-62"><a href="#cb21-62"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb21-63"><a href="#cb21-63"></a></span>
<span id="cb21-64"><a href="#cb21-64"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb21-65"><a href="#cb21-65"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb21-66"><a href="#cb21-66"></a></span>
<span id="cb21-67"><a href="#cb21-67"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"triangle-exclamation"</span>), <span class="fu">strong</span>(<span class="st">"Disclaimer"</span>)),</span>
<span id="cb21-68"><a href="#cb21-68"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/disclaimer.md"</span>)</span>
<span id="cb21-69"><a href="#cb21-69"></a></span>
<span id="cb21-70"><a href="#cb21-70"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb21-71"><a href="#cb21-71"></a></span>
<span id="cb21-72"><a href="#cb21-72"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb21-73"><a href="#cb21-73"></a></span>
<span id="cb21-74"><a href="#cb21-74"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb21-75"><a href="#cb21-75"></a></span>
<span id="cb21-76"><a href="#cb21-76"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb21-77"><a href="#cb21-77"></a></span>
<span id="cb21-78"><a href="#cb21-78"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb21-79"><a href="#cb21-79"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb21-80"><a href="#cb21-80"></a></span>
<span id="cb21-81"><a href="#cb21-81"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb21-82"><a href="#cb21-82"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb21-83"><a href="#cb21-83"></a></span>
<span id="cb21-84"><a href="#cb21-84"></a>              <span class="co"># input box ----</span></span>
<span id="cb21-85"><a href="#cb21-85"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb21-86"><a href="#cb21-86"></a>                  </span>
<span id="cb21-87"><a href="#cb21-87"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb21-88"><a href="#cb21-88"></a></span>
<span id="cb21-89"><a href="#cb21-89"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb21-90"><a href="#cb21-90"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb21-91"><a href="#cb21-91"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb21-92"><a href="#cb21-92"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation))),</span>
<span id="cb21-93"><a href="#cb21-93"></a></span>
<span id="cb21-94"><a href="#cb21-94"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"depth_slider"</span>, <span class="at">label =</span> <span class="st">"Average depth (meters):"</span>,</span>
<span id="cb21-95"><a href="#cb21-95"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth),</span>
<span id="cb21-96"><a href="#cb21-96"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth))),</span>
<span id="cb21-97"><a href="#cb21-97"></a></span>
<span id="cb21-98"><a href="#cb21-98"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"temp_slider"</span>, <span class="at">label =</span> <span class="st">"Average lake bed temperature (degrees C):"</span>,</span>
<span id="cb21-99"><a href="#cb21-99"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp),</span>
<span id="cb21-100"><a href="#cb21-100"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp)))</span>
<span id="cb21-101"><a href="#cb21-101"></a></span>
<span id="cb21-102"><a href="#cb21-102"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb21-103"><a href="#cb21-103"></a></span>
<span id="cb21-104"><a href="#cb21-104"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb21-105"><a href="#cb21-105"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb21-106"><a href="#cb21-106"></a></span>
<span id="cb21-107"><a href="#cb21-107"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb21-108"><a href="#cb21-108"></a></span>
<span id="cb21-109"><a href="#cb21-109"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb21-110"><a href="#cb21-110"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map"</span>) <span class="sc">|&gt;</span> <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb21-111"><a href="#cb21-111"></a></span>
<span id="cb21-112"><a href="#cb21-112"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb21-113"><a href="#cb21-113"></a></span>
<span id="cb21-114"><a href="#cb21-114"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb21-115"><a href="#cb21-115"></a></span>
<span id="cb21-116"><a href="#cb21-116"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb21-117"><a href="#cb21-117"></a></span>
<span id="cb21-118"><a href="#cb21-118"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb21-119"><a href="#cb21-119"></a>  </span>
<span id="cb21-120"><a href="#cb21-120"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb21-121"><a href="#cb21-121"></a></span>
<span id="cb21-122"><a href="#cb21-122"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb21-123"><a href="#cb21-123"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="add-image" class="slide level2" data-menu-title="Add Static Image">
<h2></h2>
<p><span class="slide-title">Add a static image</span></p>
<hr>
<p class="body-text-s">
As a final touch, let’s add an image to the Welcome page, inside the left-hand box beneath our intro text. First, <strong>create a <code>www/</code> folder inside your app’s directory</strong> (refer back to <a href="https://ucsb-meds.github.io/EDS-430-Intro-to-Shiny/course-materials/slides/part1.2-setup-app-slides.html#/repo-structure">lecture 1.2</a> for a description of this special directory). Download the map of the Fish Creek Watershed from FCWO’s website <a href="http://www.fishcreekwatershed.org/images/FishCreekWatershedSiteMap_2020.jpg">here</a> and save it to your <code>www/</code> directory.
</p>
<p class="body-text-s">
Next, use the <code>img</code> tag to add your image. Supply a file path, relative to your <code>www/</code> directory, using the <code>src</code> argument, and add alt text using the <code>alt</code> argument.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/shinydashboard/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb22" data-code-line-numbers="40-41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb22-2"><a href="#cb22-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb22-3"><a href="#cb22-3"></a>  </span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb22-6"><a href="#cb22-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>  </span>
<span id="cb22-8"><a href="#cb22-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb22-9"><a href="#cb22-9"></a></span>
<span id="cb22-10"><a href="#cb22-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb22-11"><a href="#cb22-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb22-12"><a href="#cb22-12"></a>  </span>
<span id="cb22-13"><a href="#cb22-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb22-14"><a href="#cb22-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb22-15"><a href="#cb22-15"></a></span>
<span id="cb22-16"><a href="#cb22-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb22-17"><a href="#cb22-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb22-18"><a href="#cb22-18"></a></span>
<span id="cb22-19"><a href="#cb22-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb22-20"><a href="#cb22-20"></a></span>
<span id="cb22-21"><a href="#cb22-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb22-22"><a href="#cb22-22"></a></span>
<span id="cb22-23"><a href="#cb22-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb22-24"><a href="#cb22-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb22-25"><a href="#cb22-25"></a>  </span>
<span id="cb22-26"><a href="#cb22-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb22-27"><a href="#cb22-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb22-28"><a href="#cb22-28"></a></span>
<span id="cb22-29"><a href="#cb22-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb22-30"><a href="#cb22-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb22-31"><a href="#cb22-31"></a></span>
<span id="cb22-32"><a href="#cb22-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb22-33"><a href="#cb22-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb22-34"><a href="#cb22-34"></a></span>
<span id="cb22-35"><a href="#cb22-35"></a>                   <span class="co"># background box ----</span></span>
<span id="cb22-36"><a href="#cb22-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb22-37"><a href="#cb22-37"></a>                       </span>
<span id="cb22-38"><a href="#cb22-38"></a>                       <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"water"</span>), <span class="fu">strong</span>(<span class="st">"Monitoring Fish Creek Watershed"</span>)),</span>
<span id="cb22-39"><a href="#cb22-39"></a>                       <span class="fu">includeMarkdown</span>(<span class="st">"text/intro.md"</span>),</span>
<span id="cb22-40"><a href="#cb22-40"></a>                       tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"FishCreekWatershedSiteMap_2020.jpeg"</span>, </span>
<span id="cb22-41"><a href="#cb22-41"></a>                                <span class="at">alt =</span> <span class="st">"A map of Northern Alaska, showing Fish Creek Watershed located within the National Petroleum Reserve."</span>) </span>
<span id="cb22-42"><a href="#cb22-42"></a></span>
<span id="cb22-43"><a href="#cb22-43"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> background box</span></span>
<span id="cb22-44"><a href="#cb22-44"></a></span>
<span id="cb22-45"><a href="#cb22-45"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb22-46"><a href="#cb22-46"></a></span>
<span id="cb22-47"><a href="#cb22-47"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb22-48"><a href="#cb22-48"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb22-49"><a href="#cb22-49"></a></span>
<span id="cb22-50"><a href="#cb22-50"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb22-51"><a href="#cb22-51"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb22-52"><a href="#cb22-52"></a></span>
<span id="cb22-53"><a href="#cb22-53"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb22-54"><a href="#cb22-54"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb22-55"><a href="#cb22-55"></a>                         </span>
<span id="cb22-56"><a href="#cb22-56"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"table"</span>), <span class="fu">strong</span>(<span class="st">"Data Source"</span>)),</span>
<span id="cb22-57"><a href="#cb22-57"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/citation.md"</span>)</span>
<span id="cb22-58"><a href="#cb22-58"></a></span>
<span id="cb22-59"><a href="#cb22-59"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb22-60"><a href="#cb22-60"></a></span>
<span id="cb22-61"><a href="#cb22-61"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb22-62"><a href="#cb22-62"></a></span>
<span id="cb22-63"><a href="#cb22-63"></a>                   <span class="co"># second fluidRow ----</span></span>
<span id="cb22-64"><a href="#cb22-64"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb22-65"><a href="#cb22-65"></a></span>
<span id="cb22-66"><a href="#cb22-66"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb22-67"><a href="#cb22-67"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb22-68"><a href="#cb22-68"></a></span>
<span id="cb22-69"><a href="#cb22-69"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"triangle-exclamation"</span>), <span class="fu">strong</span>(<span class="st">"Disclaimer"</span>)),</span>
<span id="cb22-70"><a href="#cb22-70"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/disclaimer.md"</span>)</span>
<span id="cb22-71"><a href="#cb22-71"></a></span>
<span id="cb22-72"><a href="#cb22-72"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb22-73"><a href="#cb22-73"></a></span>
<span id="cb22-74"><a href="#cb22-74"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb22-75"><a href="#cb22-75"></a></span>
<span id="cb22-76"><a href="#cb22-76"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb22-77"><a href="#cb22-77"></a></span>
<span id="cb22-78"><a href="#cb22-78"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb22-79"><a href="#cb22-79"></a></span>
<span id="cb22-80"><a href="#cb22-80"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb22-81"><a href="#cb22-81"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb22-82"><a href="#cb22-82"></a></span>
<span id="cb22-83"><a href="#cb22-83"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb22-84"><a href="#cb22-84"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb22-85"><a href="#cb22-85"></a></span>
<span id="cb22-86"><a href="#cb22-86"></a>              <span class="co"># input box ----</span></span>
<span id="cb22-87"><a href="#cb22-87"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb22-88"><a href="#cb22-88"></a>                  </span>
<span id="cb22-89"><a href="#cb22-89"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb22-90"><a href="#cb22-90"></a></span>
<span id="cb22-91"><a href="#cb22-91"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb22-92"><a href="#cb22-92"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb22-93"><a href="#cb22-93"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb22-94"><a href="#cb22-94"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation))),</span>
<span id="cb22-95"><a href="#cb22-95"></a></span>
<span id="cb22-96"><a href="#cb22-96"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"depth_slider"</span>, <span class="at">label =</span> <span class="st">"Average depth (meters):"</span>,</span>
<span id="cb22-97"><a href="#cb22-97"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth),</span>
<span id="cb22-98"><a href="#cb22-98"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth))),</span>
<span id="cb22-99"><a href="#cb22-99"></a></span>
<span id="cb22-100"><a href="#cb22-100"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"temp_slider"</span>, <span class="at">label =</span> <span class="st">"Average lake bed temperature (degrees C):"</span>,</span>
<span id="cb22-101"><a href="#cb22-101"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp),</span>
<span id="cb22-102"><a href="#cb22-102"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp)))</span>
<span id="cb22-103"><a href="#cb22-103"></a></span>
<span id="cb22-104"><a href="#cb22-104"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb22-105"><a href="#cb22-105"></a></span>
<span id="cb22-106"><a href="#cb22-106"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb22-107"><a href="#cb22-107"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb22-108"><a href="#cb22-108"></a></span>
<span id="cb22-109"><a href="#cb22-109"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb22-110"><a href="#cb22-110"></a></span>
<span id="cb22-111"><a href="#cb22-111"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb22-112"><a href="#cb22-112"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map"</span>) <span class="sc">|&gt;</span> <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb22-113"><a href="#cb22-113"></a></span>
<span id="cb22-114"><a href="#cb22-114"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb22-115"><a href="#cb22-115"></a></span>
<span id="cb22-116"><a href="#cb22-116"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb22-117"><a href="#cb22-117"></a></span>
<span id="cb22-118"><a href="#cb22-118"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb22-119"><a href="#cb22-119"></a></span>
<span id="cb22-120"><a href="#cb22-120"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb22-121"><a href="#cb22-121"></a>  </span>
<span id="cb22-122"><a href="#cb22-122"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb22-123"><a href="#cb22-123"></a></span>
<span id="cb22-124"><a href="#cb22-124"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb22-125"><a href="#cb22-125"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="large-image" class="slide level2" data-menu-title="Image is too large">
<h2></h2>
<p><span class="slide-title">Our image doesn’t look so great as-is…</span></p>
<hr>

<img data-src="images/part3/large-img.png" style="width:80.0%" alt="Our Welcome page, with a map of Fish Creek Watershed beneath the intro text. The image is extremely large, spilling out of the box and across the page." class="r-stretch quarto-figure-center"></section>
<section id="adjust-image-size" class="slide level2" data-menu-title="Adjust Image Size">
<h2></h2>
<p><span class="slide-title2">Use in-line CSS to adjust the image size</span></p>
<hr>
<p class="body-text-s">
We can use in-line CSS to style our image element, as shown below (see <code>style</code> argument). It’s okay if you don’t fully understand what’s going on here for now – we’ll talk in greater detail about how CSS (and Sass) can be used to customize the appearance of your apps in just a bit.
</p>
<p class="body-text-s">
I’ve also added a caption below our image that links to the image source, and used in-line CSS to center my text within the box.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb23" data-code-line-numbers="42-44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb23-3"><a href="#cb23-3"></a>  </span>
<span id="cb23-4"><a href="#cb23-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb23-5"><a href="#cb23-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb23-6"><a href="#cb23-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb23-7"><a href="#cb23-7"></a>  </span>
<span id="cb23-8"><a href="#cb23-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb23-9"><a href="#cb23-9"></a></span>
<span id="cb23-10"><a href="#cb23-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb23-11"><a href="#cb23-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb23-12"><a href="#cb23-12"></a>  </span>
<span id="cb23-13"><a href="#cb23-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb23-14"><a href="#cb23-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb23-15"><a href="#cb23-15"></a></span>
<span id="cb23-16"><a href="#cb23-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb23-17"><a href="#cb23-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb23-18"><a href="#cb23-18"></a></span>
<span id="cb23-19"><a href="#cb23-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb23-20"><a href="#cb23-20"></a></span>
<span id="cb23-21"><a href="#cb23-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb23-22"><a href="#cb23-22"></a></span>
<span id="cb23-23"><a href="#cb23-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb23-24"><a href="#cb23-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb23-25"><a href="#cb23-25"></a>  </span>
<span id="cb23-26"><a href="#cb23-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb23-27"><a href="#cb23-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb23-28"><a href="#cb23-28"></a></span>
<span id="cb23-29"><a href="#cb23-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb23-30"><a href="#cb23-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb23-31"><a href="#cb23-31"></a></span>
<span id="cb23-32"><a href="#cb23-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb23-33"><a href="#cb23-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb23-34"><a href="#cb23-34"></a></span>
<span id="cb23-35"><a href="#cb23-35"></a>                   <span class="co"># background box ----</span></span>
<span id="cb23-36"><a href="#cb23-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb23-37"><a href="#cb23-37"></a>                       </span>
<span id="cb23-38"><a href="#cb23-38"></a>                       <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"water"</span>), <span class="fu">strong</span>(<span class="st">"Monitoring Fish Creek Watershed"</span>)),</span>
<span id="cb23-39"><a href="#cb23-39"></a>                       <span class="fu">includeMarkdown</span>(<span class="st">"text/intro.md"</span>),</span>
<span id="cb23-40"><a href="#cb23-40"></a>                       tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"FishCreekWatershedSiteMap_2020.jpeg"</span>, </span>
<span id="cb23-41"><a href="#cb23-41"></a>                                <span class="at">alt =</span> <span class="st">"A map of Northern Alaska, showing Fish Creek Watershed located within the National Petroleum Reserve."</span>,</span>
<span id="cb23-42"><a href="#cb23-42"></a>                                <span class="at">style =</span> <span class="st">"max-width: 100%;"</span>),</span>
<span id="cb23-43"><a href="#cb23-43"></a>                       tags<span class="sc">$</span><span class="fu">h6</span>(tags<span class="sc">$</span><span class="fu">em</span>(<span class="st">"Map Source:"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"http://www.fishcreekwatershed.org/"</span>, <span class="st">"FCWO"</span>)),</span>
<span id="cb23-44"><a href="#cb23-44"></a>                               <span class="at">style =</span> <span class="st">"text-align: center;"</span>)</span>
<span id="cb23-45"><a href="#cb23-45"></a></span>
<span id="cb23-46"><a href="#cb23-46"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> background box</span></span>
<span id="cb23-47"><a href="#cb23-47"></a></span>
<span id="cb23-48"><a href="#cb23-48"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb23-49"><a href="#cb23-49"></a></span>
<span id="cb23-50"><a href="#cb23-50"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb23-51"><a href="#cb23-51"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb23-52"><a href="#cb23-52"></a></span>
<span id="cb23-53"><a href="#cb23-53"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb23-54"><a href="#cb23-54"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb23-55"><a href="#cb23-55"></a></span>
<span id="cb23-56"><a href="#cb23-56"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb23-57"><a href="#cb23-57"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb23-58"><a href="#cb23-58"></a>                         </span>
<span id="cb23-59"><a href="#cb23-59"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"table"</span>), <span class="fu">strong</span>(<span class="st">"Data Source"</span>)),</span>
<span id="cb23-60"><a href="#cb23-60"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/citation.md"</span>)</span>
<span id="cb23-61"><a href="#cb23-61"></a></span>
<span id="cb23-62"><a href="#cb23-62"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb23-63"><a href="#cb23-63"></a></span>
<span id="cb23-64"><a href="#cb23-64"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb23-65"><a href="#cb23-65"></a></span>
<span id="cb23-66"><a href="#cb23-66"></a>                   <span class="co"># second fluidRow ----</span></span>
<span id="cb23-67"><a href="#cb23-67"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb23-68"><a href="#cb23-68"></a></span>
<span id="cb23-69"><a href="#cb23-69"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb23-70"><a href="#cb23-70"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb23-71"><a href="#cb23-71"></a></span>
<span id="cb23-72"><a href="#cb23-72"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"triangle-exclamation"</span>), <span class="fu">strong</span>(<span class="st">"Disclaimer"</span>)),</span>
<span id="cb23-73"><a href="#cb23-73"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/disclaimer.md"</span>)</span>
<span id="cb23-74"><a href="#cb23-74"></a></span>
<span id="cb23-75"><a href="#cb23-75"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb23-76"><a href="#cb23-76"></a></span>
<span id="cb23-77"><a href="#cb23-77"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb23-78"><a href="#cb23-78"></a></span>
<span id="cb23-79"><a href="#cb23-79"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb23-80"><a href="#cb23-80"></a></span>
<span id="cb23-81"><a href="#cb23-81"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb23-82"><a href="#cb23-82"></a></span>
<span id="cb23-83"><a href="#cb23-83"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb23-84"><a href="#cb23-84"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb23-85"><a href="#cb23-85"></a></span>
<span id="cb23-86"><a href="#cb23-86"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb23-87"><a href="#cb23-87"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb23-88"><a href="#cb23-88"></a></span>
<span id="cb23-89"><a href="#cb23-89"></a>              <span class="co"># input box ----</span></span>
<span id="cb23-90"><a href="#cb23-90"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb23-91"><a href="#cb23-91"></a>                  </span>
<span id="cb23-92"><a href="#cb23-92"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb23-93"><a href="#cb23-93"></a></span>
<span id="cb23-94"><a href="#cb23-94"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb23-95"><a href="#cb23-95"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb23-96"><a href="#cb23-96"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb23-97"><a href="#cb23-97"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation))),</span>
<span id="cb23-98"><a href="#cb23-98"></a></span>
<span id="cb23-99"><a href="#cb23-99"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"depth_slider"</span>, <span class="at">label =</span> <span class="st">"Average depth (meters):"</span>,</span>
<span id="cb23-100"><a href="#cb23-100"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth),</span>
<span id="cb23-101"><a href="#cb23-101"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth))),</span>
<span id="cb23-102"><a href="#cb23-102"></a></span>
<span id="cb23-103"><a href="#cb23-103"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"temp_slider"</span>, <span class="at">label =</span> <span class="st">"Average lake bed temperature (degrees C):"</span>,</span>
<span id="cb23-104"><a href="#cb23-104"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp),</span>
<span id="cb23-105"><a href="#cb23-105"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp)))</span>
<span id="cb23-106"><a href="#cb23-106"></a></span>
<span id="cb23-107"><a href="#cb23-107"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb23-108"><a href="#cb23-108"></a></span>
<span id="cb23-109"><a href="#cb23-109"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb23-110"><a href="#cb23-110"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb23-111"><a href="#cb23-111"></a></span>
<span id="cb23-112"><a href="#cb23-112"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb23-113"><a href="#cb23-113"></a></span>
<span id="cb23-114"><a href="#cb23-114"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb23-115"><a href="#cb23-115"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map"</span>) <span class="sc">|&gt;</span> <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb23-116"><a href="#cb23-116"></a></span>
<span id="cb23-117"><a href="#cb23-117"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb23-118"><a href="#cb23-118"></a></span>
<span id="cb23-119"><a href="#cb23-119"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb23-120"><a href="#cb23-120"></a></span>
<span id="cb23-121"><a href="#cb23-121"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb23-122"><a href="#cb23-122"></a></span>
<span id="cb23-123"><a href="#cb23-123"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb23-124"><a href="#cb23-124"></a>  </span>
<span id="cb23-125"><a href="#cb23-125"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb23-126"><a href="#cb23-126"></a></span>
<span id="cb23-127"><a href="#cb23-127"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb23-128"><a href="#cb23-128"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="final-dashboard" class="slide level2" data-menu-title="Final Dashboard">
<h2></h2>
<p><span class="slide-title">Check out your finished dashboard!</span></p>
<hr>

<img data-src="images/part3/final-dashboard.gif" style="width:80.0%" alt="Our completed dashboard, with our image styled so that it fits within the background info box on the Welcome page, and three functional sliderInputs that update the leaflet map on the Dashboard page." class="r-stretch quarto-figure-center"><p class="body-text-s">
There’s a ton more to learn about building shinydashboards. Check out the <a href="https://rstudio.github.io/shinydashboard/">documentation</a> to find instructions on adding components like <a href="https://rstudio.github.io/shinydashboard/structure.html#infobox"><code>infoBox</code>es</a> and <a href="https://rstudio.github.io/shinydashboard/structure.html#valuebox"><code>valueBox</code>es</a>, building <a href="https://rstudio.github.io/shinydashboard/structure.html#inputs-in-the-sidebar">inputs in the sidebar</a>, easy ways to update the color theme using <a href="https://rstudio.github.io/shinydashboard/appearance.html#skins">skins</a>, and more.
</p>
</section>
<section id="final-dashboard-code" class="slide level2" data-menu-title="Complete dashboard code">
<h2></h2>
<p><span class="slide-title2">Complete code for our dashboard thus far:</span></p>
<hr>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1"><code>global.R</code></a></li><li><a href="#tabset-7-2"><code>ui.R</code></a></li><li><a href="#tabset-7-3"><code>server.R</code></a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>global.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb24-2"><a href="#cb24-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb24-3"><a href="#cb24-3"></a><span class="fu">library</span>(shinydashboard)</span>
<span id="cb24-4"><a href="#cb24-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb24-5"><a href="#cb24-5"></a><span class="fu">library</span>(shinycssloaders)</span>
<span id="cb24-6"><a href="#cb24-6"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb24-7"><a href="#cb24-7"></a><span class="fu">library</span>(markdown)</span>
<span id="cb24-8"><a href="#cb24-8"></a></span>
<span id="cb24-9"><a href="#cb24-9"></a><span class="co"># READ IN DATA ----</span></span>
<span id="cb24-10"><a href="#cb24-10"></a>lake_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/lake_data_processed.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-7-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="co">#........................dashboardHeader.........................</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>header <span class="ot">&lt;-</span> <span class="fu">dashboardHeader</span>(</span>
<span id="cb25-3"><a href="#cb25-3"></a>  </span>
<span id="cb25-4"><a href="#cb25-4"></a>  <span class="co"># add title ----</span></span>
<span id="cb25-5"><a href="#cb25-5"></a>  <span class="at">title =</span> <span class="st">"Fish Creek Watershed Lake Monitoring"</span>,</span>
<span id="cb25-6"><a href="#cb25-6"></a>  <span class="at">titleWidth =</span> <span class="dv">400</span></span>
<span id="cb25-7"><a href="#cb25-7"></a>  </span>
<span id="cb25-8"><a href="#cb25-8"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardHeader</span></span>
<span id="cb25-9"><a href="#cb25-9"></a></span>
<span id="cb25-10"><a href="#cb25-10"></a><span class="co">#........................dashboardSidebar........................</span></span>
<span id="cb25-11"><a href="#cb25-11"></a>sidebar <span class="ot">&lt;-</span> <span class="fu">dashboardSidebar</span>(</span>
<span id="cb25-12"><a href="#cb25-12"></a>  </span>
<span id="cb25-13"><a href="#cb25-13"></a>  <span class="co"># sidebarMenu ----</span></span>
<span id="cb25-14"><a href="#cb25-14"></a>  <span class="fu">sidebarMenu</span>(</span>
<span id="cb25-15"><a href="#cb25-15"></a></span>
<span id="cb25-16"><a href="#cb25-16"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Welcome"</span>, <span class="at">tabName =</span> <span class="st">"welcome"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"star"</span>)),</span>
<span id="cb25-17"><a href="#cb25-17"></a>    <span class="fu">menuItem</span>(<span class="at">text =</span> <span class="st">"Dashboard"</span>, <span class="at">tabName =</span> <span class="st">"dashboard"</span>, <span class="at">icon =</span> <span class="fu">icon</span>(<span class="st">"gauge"</span>))</span>
<span id="cb25-18"><a href="#cb25-18"></a></span>
<span id="cb25-19"><a href="#cb25-19"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> sidebarMenu</span></span>
<span id="cb25-20"><a href="#cb25-20"></a></span>
<span id="cb25-21"><a href="#cb25-21"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardSidebar</span></span>
<span id="cb25-22"><a href="#cb25-22"></a></span>
<span id="cb25-23"><a href="#cb25-23"></a><span class="co">#..........................dashboardBody.........................</span></span>
<span id="cb25-24"><a href="#cb25-24"></a>body <span class="ot">&lt;-</span> <span class="fu">dashboardBody</span>(</span>
<span id="cb25-25"><a href="#cb25-25"></a>  </span>
<span id="cb25-26"><a href="#cb25-26"></a>  <span class="co"># tabItems ----</span></span>
<span id="cb25-27"><a href="#cb25-27"></a>  <span class="fu">tabItems</span>(</span>
<span id="cb25-28"><a href="#cb25-28"></a></span>
<span id="cb25-29"><a href="#cb25-29"></a>    <span class="co"># welcome tabItem ----</span></span>
<span id="cb25-30"><a href="#cb25-30"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"welcome"</span>,</span>
<span id="cb25-31"><a href="#cb25-31"></a></span>
<span id="cb25-32"><a href="#cb25-32"></a>            <span class="co"># left-hand column ----</span></span>
<span id="cb25-33"><a href="#cb25-33"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb25-34"><a href="#cb25-34"></a></span>
<span id="cb25-35"><a href="#cb25-35"></a>                   <span class="co"># background box ----</span></span>
<span id="cb25-36"><a href="#cb25-36"></a>                   <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb25-37"><a href="#cb25-37"></a>                       </span>
<span id="cb25-38"><a href="#cb25-38"></a>                       <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"water"</span>), <span class="fu">strong</span>(<span class="st">"Monitoring Fish Creek Watershed"</span>)),</span>
<span id="cb25-39"><a href="#cb25-39"></a>                       <span class="fu">includeMarkdown</span>(<span class="st">"text/intro.md"</span>),</span>
<span id="cb25-40"><a href="#cb25-40"></a>                       tags<span class="sc">$</span><span class="fu">img</span>(<span class="at">src =</span> <span class="st">"FishCreekWatershedSiteMap_2020.jpeg"</span>, </span>
<span id="cb25-41"><a href="#cb25-41"></a>                                <span class="at">alt =</span> <span class="st">"A map of Northern Alaska, showing Fish Creek Watershed located within the National Petroleum Reserve."</span>,</span>
<span id="cb25-42"><a href="#cb25-42"></a>                                <span class="at">style =</span> <span class="st">"max-width: 100%;"</span>),</span>
<span id="cb25-43"><a href="#cb25-43"></a>                       tags<span class="sc">$</span><span class="fu">h6</span>(tags<span class="sc">$</span><span class="fu">em</span>(<span class="st">"Map Source:"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"http://www.fishcreekwatershed.org/"</span>, <span class="st">"FCWO"</span>)),</span>
<span id="cb25-44"><a href="#cb25-44"></a>                               <span class="at">style =</span> <span class="st">"text-align: center;"</span>)</span>
<span id="cb25-45"><a href="#cb25-45"></a></span>
<span id="cb25-46"><a href="#cb25-46"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> background box</span></span>
<span id="cb25-47"><a href="#cb25-47"></a></span>
<span id="cb25-48"><a href="#cb25-48"></a>            ), <span class="co"># </span><span class="re">END</span><span class="co"> left-hand column</span></span>
<span id="cb25-49"><a href="#cb25-49"></a></span>
<span id="cb25-50"><a href="#cb25-50"></a>            <span class="co"># right-hand column ----</span></span>
<span id="cb25-51"><a href="#cb25-51"></a>            <span class="fu">column</span>(<span class="at">width =</span> <span class="dv">6</span>,</span>
<span id="cb25-52"><a href="#cb25-52"></a></span>
<span id="cb25-53"><a href="#cb25-53"></a>                   <span class="co"># first fluidRow ----</span></span>
<span id="cb25-54"><a href="#cb25-54"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb25-55"><a href="#cb25-55"></a></span>
<span id="cb25-56"><a href="#cb25-56"></a>                     <span class="co"># data source box ----</span></span>
<span id="cb25-57"><a href="#cb25-57"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb25-58"><a href="#cb25-58"></a>                         </span>
<span id="cb25-59"><a href="#cb25-59"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"table"</span>), <span class="fu">strong</span>(<span class="st">"Data Source"</span>)),</span>
<span id="cb25-60"><a href="#cb25-60"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/citation.md"</span>)</span>
<span id="cb25-61"><a href="#cb25-61"></a></span>
<span id="cb25-62"><a href="#cb25-62"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> data source box</span></span>
<span id="cb25-63"><a href="#cb25-63"></a></span>
<span id="cb25-64"><a href="#cb25-64"></a>                   ), <span class="co"># </span><span class="re">END</span><span class="co"> first fluidRow</span></span>
<span id="cb25-65"><a href="#cb25-65"></a></span>
<span id="cb25-66"><a href="#cb25-66"></a>                   <span class="co"># second fluidRow ----</span></span>
<span id="cb25-67"><a href="#cb25-67"></a>                   <span class="fu">fluidRow</span>(</span>
<span id="cb25-68"><a href="#cb25-68"></a></span>
<span id="cb25-69"><a href="#cb25-69"></a>                     <span class="co"># disclaimer box ----</span></span>
<span id="cb25-70"><a href="#cb25-70"></a>                     <span class="fu">box</span>(<span class="at">width =</span> <span class="cn">NULL</span>,</span>
<span id="cb25-71"><a href="#cb25-71"></a></span>
<span id="cb25-72"><a href="#cb25-72"></a>                         <span class="at">title =</span> <span class="fu">tagList</span>(<span class="fu">icon</span>(<span class="st">"triangle-exclamation"</span>), <span class="fu">strong</span>(<span class="st">"Disclaimer"</span>)),</span>
<span id="cb25-73"><a href="#cb25-73"></a>                         <span class="fu">includeMarkdown</span>(<span class="st">"text/disclaimer.md"</span>)</span>
<span id="cb25-74"><a href="#cb25-74"></a></span>
<span id="cb25-75"><a href="#cb25-75"></a>                     ) <span class="co"># </span><span class="re">END</span><span class="co"> disclaimer box</span></span>
<span id="cb25-76"><a href="#cb25-76"></a></span>
<span id="cb25-77"><a href="#cb25-77"></a>                   ) <span class="co"># </span><span class="re">END</span><span class="co"> second fluidRow</span></span>
<span id="cb25-78"><a href="#cb25-78"></a></span>
<span id="cb25-79"><a href="#cb25-79"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> right-hand column</span></span>
<span id="cb25-80"><a href="#cb25-80"></a></span>
<span id="cb25-81"><a href="#cb25-81"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> welcome tabItem</span></span>
<span id="cb25-82"><a href="#cb25-82"></a></span>
<span id="cb25-83"><a href="#cb25-83"></a>    <span class="co"># dashboard tabItem ----</span></span>
<span id="cb25-84"><a href="#cb25-84"></a>    <span class="fu">tabItem</span>(<span class="at">tabName =</span> <span class="st">"dashboard"</span>,</span>
<span id="cb25-85"><a href="#cb25-85"></a></span>
<span id="cb25-86"><a href="#cb25-86"></a>            <span class="co"># fluidRow ----</span></span>
<span id="cb25-87"><a href="#cb25-87"></a>            <span class="fu">fluidRow</span>(</span>
<span id="cb25-88"><a href="#cb25-88"></a></span>
<span id="cb25-89"><a href="#cb25-89"></a>              <span class="co"># input box ----</span></span>
<span id="cb25-90"><a href="#cb25-90"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">4</span>,</span>
<span id="cb25-91"><a href="#cb25-91"></a>                  </span>
<span id="cb25-92"><a href="#cb25-92"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Adjust lake parameter ranges:"</span>),</span>
<span id="cb25-93"><a href="#cb25-93"></a></span>
<span id="cb25-94"><a href="#cb25-94"></a>                  <span class="co"># sliderInputs ----</span></span>
<span id="cb25-95"><a href="#cb25-95"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"elevation_slider_input"</span>, <span class="at">label =</span> <span class="st">"Elevation (meters above SL):"</span>,</span>
<span id="cb25-96"><a href="#cb25-96"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation),</span>
<span id="cb25-97"><a href="#cb25-97"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>Elevation), <span class="fu">max</span>(lake_data<span class="sc">$</span>Elevation))),</span>
<span id="cb25-98"><a href="#cb25-98"></a></span>
<span id="cb25-99"><a href="#cb25-99"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"depth_slider_input"</span>, <span class="at">label =</span> <span class="st">"Average depth (meters):"</span>,</span>
<span id="cb25-100"><a href="#cb25-100"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth),</span>
<span id="cb25-101"><a href="#cb25-101"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgDepth), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgDepth))),</span>
<span id="cb25-102"><a href="#cb25-102"></a></span>
<span id="cb25-103"><a href="#cb25-103"></a>                  <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"temp_slider_input"</span>, <span class="at">label =</span> <span class="st">"Average lake bed temperature (degrees C):"</span>,</span>
<span id="cb25-104"><a href="#cb25-104"></a>                              <span class="at">min =</span> <span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="at">max =</span> <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp),</span>
<span id="cb25-105"><a href="#cb25-105"></a>                              <span class="at">value =</span> <span class="fu">c</span>(<span class="fu">min</span>(lake_data<span class="sc">$</span>AvgTemp), <span class="fu">max</span>(lake_data<span class="sc">$</span>AvgTemp)))</span>
<span id="cb25-106"><a href="#cb25-106"></a></span>
<span id="cb25-107"><a href="#cb25-107"></a>              ), <span class="co"># </span><span class="re">END</span><span class="co"> input box</span></span>
<span id="cb25-108"><a href="#cb25-108"></a></span>
<span id="cb25-109"><a href="#cb25-109"></a>              <span class="co"># leaflet box ----</span></span>
<span id="cb25-110"><a href="#cb25-110"></a>              <span class="fu">box</span>(<span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb25-111"><a href="#cb25-111"></a></span>
<span id="cb25-112"><a href="#cb25-112"></a>                  <span class="at">title =</span> tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Monitored lakes within Fish Creek Watershed:"</span>),</span>
<span id="cb25-113"><a href="#cb25-113"></a></span>
<span id="cb25-114"><a href="#cb25-114"></a>                  <span class="co"># leaflet output ----</span></span>
<span id="cb25-115"><a href="#cb25-115"></a>                  <span class="fu">leafletOutput</span>(<span class="at">outputId =</span> <span class="st">"lake_map_output"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb25-116"><a href="#cb25-116"></a>                    <span class="fu">withSpinner</span>(<span class="at">type =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"#4287f5"</span>)</span>
<span id="cb25-117"><a href="#cb25-117"></a></span>
<span id="cb25-118"><a href="#cb25-118"></a>              ) <span class="co"># </span><span class="re">END</span><span class="co"> leaflet box</span></span>
<span id="cb25-119"><a href="#cb25-119"></a></span>
<span id="cb25-120"><a href="#cb25-120"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb25-121"><a href="#cb25-121"></a></span>
<span id="cb25-122"><a href="#cb25-122"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> dashboard tabItem</span></span>
<span id="cb25-123"><a href="#cb25-123"></a></span>
<span id="cb25-124"><a href="#cb25-124"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabItems</span></span>
<span id="cb25-125"><a href="#cb25-125"></a>  </span>
<span id="cb25-126"><a href="#cb25-126"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> dashboardBody</span></span>
<span id="cb25-127"><a href="#cb25-127"></a></span>
<span id="cb25-128"><a href="#cb25-128"></a><span class="co">#..................combine all in dashboardPage..................</span></span>
<span id="cb25-129"><a href="#cb25-129"></a><span class="fu">dashboardPage</span>(header, sidebar, body)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-7-3">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>server.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb26-2"><a href="#cb26-2"></a>  </span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="co"># filter lake data ----</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>  filtered_lakes_df <span class="ot">&lt;-</span> <span class="fu">reactive</span> ({</span>
<span id="cb26-5"><a href="#cb26-5"></a>    </span>
<span id="cb26-6"><a href="#cb26-6"></a>    lake_data <span class="sc">|&gt;</span></span>
<span id="cb26-7"><a href="#cb26-7"></a>      <span class="fu">filter</span>(Elevation <span class="sc">&gt;=</span> input<span class="sc">$</span>elevation_slider_input[<span class="dv">1</span>] <span class="sc">&amp;</span> Elevation <span class="sc">&lt;=</span> input<span class="sc">$</span>elevation_slider_input[<span class="dv">2</span>])  <span class="sc">|&gt;</span></span>
<span id="cb26-8"><a href="#cb26-8"></a>      <span class="fu">filter</span>(AvgDepth <span class="sc">&gt;=</span> input<span class="sc">$</span>depth_slider_input[<span class="dv">1</span>] <span class="sc">&amp;</span> AvgDepth <span class="sc">&lt;=</span> input<span class="sc">$</span>depth_slider_input[<span class="dv">2</span>]) <span class="sc">|&gt;</span></span>
<span id="cb26-9"><a href="#cb26-9"></a>      <span class="fu">filter</span>(AvgTemp <span class="sc">&gt;=</span> input<span class="sc">$</span>temp_slider_input[<span class="dv">1</span>] <span class="sc">&amp;</span> AvgTemp <span class="sc">&lt;=</span> input<span class="sc">$</span>temp_slider_input[<span class="dv">2</span>])</span>
<span id="cb26-10"><a href="#cb26-10"></a>    </span>
<span id="cb26-11"><a href="#cb26-11"></a>  })</span>
<span id="cb26-12"><a href="#cb26-12"></a>  </span>
<span id="cb26-13"><a href="#cb26-13"></a>  </span>
<span id="cb26-14"><a href="#cb26-14"></a>  </span>
<span id="cb26-15"><a href="#cb26-15"></a>  <span class="co"># build leaflet map ----</span></span>
<span id="cb26-16"><a href="#cb26-16"></a>  output<span class="sc">$</span>lake_map_output <span class="ot">&lt;-</span> <span class="fu">renderLeaflet</span>({</span>
<span id="cb26-17"><a href="#cb26-17"></a>    </span>
<span id="cb26-18"><a href="#cb26-18"></a>    <span class="fu">leaflet</span>() <span class="sc">|&gt;</span></span>
<span id="cb26-19"><a href="#cb26-19"></a>      </span>
<span id="cb26-20"><a href="#cb26-20"></a>      <span class="co"># add tiles</span></span>
<span id="cb26-21"><a href="#cb26-21"></a>      <span class="fu">addProviderTiles</span>(providers<span class="sc">$</span>Esri.WorldImagery) <span class="sc">|&gt;</span></span>
<span id="cb26-22"><a href="#cb26-22"></a>      </span>
<span id="cb26-23"><a href="#cb26-23"></a>      <span class="co"># set view over AK</span></span>
<span id="cb26-24"><a href="#cb26-24"></a>      <span class="fu">setView</span>(<span class="at">lng =</span> <span class="sc">-</span><span class="fl">152.048442</span>, <span class="at">lat =</span> <span class="fl">70.249234</span>, <span class="at">zoom =</span> <span class="dv">6</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-25"><a href="#cb26-25"></a>      </span>
<span id="cb26-26"><a href="#cb26-26"></a>      <span class="co"># add mini map</span></span>
<span id="cb26-27"><a href="#cb26-27"></a>      <span class="fu">addMiniMap</span>(<span class="at">toggleDisplay =</span> <span class="cn">TRUE</span>, <span class="at">minimized =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-28"><a href="#cb26-28"></a>      </span>
<span id="cb26-29"><a href="#cb26-29"></a>      <span class="co"># add markers</span></span>
<span id="cb26-30"><a href="#cb26-30"></a>      <span class="fu">addMarkers</span>(<span class="at">data =</span>  <span class="fu">filtered_lakes_df</span>(),</span>
<span id="cb26-31"><a href="#cb26-31"></a>                 <span class="at">lng =</span> <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Longitude, <span class="at">lat =</span> <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Latitude,</span>
<span id="cb26-32"><a href="#cb26-32"></a>                 <span class="at">popup =</span> <span class="fu">paste</span>(<span class="st">"Site Name:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Site, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb26-33"><a href="#cb26-33"></a>                               <span class="st">"Elevation:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>Elevation, <span class="st">"meters (above SL)"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb26-34"><a href="#cb26-34"></a>                               <span class="st">"Avg Depth:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>AvgDepth, <span class="st">"meters"</span>, <span class="st">"&lt;br&gt;"</span>,</span>
<span id="cb26-35"><a href="#cb26-35"></a>                               <span class="st">"Avg Lake Bed Temperature:"</span>, <span class="fu">filtered_lakes_df</span>()<span class="sc">$</span>AvgTemp, <span class="st">"deg Celsius"</span>))</span>
<span id="cb26-36"><a href="#cb26-36"></a>    </span>
<span id="cb26-37"><a href="#cb26-37"></a>  })</span>
<span id="cb26-38"><a href="#cb26-38"></a>  </span>
<span id="cb26-39"><a href="#cb26-39"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="end" class="slide level2" data-menu-title="~~~ BREAK ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
End part 3
</p>
<p class="caption-text">
<em><strong>Up next:</strong> styling apps</em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_776673b7" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>

<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>