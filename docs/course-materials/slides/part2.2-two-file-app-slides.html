<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>EDS 430 – part2.2-two-file-app-slides</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="../../site_libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="title-slide" class="slide level2 center" data-menu-title="Title Slide" data-background="#053660">
<h2></h2>
<p><span class="custom-title">EDS 430: Part 2.2</span></p>
<p><span class="custom-subtitle"><em>Building a two-file app</em></span></p>
<hr class="hr-teal">
<p><span class="custom-subtitle3">Week 1 | January 26<sup>th</sup>, 2024</span></p>
</section>
<section id="build-app2" class="slide level2" data-menu-title="~~~ Building App #2 ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<i class="fa-solid fa-tools" title="a wrench and screwdriver" aria-label="tools"></i> Building out your 2<sup>nd</sup> app
</p>
<p class="caption-text">
<em>Up until now, we’ve been adding our text and widgets in a pretty unstructured way – elements are stacked on top of one another within a single column. Next, we’ll learn how to customize the layout of our app to make it a bit more visually pleasing.</em>
</p>
</div>
</section>
<section id="LO-app2v1" class="slide level2" data-menu-title="Learning Objectives - App #2v1">
<h2></h2>
<p><span class="slide-title"><i class="fa-solid fa-book-open" title="an open book" aria-label="book-open"></i> Learning Objectives - App #2 (two-file app)</span></p>
<hr>
<p class="body-text-m teal-text bottombr">
By the end of building out this second app, you should:
</p>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> be comfortable creating a shiny app using the two-file (<code>ui.R</code> &amp; <code>server.R</code>) format along with a <code>global.R</code> file
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> understand how to use layout functions to customize the visual structure of your app’s UI
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> have more practice building reactive outputs – and placing them within the layout structure of your app
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> be able to create multiple inputs that control a given output
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> know how to import larger bodies of text using <code>includeMarkdown()</code> (rather than writing &amp; styling text within your UI)
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> successfully deploy an app using <a href="https://www.shinyapps.io/">shinyapps.io</a>
</p>
</div>
<div class="fragment">
<p class="body-text-m teal-text topbr">
Packages introduced:
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-box-open" title="an open box" aria-label="box-open"></i></span> <code>{shinyWidgets}</code>: extend shiny widgets with some different, fun options
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-box-open" title="an open box" aria-label="box-open"></i></span> <code>{lterdatasampler}</code>: data
</p>
</div>
</section>
<section id="roadmap-app2v1" class="slide level2" data-menu-title="Roadmap App #2">
<h2></h2>
<p><span class="slide-title2">Roadmap for App #2</span></p>
<hr>
<p class="body-text">
We’ll be building out our <strong>two-file app</strong> using data from the <code>{lterdatasampler}</code> and <code>{palmerpenguins}</code> packages. We’ll focus on creating a functional app that has a more visually pleasing UI layout. Our goals are to create:
</p>
<div class="columns">
<div class="column" style="width:50%;">
<br> <br>
<p class="body-text-s">
<span class="teal-text"><strong>(a)</strong></span> A navigation bar with two pages, one of which will contain two tabs (one tab for each plot)
</p>
<p class="body-text-s">
<span class="teal-text"><strong>(b)</strong></span> A <code>pickerInput</code> <em>and</em> <code>checkboxGroupButtons</code> for users to filter cutthroat trout data in a reactive scatterplot
</p>
<p class="body-text-s">
<span class="teal-text"><strong>(c)</strong></span> A <code>pickerInput</code> for users to filter penguin data <em>and</em> a <code>sliderInput</code> to adjust the number of bins in a reactive histogram
</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/app2_v1.gif" style="width:100.0%" alt="An app titled 'LTER Animal Data Explorer'. The user starts on the 'About this App' page, which includes a couple paragraphs of intro text. The user then clicks on the 'Explore the Data' page which has two tabs: Trout and Penguins. On the Trout tab, we see a scatterplot with Trout Length (mm) on the x-axis and Trout Weight (g) on the y-axis. The user first filters data by Channel Type using a drop down list selector widget, then by Forest Section using two buttons that toggle on data from clear cut vs. old growth forest. In the Penguin tab, we see a histogram displaying Flipper Lengths (mm) of three penguin species. The user uses a drop down list selector widget to filter data by Island, then uses a slider widget to adjust the number of histogram bins."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div class="fragment">
<p class="body-text-s">
You’ll notice that there are some UI quirks (most notably, blank plots that appear when no data is selected) that can make the user experience less than ideal (and even confusing) – we’ll learn about ways to improve this in the <a href="https://ucsb-meds.github.io/EDS-430-Intro-to-Shiny/course-materials/slides/part2.3-deploy-improve-ux-slides.html#/LO-app2v2">next section</a>.
</p>
</div>
</section>
<section id="two-source" class="slide level2" data-menu-title="Two source panes">
<h2></h2>
<p><span class="slide-title">Two files? Try two panes!</span></p>
<hr>
<p class="body-text bottombr">
We’ll be building out a <strong>two-file shiny app</strong> this time around. You can open multiple scripts up side-by-side by navigating to <strong>Tools</strong> &gt; <strong>Global Options</strong> &gt; <strong>Pane Layout</strong> &gt; <strong>Add Column</strong>
</p>

<img data-src="images/part2/two_source.png" style="width:100.0%" alt="RStudio with three columns. (From left to right): (1) a source pane with `ui.R` open (2) a second source pane on the top with `server.R` open and the console on the bottom, (3) Environment/History/Git/etc. on the top and Files/Plots/Packages/etc. on the bottom" class="r-stretch quarto-figure-center"><p class="body-text topbr">
This setup is certainly not required/necessary – organize your IDE however you work best!
</p>
</section>
<section id="app2-trout-plot" class="slide level2" data-menu-title="Draft Plots (App#2, trout)">
<h2></h2>
<p><span class="slide-title">Practice on your scratch script – Trout</span></p>
<hr>
<p>In a <code>~scratch/practice_script_app2.R</code> file, practice wrangling &amp; plotting trout data. . .</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/scratch/practice_script_app2.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">#..........................load packages.........................</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co">#............custom ggplot theme (apply to both plots)...........</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>myCustomTheme <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb1-7"><a href="#cb1-7"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb1-9"><a href="#cb1-9"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-10"><a href="#cb1-10"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb1-11"><a href="#cb1-11"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb1-12"><a href="#cb1-12"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb1-13"><a href="#cb1-13"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">linewidth =</span> <span class="fl">0.7</span>))</span>
<span id="cb1-14"><a href="#cb1-14"></a>}</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a><span class="co">#.......................wrangle trout data.......................</span></span>
<span id="cb1-17"><a href="#cb1-17"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb1-18"><a href="#cb1-18"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Cutthroat trout"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-19"><a href="#cb1-19"></a>  <span class="fu">select</span>(sampledate, section, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb1-20"><a href="#cb1-20"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb1-21"><a href="#cb1-21"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb1-22"><a href="#cb1-22"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb1-23"><a href="#cb1-23"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb1-24"><a href="#cb1-24"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb1-25"><a href="#cb1-25"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb1-26"><a href="#cb1-26"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb1-27"><a href="#cb1-27"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb1-28"><a href="#cb1-28"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb1-29"><a href="#cb1-29"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb1-30"><a href="#cb1-30"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb1-31"><a href="#cb1-31"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb1-32"><a href="#cb1-32"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb1-33"><a href="#cb1-33"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb1-34"><a href="#cb1-34"></a></span>
<span id="cb1-35"><a href="#cb1-35"></a><span class="co">#..................practice filtering trout data.................</span></span>
<span id="cb1-36"><a href="#cb1-36"></a>trout_filtered_df <span class="ot">&lt;-</span> clean_trout <span class="sc">|&gt;</span> </span>
<span id="cb1-37"><a href="#cb1-37"></a>  <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"pool"</span>, <span class="st">"rapid"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb1-38"><a href="#cb1-38"></a>  <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>))</span>
<span id="cb1-39"><a href="#cb1-39"></a></span>
<span id="cb1-40"><a href="#cb1-40"></a><span class="co">#........................plot trout data.........................</span></span>
<span id="cb1-41"><a href="#cb1-41"></a><span class="fu">ggplot</span>(trout_filtered_df, <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb1-42"><a href="#cb1-42"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb1-43"><a href="#cb1-43"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>, </span>
<span id="cb1-44"><a href="#cb1-44"></a>                                <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>, </span>
<span id="cb1-45"><a href="#cb1-45"></a>                                <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb1-46"><a href="#cb1-46"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>, </span>
<span id="cb1-47"><a href="#cb1-47"></a>                                <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>, </span>
<span id="cb1-48"><a href="#cb1-48"></a>                                <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb1-49"><a href="#cb1-49"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb1-50"><a href="#cb1-50"></a>  <span class="fu">myCustomTheme</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/trout_plot.png" style="width:100.0%" alt="A scatterplot with Trout Length (mm) on the x-axis and Trout Weight (g) on the y-axis. Data points are colored and shaped by Channel Type, with data collected from pools represented with green diamonds and data collected from rapids represented by red stars."></p>
</figure>
</div>
</div>
</div>
<div class="center-text body-text-s gray-text">
<p>We’ll use the <code>and_vertebrates</code> data set from <code>{lterdatasampler}</code> to create a scatter plot of trout weights by lengths. When we move to shiny, we’ll build two inputs for filtering our data: one to select <code>channel_type</code> and one to select <code>section</code>.</p>
</div>
</div>
</div>
</section>
<section id="app2-penguin-plot" class="slide level2" data-menu-title="Draft Plots (App#2, Penguins)">
<h2></h2>
<p><span class="slide-title">Practice on your scratch script – Penguins</span></p>
<hr>
<p>. . .and penguin data</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/scratch/practice_script_app2.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">#..........................load packages.........................</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">#..................practice filtering for island.................</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>island_df <span class="ot">&lt;-</span> penguins <span class="sc">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>  <span class="fu">filter</span>(island <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Dream"</span>, <span class="st">"Torgesen"</span>))</span>
<span id="cb2-8"><a href="#cb2-8"></a></span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="co">#........................plot penguin data.......................</span></span>
<span id="cb2-10"><a href="#cb2-10"></a><span class="fu">ggplot</span>(<span class="fu">na.omit</span>(island_df), <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>  <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">position =</span> <span class="st">"identity"</span>, <span class="at">bins =</span> <span class="dv">25</span>) <span class="sc">+</span></span>
<span id="cb2-12"><a href="#cb2-12"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb2-13"><a href="#cb2-13"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb2-14"><a href="#cb2-14"></a>       <span class="at">fill =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>  <span class="fu">myCustomTheme</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/penguin_plot.png" style="width:100.0%" alt="A histogram of penguin Flipper lengths (mm) with bars colored by species. Adelie are orange and Chinstrap are purple."></p>
</figure>
</div>
</div>
</div>
<div class="center-text body-text-s gray-text">
<p>We’ll use the <code>penguins</code> data set from <code>{palmerpenguins}</code> to create a histogram of penguin flipper lengths. When we move to shiny, we’ll build two inputs for filtering our data: one to select <code>island</code> and one to change the number of histogram bins.</p>
</div>
</div>
</div>
</section>
<section id="global.R" class="slide level2" data-menu-title="global.R">
<h2></h2>
<p><span class="slide-title3">We’ll use our <code>global.R</code> file to help with organization</span></p>
<hr>
<p class="body-text bottombr">
While <em>not</em> a requirement of a shiny app, a <code>global.R</code> file will help reduce redundant code, increase your app’s speed, and help you better organize your code. It works by running once when your app is first launched, making any logic, objects, etc. contained in it available to both the <code>ui.R</code> and <code>server.R</code> files (or, in the case of a single-file shiny app, the <code>app.R</code> file). It’s a great place for things like:
</p>
<p><br></p>
<div class="fragment">
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> loading packages</p>
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> importing data</p>
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> sourcing scripts (particularly functions – we’ll talk more about functions later)</p>
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> data wrangling (though you’ll want to do any major data cleaning before bringing your data into your app)</p>
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> building custom <code>ggplot</code> themes</p>
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> etc.</p>
<p><br></p>
</div>
<div class="fragment">
<p><strong>Reminder:</strong> <code>global.R</code> <em>must</em> be saved to the same directory as your <code>ui.R</code> and <code>server.R</code> files.</p>
</div>
</section>
<section id="unstructured-app1" class="slide level2" data-menu-title="Unstructured first app">
<h2></h2>
<p><span class="slide-title2">We created a perfectly functional first app, but it’s not so visually pleasing</span></p>
<hr>
<div class="columns">
<div class="column" style="width:50%;">
<p><br> <br> <span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> nothing really grabs your eye</p>
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> inputs &amp; outputs are stacked vertically on top of one another (which requires a lot of vertical scrolling)</p>
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> widget label text is difficult to distinguish from other text</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/app1.gif" style="width:100.0%" alt="A gif of our first Shiny app. The title, 'My App Title' is in large black text at the top. Underneath, the subtitle, 'Exploring Antarctc Penguin Data' is in smaller black text. Immediately beneath, there is a sliderInput with black text above it that says, 'Select a range of body masses (g). The user is sliding both upper and lower ends to select a range of body masses to display data for. The scatterplot, with Flipper length (mm) on the x-axis and Bill length (mm) on the y-axis, updates accordingly. The user then scrolls down to a DT datatable. Immediately below the first plot is text that says 'Select year(s):' with checkboxes next to the years 2007, 2008, and 2009. The boxes next to 2007 and 2008 are already checked. The user also selects the box next to 2009. The user then uses a drop down menu to display 50 entries (rather than the default 10). The user clicks on the 'bill_length_mm' column to rearrange the data in descending order."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><br></p>
<div class="center-text">
<p><strong>Before we jump into adding reactive outputs to our next app, we’ll first plan out the visual structure of our UI – first on paper, then with layout functions.</strong></p>
</div>
</section>
<section id="layout-functions" class="slide level2" data-menu-title="Layout functions">
<h2></h2>
<p><span class="slide-title2">Layout functions provide the high-level visual structure of your app</span></p>
<hr>
<p class="body-text-s">
Layouts are created using a <strong>hierarchy</strong> of function calls (typically) <em>inside</em> <code>fluidPage()</code>. Layouts often require a series functions – <strong>container</strong> functions establish the larger area within which other layout elements are placed. See a few minimal examples of layout functions on the following slides (though <a href="https://shiny.rstudio.com/articles/layout-guide.html">more exist</a>!).
</p>
<p class="body-text-s">
<strong>Some useful layout function pairings:</strong>
</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># sidebar for inputs &amp; main area for outputs within the sidebarLayout() container</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">sidebarLayout</span>(</span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="fu">sidebarPanel</span>(),</span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="fu">mainPanel</span>()</span>
<span id="cb3-5"><a href="#cb3-5"></a>)</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co"># multi-row fluid layout (add any number of fluidRow()s to a fluidPage())</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="fu">fluidRow</span>(</span>
<span id="cb3-9"><a href="#cb3-9"></a>  <span class="fu">column</span>(<span class="dv">4</span>, ...),</span>
<span id="cb3-10"><a href="#cb3-10"></a>  <span class="fu">column</span>(<span class="dv">8</span>, ...)</span>
<span id="cb3-11"><a href="#cb3-11"></a>)</span>
<span id="cb3-12"><a href="#cb3-12"></a></span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="co"># tabPanel()s to contain HTML components (e.g. inputs/outputs) within the tabsetPanel() container</span></span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="fu">tabsetPanel</span>(</span>
<span id="cb3-15"><a href="#cb3-15"></a>  <span class="fu">tabPanel</span>()</span>
<span id="cb3-16"><a href="#cb3-16"></a>)</span>
<span id="cb3-17"><a href="#cb3-17"></a></span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="co"># </span><span class="al">NOTE</span><span class="co">: can use navbarPage() in place of fluidPage(); creates a page with top-level navigation bar that can be used to toggle tabPanel() elements</span></span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="fu">navbarPage</span>(</span>
<span id="cb3-20"><a href="#cb3-20"></a>  <span class="fu">tabPanel</span>()</span>
<span id="cb3-21"><a href="#cb3-21"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="layout-function-examples" class="slide level2" data-menu-title="Layout Examples">
<h2></h2>
<p><span class="slide-title3">Example UI layouts (adapted from <a href="https://mastering-shiny.org/action-layout.html#action-layout">Mastering Shiny, Ch. 6</a>)</span></p>
<hr>
<p class="body-text-s">
<strong>Note:</strong> You can combine multiple layout function groups to really customize your UI – for example, you can create a navbar, include tabs, and also establish sidebar and main panel areas for inputs and outputs.
</p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Sidebar &amp; main area</a></li><li><a href="#tabset-1-2">Page with multiple rows</a></li><li><a href="#tabset-1-3">Tabs</a></li><li><a href="#tabset-1-4">Navbar</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<p class="body-text">
To create a page with a <strong>side bar and main area</strong> to contain your inputs and outputs (respectively), explore the following layout functions and read up on the <a href="https://shiny.rstudio.com/reference/shiny/1.6.0/sidebarlayout">sidebarLayout documentation</a>:
</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">fluidPage</span>(</span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="fu">titlePanel</span>(</span>
<span id="cb4-3"><a href="#cb4-3"></a>    <span class="co"># app title/description</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>  ),</span>
<span id="cb4-5"><a href="#cb4-5"></a>  <span class="fu">sidebarLayout</span>(</span>
<span id="cb4-6"><a href="#cb4-6"></a>    <span class="fu">sidebarPanel</span>(</span>
<span id="cb4-7"><a href="#cb4-7"></a>      <span class="co"># inputs here</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>    ),</span>
<span id="cb4-9"><a href="#cb4-9"></a>    <span class="fu">mainPanel</span>(</span>
<span id="cb4-10"><a href="#cb4-10"></a>      <span class="co"># outputs here</span></span>
<span id="cb4-11"><a href="#cb4-11"></a>    )</span>
<span id="cb4-12"><a href="#cb4-12"></a>  )</span>
<span id="cb4-13"><a href="#cb4-13"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/sidebar_layout.png" style="width:100.0%" alt="A simplified schematic of a Shiny app with a sidebar layout. The page as a whole is created with the fluidPage() function. The titlePanel() function creates a row at the top of the page for a title. The sidebarLayout() function creates a new row below titlePanel(). Within the sidebarLayout(), there are two side-by-side columns created using the sidebarPanel() function (to the left) and the mainPanel() function (to the right)."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-2">
<p class="body-text">
To create a <strong>page with multiple rows</strong>, explore the following layout functions and check out the <a href="https://shiny.rstudio.com/reference/shiny/1.6.0/fluidpage">fluid layout</a> documentation. Note that each row is made up of <strong>12</strong> columns. The first argument of the <code>column()</code> function takes a value of 1-12 to specify the number of columns to occupy.
</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">fluidPage</span>(</span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="fu">fluidRow</span>(</span>
<span id="cb5-3"><a href="#cb5-3"></a>    <span class="fu">column</span>(<span class="dv">4</span>, </span>
<span id="cb5-4"><a href="#cb5-4"></a>      ...</span>
<span id="cb5-5"><a href="#cb5-5"></a>    ),</span>
<span id="cb5-6"><a href="#cb5-6"></a>    <span class="fu">column</span>(<span class="dv">8</span>, </span>
<span id="cb5-7"><a href="#cb5-7"></a>      ...</span>
<span id="cb5-8"><a href="#cb5-8"></a>    )</span>
<span id="cb5-9"><a href="#cb5-9"></a>  ),</span>
<span id="cb5-10"><a href="#cb5-10"></a>  <span class="fu">fluidRow</span>(</span>
<span id="cb5-11"><a href="#cb5-11"></a>    <span class="fu">column</span>(<span class="dv">6</span>, </span>
<span id="cb5-12"><a href="#cb5-12"></a>      ...</span>
<span id="cb5-13"><a href="#cb5-13"></a>    ),</span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="fu">column</span>(<span class="dv">6</span>, </span>
<span id="cb5-15"><a href="#cb5-15"></a>      ...</span>
<span id="cb5-16"><a href="#cb5-16"></a>    )</span>
<span id="cb5-17"><a href="#cb5-17"></a>  )</span>
<span id="cb5-18"><a href="#cb5-18"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/multirow_layout.png" style="width:100.0%" alt="A simplified schematic of a Shiny app with a multi-row layout. The page as a whole is created with the fluidPage() function. Within that, the fluidRow() function is used twice to create two stacked (one atop the other) rows on the page. Within each fluidRow are two side-by-side columns, each created using the column() function. Each row is made up of 12 columns. The column() function takes a value of 1-12 as the first arguement to specify how many of those 12 columns to occupy."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-3">
<p class="body-text">
You may find that you eventually end up with too much content to fit on a single application page. Enter <code>tabsetPanel()</code> and <code>tabPanel()</code>. <code>tabsetPanel()</code> creates a container for any number of <code>tabPanel()</code>s. Each <code>tabPanel()</code> can contain any number of HTML components (e.g.&nbsp;inputs and outputs). Find the <a href="https://shiny.rstudio.com/reference/shiny/1.5.0/tabsetpanel">tabsetPanel documentation here</a> and check out this example:
</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">tabsetPanel</span>(</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">tabPanel</span>(<span class="st">"Tab 1"</span>, </span>
<span id="cb6-3"><a href="#cb6-3"></a>    <span class="co"># an input</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>    <span class="co"># an output</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  ),</span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="fu">tabPanel</span>(<span class="st">"Tab 2"</span>),</span>
<span id="cb6-7"><a href="#cb6-7"></a>  <span class="fu">tabPanel</span>(<span class="st">"Tab 3"</span>)</span>
<span id="cb6-8"><a href="#cb6-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/tabsetPanel_layout.png" style="width:100.0%" alt="A simplified schematic of a Shiny app with a tabsetPanel layout. The page as a whole is created with the fluidPage() function. Within that, the tabsetPanel() function creates a container within which three tabPanel()s ('Tab 1', 'Tab 2', 'Tab 3') are defined (for this particular example). Tab 1 is highlighted and has placeholder text which says '# an input' and then on the line below, '# an output'."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-4">
<p class="body-text">
You may also want to use a navigation bar (<code>navbarPage()</code>) with different pages (created using <code>tabPanel()</code>) to organize your application. Read through the <a href="https://shiny.rstudio.com/reference/shiny/1.6.0/navbarpage">navbarPage documentation</a> and try running the example below:
</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">navbarPage</span>(</span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="at">title =</span> <span class="st">"My app"</span>,</span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 1"</span>,</span>
<span id="cb7-4"><a href="#cb7-4"></a>           <span class="co"># an input</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>           <span class="co"># an output</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>           ),</span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 2"</span>)</span>
<span id="cb7-8"><a href="#cb7-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/navbarPage_layout.png" style="width:100.0%" alt="A simplified schematic of a Shiny app with a navbarPage layout. The page as a whole is created with the navbarPage() function. A top-level navigation bar can be used to toggle between two tabPanel()s ('Tab 1', 'Tab 2'), which are defined for this particular example. Tab 1 is highlighted and has placeholder text which says '# an input' and then on the line below, '# an output'."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="layout-fxns-app2" class="slide level2" data-menu-title="Overview of App #2 Layout">
<h2></h2>
<p><span class="slide-title2">Overview of layout functions used in App #2</span></p>
<hr>

<img data-src="images/part2/app2-layout-fxns.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="build-navbar" class="slide level2" data-menu-title="Build navbar">
<h2></h2>
<p><span class="slide-title">Build a navbar with two pages</span></p>
<hr>
<p class="body-text-s">
First, <strong>let’s build a UI that has a navigation bar with two tabs</strong> – one for background information and one to contain our data visualizations. To do this, we’ll use <code>navbarPage()</code> instead of <code>fluidPage()</code> to create our webpage.
</p>
<p class="body-text-s">
<strong>Tip:</strong> It can be <em>super</em> helpful add code comments at the start and end of each UI element – for example, see <code># (Page 1) intro tabPanel---</code> and <code># END (Page 1) intro tabPanel</code>, below. Adding text that you will eventually replace with content (e.g.&nbsp;plots, tables, images, longer text) may help to visualize what you’re working towards as well.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb8-2"><a href="#cb8-2"></a>  </span>
<span id="cb8-3"><a href="#cb8-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb8-4"><a href="#cb8-4"></a>  </span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb8-7"><a href="#cb8-7"></a>           </span>
<span id="cb8-8"><a href="#cb8-8"></a>           <span class="st">"background info will go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb8-9"><a href="#cb8-9"></a>           </span>
<span id="cb8-10"><a href="#cb8-10"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>  </span>
<span id="cb8-12"><a href="#cb8-12"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb8-13"><a href="#cb8-13"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span>  <span class="st">"Explore the Data"</span>,</span>
<span id="cb8-14"><a href="#cb8-14"></a>           </span>
<span id="cb8-15"><a href="#cb8-15"></a>           <span class="st">"inputs and outputs will live here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb8-16"><a href="#cb8-16"></a>           </span>
<span id="cb8-17"><a href="#cb8-17"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb8-18"><a href="#cb8-18"></a>  </span>
<span id="cb8-19"><a href="#cb8-19"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="add-tabs" class="slide level2" data-menu-title="Add tabs">
<h2></h2>
<p><span class="slide-title2">Add two tabs to the “Explore the Data” page</span></p>
<hr>
<p class="body-text-s">
Give your tabs the following titles: <code>Trout</code> and <code>Penguins</code>.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="15-32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb9-2"><a href="#cb9-2"></a>  </span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb9-4"><a href="#cb9-4"></a>  </span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb9-7"><a href="#cb9-7"></a>           </span>
<span id="cb9-8"><a href="#cb9-8"></a>           <span class="st">"background info will go here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>           </span>
<span id="cb9-10"><a href="#cb9-10"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>  </span>
<span id="cb9-12"><a href="#cb9-12"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb9-13"><a href="#cb9-13"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span>  <span class="st">"Explore the Data"</span>,</span>
<span id="cb9-14"><a href="#cb9-14"></a>           </span>
<span id="cb9-15"><a href="#cb9-15"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb9-16"><a href="#cb9-16"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb9-17"><a href="#cb9-17"></a>             </span>
<span id="cb9-18"><a href="#cb9-18"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb9-19"><a href="#cb9-19"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb9-20"><a href="#cb9-20"></a>                      </span>
<span id="cb9-21"><a href="#cb9-21"></a>                      <span class="st">"trout data viz here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb9-22"><a href="#cb9-22"></a>                      </span>
<span id="cb9-23"><a href="#cb9-23"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb9-24"><a href="#cb9-24"></a>             </span>
<span id="cb9-25"><a href="#cb9-25"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb9-26"><a href="#cb9-26"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb9-27"><a href="#cb9-27"></a>                      </span>
<span id="cb9-28"><a href="#cb9-28"></a>                      <span class="st">"penguin data viz here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb9-29"><a href="#cb9-29"></a>                      </span>
<span id="cb9-30"><a href="#cb9-30"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb9-31"><a href="#cb9-31"></a>             </span>
<span id="cb9-32"><a href="#cb9-32"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb9-33"><a href="#cb9-33"></a>           </span>
<span id="cb9-34"><a href="#cb9-34"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb9-35"><a href="#cb9-35"></a>  </span>
<span id="cb9-36"><a href="#cb9-36"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="sidebar-main-panels" class="slide level2" data-menu-title="Create sidebar &amp; main panels">
<h2></h2>
<p><span class="slide-title2">Add sidebar &amp; main panels to the <code>Trout</code> tab</span></p>
<hr>
<p class="body-text-s">
We’ll eventually place our input in the sidebar and output in the main panel.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb10" data-code-line-numbers="21-38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb10-2"><a href="#cb10-2"></a>  </span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb10-4"><a href="#cb10-4"></a>  </span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb10-7"><a href="#cb10-7"></a>           </span>
<span id="cb10-8"><a href="#cb10-8"></a>           <span class="st">"background info will go here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>           </span>
<span id="cb10-10"><a href="#cb10-10"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>  </span>
<span id="cb10-12"><a href="#cb10-12"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb10-13"><a href="#cb10-13"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb10-14"><a href="#cb10-14"></a>           </span>
<span id="cb10-15"><a href="#cb10-15"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb10-16"><a href="#cb10-16"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb10-17"><a href="#cb10-17"></a>             </span>
<span id="cb10-18"><a href="#cb10-18"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb10-19"><a href="#cb10-19"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb10-20"><a href="#cb10-20"></a>                      </span>
<span id="cb10-21"><a href="#cb10-21"></a>                      <span class="co"># trout sidebarLayout ----</span></span>
<span id="cb10-22"><a href="#cb10-22"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb10-23"><a href="#cb10-23"></a>                        </span>
<span id="cb10-24"><a href="#cb10-24"></a>                        <span class="co"># trout sidebarPanel ----</span></span>
<span id="cb10-25"><a href="#cb10-25"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb10-26"><a href="#cb10-26"></a>                          </span>
<span id="cb10-27"><a href="#cb10-27"></a>                          <span class="st">"trout plot input(s) go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb10-28"><a href="#cb10-28"></a>                          </span>
<span id="cb10-29"><a href="#cb10-29"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout sidebarPanel</span></span>
<span id="cb10-30"><a href="#cb10-30"></a>                        </span>
<span id="cb10-31"><a href="#cb10-31"></a>                        <span class="co"># trout mainPanel ----</span></span>
<span id="cb10-32"><a href="#cb10-32"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb10-33"><a href="#cb10-33"></a>                          </span>
<span id="cb10-34"><a href="#cb10-34"></a>                          <span class="st">"trout plot output goes here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb10-35"><a href="#cb10-35"></a>                          </span>
<span id="cb10-36"><a href="#cb10-36"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout mainPanel</span></span>
<span id="cb10-37"><a href="#cb10-37"></a>                        </span>
<span id="cb10-38"><a href="#cb10-38"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout sidebarLayout</span></span>
<span id="cb10-39"><a href="#cb10-39"></a>                      </span>
<span id="cb10-40"><a href="#cb10-40"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb10-41"><a href="#cb10-41"></a>             </span>
<span id="cb10-42"><a href="#cb10-42"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb10-43"><a href="#cb10-43"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb10-44"><a href="#cb10-44"></a>                      </span>
<span id="cb10-45"><a href="#cb10-45"></a>                      <span class="st">"penguin data viz here"</span>  <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb10-46"><a href="#cb10-46"></a>                      </span>
<span id="cb10-47"><a href="#cb10-47"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb10-48"><a href="#cb10-48"></a>             </span>
<span id="cb10-49"><a href="#cb10-49"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb10-50"><a href="#cb10-50"></a>           </span>
<span id="cb10-51"><a href="#cb10-51"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb10-52"><a href="#cb10-52"></a>  </span>
<span id="cb10-53"><a href="#cb10-53"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="exercise2-prompt" class="slide level2" data-menu-title="** Exercise 2 Prompt **" data-background="#d2e3f3">
<h2></h2>
<p><span class="slide-title2"><i class="fa-solid fa-question" title="question mark" aria-label="question"></i> Exercise 2: Add sidebar and main panels to the <code>Penguins</code> tab</span></p>
<hr>
<div class="columns">
<div class="column" style="width:50%;">
<p><br> <br></p>
<p>I encourage you to type the code out yourself, rather than copy/paste!</p>
<p><br></p>
<p>Be sure to add text where your input/output will eventually be placed.</p>
<p><br></p>
<p>When you’re done, you app should look like this <i class="fa-solid fa-arrow-right" title="arrow pointing right" aria-label="arrow-right"></i></p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/app2_layout.gif" style="width:90.0%" alt="Our new app, which does not yet contain any content (e.g inputs and outputs), but does have an organized layout structure. There is a navbar across the top of the page, with the title 'My app title' on the left-hand side of the navbar. There are two pages on the navbar: one says 'Welcome to my app' and the second says 'Explore the data'. The user clicks into the second page to reveal two tabs named 'Trout', and 'Bison'. Each tab has a gray box (a sidebar) on the lefthand side and a main panel space to the right."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<center>
<p class="body-text-xl teal-text">
See next slide for a solution!
</p>
</center>
</section>
<section id="exercise2-solution" class="slide level2" data-menu-title="** Exercise 2 Solution **" data-background="#d2e3f3">
<h2></h2>
<p><span class="slide-title2"><i class="fa-solid fa-check" title="a check mark" aria-label="check"></i> Exercise 2: A solution</span></p>
<hr>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="45-62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb11-2"><a href="#cb11-2"></a>  </span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb11-4"><a href="#cb11-4"></a>  </span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb11-7"><a href="#cb11-7"></a>           </span>
<span id="cb11-8"><a href="#cb11-8"></a>           <span class="st">"background info will go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb11-9"><a href="#cb11-9"></a>           </span>
<span id="cb11-10"><a href="#cb11-10"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb11-11"><a href="#cb11-11"></a>  </span>
<span id="cb11-12"><a href="#cb11-12"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb11-13"><a href="#cb11-13"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Animal Data Explorer"</span>,</span>
<span id="cb11-14"><a href="#cb11-14"></a>           </span>
<span id="cb11-15"><a href="#cb11-15"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb11-16"><a href="#cb11-16"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb11-17"><a href="#cb11-17"></a>             </span>
<span id="cb11-18"><a href="#cb11-18"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb11-19"><a href="#cb11-19"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb11-20"><a href="#cb11-20"></a>                      </span>
<span id="cb11-21"><a href="#cb11-21"></a>                      <span class="co"># trout sidebarLayout ----</span></span>
<span id="cb11-22"><a href="#cb11-22"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb11-23"><a href="#cb11-23"></a>                        </span>
<span id="cb11-24"><a href="#cb11-24"></a>                        <span class="co"># trout sidebarPanel ----</span></span>
<span id="cb11-25"><a href="#cb11-25"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb11-26"><a href="#cb11-26"></a>                          </span>
<span id="cb11-27"><a href="#cb11-27"></a>                          <span class="st">"trout plot input(s) go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb11-28"><a href="#cb11-28"></a>                          </span>
<span id="cb11-29"><a href="#cb11-29"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout sidebarPanel</span></span>
<span id="cb11-30"><a href="#cb11-30"></a>                        </span>
<span id="cb11-31"><a href="#cb11-31"></a>                        <span class="co"># trout mainPanel ----</span></span>
<span id="cb11-32"><a href="#cb11-32"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb11-33"><a href="#cb11-33"></a>                          </span>
<span id="cb11-34"><a href="#cb11-34"></a>                          <span class="st">"trout plot output goes here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb11-35"><a href="#cb11-35"></a>                          </span>
<span id="cb11-36"><a href="#cb11-36"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout mainPanel</span></span>
<span id="cb11-37"><a href="#cb11-37"></a>                        </span>
<span id="cb11-38"><a href="#cb11-38"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout sidebarLayout</span></span>
<span id="cb11-39"><a href="#cb11-39"></a>                      </span>
<span id="cb11-40"><a href="#cb11-40"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb11-41"><a href="#cb11-41"></a>             </span>
<span id="cb11-42"><a href="#cb11-42"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb11-43"><a href="#cb11-43"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb11-44"><a href="#cb11-44"></a>                      </span>
<span id="cb11-45"><a href="#cb11-45"></a>                      <span class="co"># penguin sidebarLayout ----</span></span>
<span id="cb11-46"><a href="#cb11-46"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb11-47"><a href="#cb11-47"></a>                        </span>
<span id="cb11-48"><a href="#cb11-48"></a>                        <span class="co"># penguin sidebarPanel ----</span></span>
<span id="cb11-49"><a href="#cb11-49"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb11-50"><a href="#cb11-50"></a>                          </span>
<span id="cb11-51"><a href="#cb11-51"></a>                          <span class="st">"penguin plot input(s) go here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb11-52"><a href="#cb11-52"></a>                          </span>
<span id="cb11-53"><a href="#cb11-53"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin sidebarPanel</span></span>
<span id="cb11-54"><a href="#cb11-54"></a>                        </span>
<span id="cb11-55"><a href="#cb11-55"></a>                        <span class="co"># penguin mainPanel ----</span></span>
<span id="cb11-56"><a href="#cb11-56"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb11-57"><a href="#cb11-57"></a>                          </span>
<span id="cb11-58"><a href="#cb11-58"></a>                          <span class="st">"penguin plot output goes here"</span> <span class="co"># REPLACE THIS WITH CONTENT</span></span>
<span id="cb11-59"><a href="#cb11-59"></a>                          </span>
<span id="cb11-60"><a href="#cb11-60"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin mainPanel</span></span>
<span id="cb11-61"><a href="#cb11-61"></a>                        </span>
<span id="cb11-62"><a href="#cb11-62"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin sidebarLayout</span></span>
<span id="cb11-63"><a href="#cb11-63"></a>                      </span>
<span id="cb11-64"><a href="#cb11-64"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb11-65"><a href="#cb11-65"></a>             </span>
<span id="cb11-66"><a href="#cb11-66"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb11-67"><a href="#cb11-67"></a>           </span>
<span id="cb11-68"><a href="#cb11-68"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb11-69"><a href="#cb11-69"></a>  </span>
<span id="cb11-70"><a href="#cb11-70"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="layout-review" class="slide level2" data-menu-title="Layout review">
<h2></h2>
<p><span class="slide-title">Some important things to remember when building your UI’s layout:</span></p>
<hr>
<div class="fragment">
<p class="body-text">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> try creating a <strong>rough sketch</strong> of your intended layout <em>before</em> hitting the keyboard (I like to think of this as UI layout “pseudocode”)
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> keeping <strong>clean code is important</strong> – we haven’t even any added any content yet and our UI is already &gt;70 lines of code!
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> use <strong>rainbow parentheses</strong>, <strong>code comments</strong> and plenty of <strong>space between lines</strong> to keep things looking manageable and navigable
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> use the keyboard shortcut, <code>command</code> + <code>I</code> (Mac) or <code>control</code> + <code>I</code> (Windows), to align messy code – this helps put those off-alignment parentheses back where they belong
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> things can get out of hand quickly – <strong>add one layout section at a time</strong>, run your app to check that things look as you intend, then continue
</p>
</div>
</section>
<section id="first-trout" class="slide level2" data-menu-title="First up, trout">
<h2></h2>
<p><span class="slide-title">Add data viz: First up, trout</span></p>
<hr>
<p class="body-text-s bottombr">
We’ll be using the <a href="https://lter.github.io/lterdatasampler/reference/and_vertebrates.html"><code>and_vertebrates</code> dataset</a> from the <a href="https://lter.github.io/lterdatasampler/"><code>{lterdatasampler}</code> package</a> to create our first reactive plot. These data contain coastal cutthroat trout (<em>Oncorhynchus clarkii clarkii</em>) lengths and weights collected in Mack Creek, <a href="https://andrewsforest.oregonstate.edu/">Andrews Forest LTER</a>. Original data can be found on the <a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-and.4027.14">EDI Data Portal</a>. Refer back to <a href="https://ucsb-meds.github.io/EDS-430-Intro-to-Shiny/course-materials/slides/part2.2-two-file-app-slides.html#/app2-trout-plot">this slide</a> to revisit our practice data wrangling &amp; visualization script.
</p>
<p><br></p>

<img data-src="images/part2/trout.png" style="width:100.0%" alt="A drawing of the right-side profile of a coastal cutthroat trout." class="r-stretch quarto-figure-center"><p class="body-text-s gray-text center-text">
Image Source: Joseph R. Tomelleri, as found on the <a href="https://westernnativetrout.org/coastal-cutthroat-trout/">Western Native Trout Initiative</a>
</p>
</section>
<section id="import-packages-global" class="slide level2" data-menu-title="Import packages in global.R">
<h2></h2>
<p><span class="slide-title2">Add packages &amp; wrangle data in <code>global.R</code></span></p>
<hr>
<p>In addition to the <a href="https://lter.github.io/lterdatasampler/"><code>{lterdatasampler}</code> package</a>, we’ll also be using the <code>{tidyverse}</code> for data wrangling/visualization, and the <a href="https://github.com/dreamRs/shinyWidgets"><code>{shinyWidgets}</code> package</a> to add a <code>pickerInput</code> and a <code>checkboxGroupInput</code> to our app.</p>
<p><br></p>
<p><strong>Import those three packages at the top of your <code>global.R</code> file</strong></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/global.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb12" data-code-line-numbers="3-5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="fu">library</span>(lterdatasampler) </span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="fu">library</span>(shinyWidgets) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="wrangle-data-global" class="slide level2" data-menu-title="Wrangle data in global.R">
<h2></h2>
<p><span class="slide-title2">Add packages &amp; wrangle data in <code>global.R</code></span></p>
<hr>
<p class="body-text-s">
We can also do the bulk of our data wrangling here, rather than in the server. If we were reading in a data file (e.g.&nbsp;<code>.csv</code>), we would do that here too. Our new data object <code>clean_trout</code>, will now be available for us to call directly in our server (<strong>NOTE:</strong> we can copy our wrangling code over from our <a href="https://ucsb-meds.github.io/EDS-430-Intro-to-Shiny/course-materials/slides/part2.2-two-file-app-slides.html#/app2-trout-plot">practice script</a>).
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/global.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="6-24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb13-2"><a href="#cb13-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb13-4"><a href="#cb13-4"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb13-5"><a href="#cb13-5"></a><span class="fu">library</span>(shinyWidgets) </span>
<span id="cb13-6"><a href="#cb13-6"></a></span>
<span id="cb13-7"><a href="#cb13-7"></a><span class="co"># DATA WRANGLING ----</span></span>
<span id="cb13-8"><a href="#cb13-8"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb13-9"><a href="#cb13-9"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="st">"Cutthroat trout"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-10"><a href="#cb13-10"></a>  <span class="fu">select</span>(sampledate, section, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb13-11"><a href="#cb13-11"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb13-12"><a href="#cb13-12"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb13-13"><a href="#cb13-13"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb13-14"><a href="#cb13-14"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb13-15"><a href="#cb13-15"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb13-16"><a href="#cb13-16"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb13-17"><a href="#cb13-17"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb13-18"><a href="#cb13-18"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb13-19"><a href="#cb13-19"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb13-20"><a href="#cb13-20"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb13-21"><a href="#cb13-21"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb13-22"><a href="#cb13-22"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb13-23"><a href="#cb13-23"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb13-24"><a href="#cb13-24"></a>  <span class="fu">drop_na</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="trout-pickerInput" class="slide level2" data-menu-title="Add Trout pickerInput()">
<h2></h2>
<p><span class="slide-title2">Add a <code>pickerInput</code> for selecting <code>channel_type</code> to your UI</span></p>
<hr>
<p class="body-text-s">
The <code>channel_type</code> variable (originally called <code>unittype</code> – we updated the name when wrangling data) represents the type of water body (<em>cascade, riffle, isolated pool, pool, rapid, step (small falls), or side channel</em>) where data were collected. We’ll start by building a <code>shinyWidgets::pickerInput()</code> to allow users to filter data based on <code>channel_type</code>.
</p>
<div class="fragment">
<p class="body-text-s topbr">
<strong>Reminder:</strong> When we we designed our UI layout, we added a <code>sidebarPanel</code> to our <strong>Trout</strong> tab with the placeholder text <code>"trout plot input(s) go here"</code>. Replace that text with the code for your <code>pickerInput</code>:
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># channel type pickerInput ----</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb14-3"><a href="#cb14-3"></a>            <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type), <span class="co"># alternatively: choices = c("rapid", "cascade" ...)</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>            <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>), </span>
<span id="cb14-5"><a href="#cb14-5"></a>            <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>), <span class="co"># creates "Select All / Deselect All" buttons</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>            <span class="at">multiple =</span> <span class="cn">TRUE</span>) <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p class="body-text-s topbr">
Save and run your app – a functional <code>pickerInput</code> should now appear in your UI.
</p>
<div class="footer gray-text">
<p>A <code>shinyWidgets::pickerInput()</code> is functionally equivalent to <code>shiny::selectInput()</code>, though it allows for greater customization and looks (in my opinion) a bit nicer.</p>
</div>
</div>
</section>
<section id="trout-output" class="slide level2" data-menu-title="Add Trout output">
<h2></h2>
<p><span class="slide-title">Add a plot output to your UI</span></p>
<hr>
<p class="body-text-s">
Next, we need to create a placeholder in our UI for our trout scatterplot to live. Because we’ll be creating a reactive plot, we can use the <code>plotOutput()</code> function to do so.
</p>
<div class="fragment">
<p class="body-text-s topbr">
<strong>Reminder:</strong> When we we designed our UI layout, we added a <code>mainPanel</code> to our <strong>Trout</strong> tab with the placeholder text <code>"trout plot output goes here"</code>. Replace that text with the code for your <code>plotOuput()</code>:
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot_output"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p class="body-text-s topbr">
Save and run your app – it won’t look different at first glance, but inspecting your app in a browser window (using Chrome, right click &gt; Inspect) will reveal a placeholder box for your plot output to eventually live:
</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/trout_plotOutput.png" style="width:50.0%" alt="The Trout tab of our app, which contains only a pickerInput with the variables, cascade and pool, selected. There is no visible plot yet, however using Google Chrome's developer tools shows a div (i.e. a box) placeholder where our plot will eventually appear."></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="trout-plot" class="slide level2" data-menu-title="Trout Reactive Plot">
<h2></h2>
<p><span class="slide-title3">Tell the server how to assemble <code>pickerInput</code> values into your <code>plotOutput</code></span></p>
<hr>
<p class="body-text-s">
<strong>Remember the three rules for building reactive outputs:</strong> <strong>(1)</strong> save objects you want to display to <code>output$&lt;id&gt;</code>, <strong>(2)</strong> build reactive objects using a <code>render*()</code> function, and <strong>(3)</strong> access input values with <code>input$&lt;id&gt;</code>:
</p>
<div class="columns">
<div class="column" style="width:55%;">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/server.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb16" data-code-line-numbers="3-25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb16-2"><a href="#cb16-2"></a>  </span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="co"># filter trout data ----</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb16-5"><a href="#cb16-5"></a>    </span>
<span id="cb16-6"><a href="#cb16-6"></a>    clean_trout <span class="sc">|&gt;</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>      <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input))</span>
<span id="cb16-8"><a href="#cb16-8"></a>    </span>
<span id="cb16-9"><a href="#cb16-9"></a>  })</span>
<span id="cb16-10"><a href="#cb16-10"></a>  </span>
<span id="cb16-11"><a href="#cb16-11"></a>  <span class="co"># trout scatterplot ----</span></span>
<span id="cb16-12"><a href="#cb16-12"></a>  output<span class="sc">$</span>trout_scatterplot_output <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb16-13"><a href="#cb16-13"></a>    </span>
<span id="cb16-14"><a href="#cb16-14"></a>    <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb16-15"><a href="#cb16-15"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb16-16"><a href="#cb16-16"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb16-17"><a href="#cb16-17"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb16-18"><a href="#cb16-18"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb16-19"><a href="#cb16-19"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb16-20"><a href="#cb16-20"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb16-21"><a href="#cb16-21"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb16-22"><a href="#cb16-22"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb16-23"><a href="#cb16-23"></a>      myCustomTheme</span>
<span id="cb16-24"><a href="#cb16-24"></a>    </span>
<span id="cb16-25"><a href="#cb16-25"></a>  }) </span>
<span id="cb16-26"><a href="#cb16-26"></a>  </span>
<span id="cb16-27"><a href="#cb16-27"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:35%;">
<p class="body-text">
<strong>A couple notes / reminders:</strong>
</p>
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> If needed, reference your <a href="https://ucsb-meds.github.io/EDS-430-Intro-to-Shiny/course-materials/slides/part2.2-two-file-app-slides.html#/app2-trout-plot">practice script</a> to remind yourself how you planned to filter and plot your data
</p>
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Reactive data frames need a set of parentheses, <code>()</code>, following the name of the df (see <code>ggplot(trout_filtered_df() ...)</code>)
</p>
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> For a cohesive appearance, save your custom ggplot theme function to <code>global.R</code> (here, <code>myCustomTheme()</code>), then apply to all plots in your app. See code on the following slide.
</p>
</div>
</div>
</section>
<section id="ggplot-theme" class="slide level2" data-menu-title="Save theme to global.R">
<h2></h2>
<p><span class="slide-title2">Save your custom <code>ggplot</code> theme to <code>global.R</code></span></p>
<hr>
<p class="body-text-s">
This allows us to easily add our theme as a layer to each of our ggplots. <strong>Bonus:</strong> If you decide to modify your plot theme, you only have to do so in one place.
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/global.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb17" data-code-line-numbers="27-38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="fu">library</span>(shinyWidgets)</span>
<span id="cb17-7"><a href="#cb17-7"></a></span>
<span id="cb17-8"><a href="#cb17-8"></a><span class="co"># DATA WRANGLING ----</span></span>
<span id="cb17-9"><a href="#cb17-9"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Cutthroat trout"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="fu">select</span>(sampledate, section, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-13"><a href="#cb17-13"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb17-14"><a href="#cb17-14"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb17-15"><a href="#cb17-15"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb17-16"><a href="#cb17-16"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb17-17"><a href="#cb17-17"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb17-18"><a href="#cb17-18"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb17-19"><a href="#cb17-19"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb17-20"><a href="#cb17-20"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb17-21"><a href="#cb17-21"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-22"><a href="#cb17-22"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb17-23"><a href="#cb17-23"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb17-24"><a href="#cb17-24"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb17-25"><a href="#cb17-25"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb17-26"><a href="#cb17-26"></a></span>
<span id="cb17-27"><a href="#cb17-27"></a><span class="co"># GGPLOT THEME ----</span></span>
<span id="cb17-28"><a href="#cb17-28"></a>myCustomTheme <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb17-29"><a href="#cb17-29"></a>  </span>
<span id="cb17-30"><a href="#cb17-30"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb17-31"><a href="#cb17-31"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb17-32"><a href="#cb17-32"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb17-33"><a href="#cb17-33"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb17-34"><a href="#cb17-34"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb17-35"><a href="#cb17-35"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb17-36"><a href="#cb17-36"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>))</span>
<span id="cb17-37"><a href="#cb17-37"></a>  </span>
<span id="cb17-38"><a href="#cb17-38"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="run-app2v1-first-widget" class="slide level2" data-menu-title="Run the App (trout pickerInput)">
<h2></h2>
<p><span class="slide-title">Run your app and try out your <code>pickerInput</code> widget!</span></p>
<hr>

<img data-src="images/part2/app2_plot1_widget1.gif" style="width:50.0%" alt="A user navigates to the 'Explore the Data' tab of our app, 'LTER Animal Data Explorer.' There is a scatterplot with Trout Length (mm) on the x-axis, and Trout Weight (g) on the y-axis. Points are colored and shaped by channel type. There is a pickerWidget to the left of the plot with the channel_types 'cascade' and 'pool' already selected. The user clicks other channel types on/off to see how the data points on the plot change." class="r-stretch quarto-figure-center"></section>
<section id="second-input-ui" class="slide level2" data-menu-title="Add a second input">
<h2></h2>
<p><span class="slide-title3">Add a second input that will update the same output</span></p>
<hr>
<p class="body-text-s">
You can have more than one input control the same output. Let’s now add a <code>checkboxGroupButtons</code> widget to our <strong>UI</strong> for selecting forest <code>section</code> (either clear cut forest or old growth forest). Check out the <a href="https://dreamrs.github.io/shinyWidgets/reference/checkboxGroupButtons.html">function documentation</a> for more information on how to customize the appearance of your buttons.
</p>
<p class="body-text-s">
Be sure to add the widget to the same <code>sidebarPanel</code> as our <code>pickerInput</code> (and separate them with a comma!):
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb18" data-code-line-numbers="11-16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="fu">sidebarPanel</span>(</span>
<span id="cb18-3"><a href="#cb18-3"></a>  </span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="co"># channel type pickerInput ----</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb18-6"><a href="#cb18-6"></a>              <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb18-7"><a href="#cb18-7"></a>              <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb18-8"><a href="#cb18-8"></a>              <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb18-9"><a href="#cb18-9"></a>              <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb18-10"><a href="#cb18-10"></a></span>
<span id="cb18-11"><a href="#cb18-11"></a>  <span class="co"># section checkboxGroupButtons ----</span></span>
<span id="cb18-12"><a href="#cb18-12"></a>  <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section(s):"</span>,</span>
<span id="cb18-13"><a href="#cb18-13"></a>                       <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb18-14"><a href="#cb18-14"></a>                       <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb18-15"><a href="#cb18-15"></a>                       <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb18-16"><a href="#cb18-16"></a>                       <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb18-17"><a href="#cb18-17"></a>                   </span>
<span id="cb18-18"><a href="#cb18-18"></a>            ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="second-input-server" class="slide level2" data-menu-title="Update reactive trout df">
<h2></h2>
<p><span class="slide-title2">Update your reactive df to <em>also</em> filter based on the new <code>checkboxGroupInput</code></span></p>
<hr>
<p class="body-text-s">
Return to your <strong>server</strong> to modify <code>trout_filtered_df</code> – our data frame needs to be updated based on both the <code>pickerInput</code>, which selects for <code>channel_type</code>, <em>and</em> the <code>checkboxGrouptInput</code>, which selects for forest <code>section</code>:
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>server.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb19" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># filter trout data ----</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb19-3"><a href="#cb19-3"></a></span>
<span id="cb19-4"><a href="#cb19-4"></a>    clean_trout <span class="sc">|&gt;</span></span>
<span id="cb19-5"><a href="#cb19-5"></a>      <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input)) <span class="sc">|&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6"></a>      <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>section_input))</span>
<span id="cb19-7"><a href="#cb19-7"></a>      </span>
<span id="cb19-8"><a href="#cb19-8"></a>  })</span>
<span id="cb19-9"><a href="#cb19-9"></a></span>
<span id="cb19-10"><a href="#cb19-10"></a><span class="co"># trout scatterplot ----</span></span>
<span id="cb19-11"><a href="#cb19-11"></a>output<span class="sc">$</span>trout_scatterplot_output <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb19-12"><a href="#cb19-12"></a></span>
<span id="cb19-13"><a href="#cb19-13"></a>  <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb19-14"><a href="#cb19-14"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb19-15"><a href="#cb19-15"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb19-16"><a href="#cb19-16"></a>                                  <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb19-17"><a href="#cb19-17"></a>                                  <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb19-18"><a href="#cb19-18"></a>    <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb19-19"><a href="#cb19-19"></a>                                  <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb19-20"><a href="#cb19-20"></a>                                  <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb19-21"><a href="#cb19-21"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb19-22"><a href="#cb19-22"></a>    myCustomTheme</span>
<span id="cb19-23"><a href="#cb19-23"></a></span>
<span id="cb19-24"><a href="#cb19-24"></a> })</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="run-app2v1-second-widget" class="slide level2" data-menu-title="Run the App">
<h2></h2>
<p><span class="slide-title2">Run your app and try out your <code>pickerInput</code> &amp; <code>checkboxGrouptInput</code> widgets!</span></p>
<hr>

<img data-src="images/part2/app2_plot1_widget2.gif" style="width:50.0%" alt="Our updated app, which includes the same trout scatterplot, but this time, two inputs: one selectInput that allows the user to filter for channel_type, and one checkboxGroupInput, which includes two buttons to select/deselect data collected from the clear cut forest section and the old growth forest section." class="r-stretch quarto-figure-center"></section>
<section id="break-section1" class="slide level2" data-menu-title="~~~ BREAK ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
Take a break
</p>
<p class="caption-text">
<em><strong>Up next:</strong> Adding in the penguins plot</em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_1d36f3b7" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="second-penguins" class="slide level2" data-menu-title="Next up, penguins">
<h2></h2>
<p><span class="slide-title2">Add data viz: Next up, penguins</span></p>
<hr>
<p class="body-text-s bottombr">
We’ll be using the <code>penguins</code> dataset from the <a href="https://allisonhorst.github.io/palmerpenguins/"><code>{palmerpenguins}</code> package</a> to create our second reactive plot. These data contain penguin (genus <em>Pygoscelis</em>) body size measurements collected from three islands in the Palmer Archipelago, Antarctica, as part of the <a href="https://pallter.marine.rutgers.edu/">Palmer Station LTER</a>. Original data can be found on the EDI Data Portal (<a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-pal.219.5">Adélie data</a>, <a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-pal.220.5">Gentoo data</a>, and <a href="https://portal.edirepository.org/nis/mapbrowse?packageid=knb-lter-pal.221.6">Chinstrap data</a>). Refer back to <a href="https://ucsb-meds.github.io/EDS-430-Intro-to-Shiny/course-materials/slides/part2.2-two-file-app-slides.html#/app2-penguin-plot">this slide</a> to revisit our practice data wrangling &amp; visualization script.
</p>
<p><br></p>

<img data-src="images/part2/meet_the_penguins.png" style="width:80.0%" alt="A cartoon drawing of Chinstrap (atop a purple background), Gentoo (atop a green background) and Adélie (atop an orange background) penguins." class="r-stretch quarto-figure-center"><center>
<p class="body-text-s gray-text">
Artwork by <a href="https://allisonhorst.com/"><span class="citation" data-cites="allison_horst">@allison_horst</span></a>
</p>
</center></section>
<section id="exercise3-prompt" class="slide level2" data-menu-title="** Exercise 3 Prompt **" data-background="#d2e3f3">
<h2></h2>
<p><span class="slide-title3"><i class="fa-solid fa-question" title="question mark" aria-label="question"></i> Exercise 3: Add a reactive plot to the ‘Penguins’ tab</span></p>
<hr>
<p class="body-text-s">
Working alone or in groups, add a reactive histogram of penguin flipper lengths (using the <code>penguins</code> data set from the <a href="https://allisonhorst.github.io/palmerpenguins/"><code>{palmerpenguins}</code> package</a>) to the <strong>Penguins</strong> tab. Your plot should have the following features and look like the example below, when complete:
</p>
<div class="columns">
<div class="column" style="width:50%;">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> data colored by penguin <code>species</code>
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> a <code>shinyWidgets::pickerInput()</code> that allows users to filter data based on <code>island</code>, and that includes buttons to <strong>Select All</strong> / <strong>Deselect All</strong> island options at once
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> a <code>shiny::sliderInput()</code> that allows users to change the number of histogram bins and that by default, displays a histogram with <strong>25</strong> bins
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> the two widgets should be placed in the <code>sidebarPanel</code> and the reactive histogram should be placed in the <code>mainPanel</code> of the <strong>Penguins</strong> tab
</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/penguin_plot.gif" style="width:100.0%" alt="A user navigates to the Penguins tab of our app to reveal a histogram of penguins flipper lengths. Data are colored by species (Adelie = orange, Chinstrap = purple, Gentoo = green). The user uses a pickerInput to filter data based on the island where they were collected. The user also adjust the bin number using a sliderInput."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><br></p>
<center>
<p class="body-text-l teal-text">
See next slide for some tips on getting started!
</p>
</center>
</section>
<section id="exercise3-tips" class="slide level2" data-menu-title="** Exercise 3 Tips **" data-background="#d2e3f3">
<h2></h2>
<p><span class="slide-title"><i class="fa-solid fa-lightbulb" title="a lightbulb" aria-label="lightbulb"></i> Exercise 3: Tips</span></p>
<hr>
<p><br></p>
<p><strong>Tips:</strong></p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Remember to load the <code>palmerpenguins</code> package at the top of <code>global.R</code> so that your app can find the data
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Add your widgets to the <code>sidebarPanel</code> and your plot output to the <code>mainPanel</code> of the <strong>Penguins</strong> tab – look for that placeholder text we added earlier to help place your new code in the correct spot within your UI!
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Try changing the histogram bin number in your practice code script first, before attempting to make it reactive
</p>
<p><br></p>
<p><strong>And remember</strong> to follow the our three steps for building reactive outputs (<span class="teal-text"><strong>(1)</strong></span> add input to UI, <span class="teal-text"><strong>(2)</strong></span> add output to UI, <span class="teal-text"><strong>(3)</strong></span> tell server how to assemble inputs into outputs)!</p>
<p><br> <br> <br></p>
<center>
<p class="body-text-l teal-text">
See next slide for a solution!
</p>
</center>
</section>
<section id="exercise3-solution" class="slide level2" data-menu-title="** Exercise 3 Solution **" data-background="#d2e3f3">
<h2></h2>
<p><span class="slide-title"><i class="fa-solid fa-check" title="check mark" aria-label="check"></i> Exercise 3: A solution</span></p>
<hr>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1"><code>global.R</code></a></li><li><a href="#tabset-2-2"><code>ui.R</code></a></li><li><a href="#tabset-2-3"><code>server.R</code></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb20" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb20-6"><a href="#cb20-6"></a><span class="fu">library</span>(shinyWidgets)</span>
<span id="cb20-7"><a href="#cb20-7"></a></span>
<span id="cb20-8"><a href="#cb20-8"></a><span class="co"># DATA WRANGLING ----</span></span>
<span id="cb20-9"><a href="#cb20-9"></a></span>
<span id="cb20-10"><a href="#cb20-10"></a><span class="co"># trout data</span></span>
<span id="cb20-11"><a href="#cb20-11"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb20-12"><a href="#cb20-12"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Cutthroat trout"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb20-13"><a href="#cb20-13"></a>  <span class="fu">select</span>(sampledate, section, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb20-14"><a href="#cb20-14"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb20-15"><a href="#cb20-15"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb20-16"><a href="#cb20-16"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb20-17"><a href="#cb20-17"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb20-18"><a href="#cb20-18"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb20-19"><a href="#cb20-19"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb20-20"><a href="#cb20-20"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb20-21"><a href="#cb20-21"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb20-22"><a href="#cb20-22"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb20-23"><a href="#cb20-23"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb20-24"><a href="#cb20-24"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb20-25"><a href="#cb20-25"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb20-26"><a href="#cb20-26"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb20-27"><a href="#cb20-27"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb20-28"><a href="#cb20-28"></a></span>
<span id="cb20-29"><a href="#cb20-29"></a><span class="co"># GGPLOT THEME ----</span></span>
<span id="cb20-30"><a href="#cb20-30"></a>myCustomTheme <span class="ot">&lt;-</span> <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb20-31"><a href="#cb20-31"></a>  <span class="fu">theme</span>(<span class="co">#text = element_text(family = "mono"), </span></span>
<span id="cb20-32"><a href="#cb20-32"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb20-33"><a href="#cb20-33"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb20-34"><a href="#cb20-34"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb20-35"><a href="#cb20-35"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb20-36"><a href="#cb20-36"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb20-37"><a href="#cb20-37"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="61-82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb21-2"><a href="#cb21-2"></a>  </span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb21-4"><a href="#cb21-4"></a>  </span>
<span id="cb21-5"><a href="#cb21-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb21-7"><a href="#cb21-7"></a>           </span>
<span id="cb21-8"><a href="#cb21-8"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb21-9"><a href="#cb21-9"></a>  </span>
<span id="cb21-10"><a href="#cb21-10"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb21-11"><a href="#cb21-11"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb21-12"><a href="#cb21-12"></a>           </span>
<span id="cb21-13"><a href="#cb21-13"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb21-14"><a href="#cb21-14"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb21-15"><a href="#cb21-15"></a>             </span>
<span id="cb21-16"><a href="#cb21-16"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb21-17"><a href="#cb21-17"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb21-18"><a href="#cb21-18"></a>                      </span>
<span id="cb21-19"><a href="#cb21-19"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb21-20"><a href="#cb21-20"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb21-21"><a href="#cb21-21"></a>                        </span>
<span id="cb21-22"><a href="#cb21-22"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb21-23"><a href="#cb21-23"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb21-24"><a href="#cb21-24"></a>                          </span>
<span id="cb21-25"><a href="#cb21-25"></a>                          <span class="co"># channel type pickerInput ----</span></span>
<span id="cb21-26"><a href="#cb21-26"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb21-27"><a href="#cb21-27"></a>                                      <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb21-28"><a href="#cb21-28"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-29"><a href="#cb21-29"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb21-30"><a href="#cb21-30"></a>                                      <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb21-31"><a href="#cb21-31"></a>                          </span>
<span id="cb21-32"><a href="#cb21-32"></a>                          <span class="co"># # section checkboxGroupInput ----</span></span>
<span id="cb21-33"><a href="#cb21-33"></a>                          <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section(s):"</span>,</span>
<span id="cb21-34"><a href="#cb21-34"></a>                                               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb21-35"><a href="#cb21-35"></a>                                               <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb21-36"><a href="#cb21-36"></a>                                               <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb21-37"><a href="#cb21-37"></a>                                               <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb21-38"><a href="#cb21-38"></a>                          </span>
<span id="cb21-39"><a href="#cb21-39"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb21-40"><a href="#cb21-40"></a>                        </span>
<span id="cb21-41"><a href="#cb21-41"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb21-42"><a href="#cb21-42"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb21-43"><a href="#cb21-43"></a>                          </span>
<span id="cb21-44"><a href="#cb21-44"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot_output"</span>)</span>
<span id="cb21-45"><a href="#cb21-45"></a>                          </span>
<span id="cb21-46"><a href="#cb21-46"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb21-47"><a href="#cb21-47"></a>                        </span>
<span id="cb21-48"><a href="#cb21-48"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb21-49"><a href="#cb21-49"></a>                      </span>
<span id="cb21-50"><a href="#cb21-50"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb21-51"><a href="#cb21-51"></a>             </span>
<span id="cb21-52"><a href="#cb21-52"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb21-53"><a href="#cb21-53"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb21-54"><a href="#cb21-54"></a>                      </span>
<span id="cb21-55"><a href="#cb21-55"></a>                      <span class="co"># penguin plot sidebarLayout ----</span></span>
<span id="cb21-56"><a href="#cb21-56"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb21-57"><a href="#cb21-57"></a>                        </span>
<span id="cb21-58"><a href="#cb21-58"></a>                        <span class="co"># penguin plot sidebarPanel ----</span></span>
<span id="cb21-59"><a href="#cb21-59"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb21-60"><a href="#cb21-60"></a>                          </span>
<span id="cb21-61"><a href="#cb21-61"></a>                          <span class="co"># island pickerInput ----</span></span>
<span id="cb21-62"><a href="#cb21-62"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_island_input"</span>, <span class="at">label =</span> <span class="st">"Select an island(s):"</span>,</span>
<span id="cb21-63"><a href="#cb21-63"></a>                                      <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb21-64"><a href="#cb21-64"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb21-65"><a href="#cb21-65"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb21-66"><a href="#cb21-66"></a>                                      <span class="at">multiple =</span> T), <span class="co"># </span><span class="re">END</span><span class="co"> island pickerInput</span></span>
<span id="cb21-67"><a href="#cb21-67"></a>                          </span>
<span id="cb21-68"><a href="#cb21-68"></a>                          <span class="co"># bin number sliderInput ----</span></span>
<span id="cb21-69"><a href="#cb21-69"></a>                          <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"bin_num_input"</span>, <span class="at">label =</span> <span class="st">"Select number of bins:"</span>,</span>
<span id="cb21-70"><a href="#cb21-70"></a>                                      <span class="at">value =</span> <span class="dv">25</span>, <span class="at">max =</span> <span class="dv">100</span>, <span class="at">min =</span> <span class="dv">1</span>), <span class="co"># </span><span class="re">END</span><span class="co"> bin number sliderInput</span></span>
<span id="cb21-71"><a href="#cb21-71"></a>                          </span>
<span id="cb21-72"><a href="#cb21-72"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarPanel</span></span>
<span id="cb21-73"><a href="#cb21-73"></a>                        </span>
<span id="cb21-74"><a href="#cb21-74"></a>                        <span class="co"># penguin plot mainPanel ----</span></span>
<span id="cb21-75"><a href="#cb21-75"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb21-76"><a href="#cb21-76"></a>                          </span>
<span id="cb21-77"><a href="#cb21-77"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"flipperLength_histogram_output"</span>) </span>
<span id="cb21-78"><a href="#cb21-78"></a>                          </span>
<span id="cb21-79"><a href="#cb21-79"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot mainPanel</span></span>
<span id="cb21-80"><a href="#cb21-80"></a>                        </span>
<span id="cb21-81"><a href="#cb21-81"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarLayout</span></span>
<span id="cb21-82"><a href="#cb21-82"></a>                      </span>
<span id="cb21-83"><a href="#cb21-83"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb21-84"><a href="#cb21-84"></a>             </span>
<span id="cb21-85"><a href="#cb21-85"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb21-86"><a href="#cb21-86"></a>           </span>
<span id="cb21-87"><a href="#cb21-87"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb21-88"><a href="#cb21-88"></a>  </span>
<span id="cb21-89"><a href="#cb21-89"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb22" data-code-line-numbers="28-47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb22-2"><a href="#cb22-2"></a>  </span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="co"># filter for channel types ----</span></span>
<span id="cb22-4"><a href="#cb22-4"></a>  trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb22-5"><a href="#cb22-5"></a></span>
<span id="cb22-6"><a href="#cb22-6"></a>      clean_trout <span class="sc">|&gt;</span></span>
<span id="cb22-7"><a href="#cb22-7"></a>        <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input)) <span class="sc">|&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8"></a>        <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>section_input))</span>
<span id="cb22-9"><a href="#cb22-9"></a>        </span>
<span id="cb22-10"><a href="#cb22-10"></a>    })</span>
<span id="cb22-11"><a href="#cb22-11"></a></span>
<span id="cb22-12"><a href="#cb22-12"></a>  <span class="co"># trout scatterplot ----</span></span>
<span id="cb22-13"><a href="#cb22-13"></a>  output<span class="sc">$</span>trout_scatterplot_output <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb22-14"><a href="#cb22-14"></a></span>
<span id="cb22-15"><a href="#cb22-15"></a>    <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb22-16"><a href="#cb22-16"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb22-17"><a href="#cb22-17"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb22-18"><a href="#cb22-18"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb22-19"><a href="#cb22-19"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb22-20"><a href="#cb22-20"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb22-21"><a href="#cb22-21"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb22-22"><a href="#cb22-22"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb22-23"><a href="#cb22-23"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb22-24"><a href="#cb22-24"></a>      <span class="fu">myCustomTheme</span>()</span>
<span id="cb22-25"><a href="#cb22-25"></a></span>
<span id="cb22-26"><a href="#cb22-26"></a>  })</span>
<span id="cb22-27"><a href="#cb22-27"></a>  </span>
<span id="cb22-28"><a href="#cb22-28"></a>  <span class="co"># filter for island ----</span></span>
<span id="cb22-29"><a href="#cb22-29"></a>  island_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb22-30"><a href="#cb22-30"></a></span>
<span id="cb22-31"><a href="#cb22-31"></a>    penguins <span class="sc">%&gt;%</span></span>
<span id="cb22-32"><a href="#cb22-32"></a>      <span class="fu">filter</span>(island <span class="sc">%in%</span> input<span class="sc">$</span>penguin_island_input)</span>
<span id="cb22-33"><a href="#cb22-33"></a></span>
<span id="cb22-34"><a href="#cb22-34"></a>  })</span>
<span id="cb22-35"><a href="#cb22-35"></a></span>
<span id="cb22-36"><a href="#cb22-36"></a>  <span class="co"># render the flipper length histogram ----</span></span>
<span id="cb22-37"><a href="#cb22-37"></a>  output<span class="sc">$</span>flipperLength_histogram_output <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb22-38"><a href="#cb22-38"></a></span>
<span id="cb22-39"><a href="#cb22-39"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">island_df</span>()), <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb22-40"><a href="#cb22-40"></a>      <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">position =</span> <span class="st">"identity"</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin_num_input) <span class="sc">+</span></span>
<span id="cb22-41"><a href="#cb22-41"></a>      <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb22-42"><a href="#cb22-42"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb22-43"><a href="#cb22-43"></a>           <span class="at">fill =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb22-44"><a href="#cb22-44"></a>      <span class="fu">myCustomTheme</span>()</span>
<span id="cb22-45"><a href="#cb22-45"></a>    </span>
<span id="cb22-46"><a href="#cb22-46"></a>  })</span>
<span id="cb22-47"><a href="#cb22-47"></a>  </span>
<span id="cb22-48"><a href="#cb22-48"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="break-section2" class="slide level2" data-menu-title="~~~ BREAK ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
Take a break
</p>
<p class="caption-text">
<em><strong>Up next:</strong> we’ll finish up by adding some intro text to the landing page</em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_a3b9a3d1" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="add-text" class="slide level2" data-menu-title="Add text">
<h2></h2>
<p><span class="slide-title">Add background / other important text</span></p>
<hr>
<p class="body-text">
It’s usually valuable (and important) to provide some background information/context for your app – the landing page of your app can be a great place for this. We’re going to add text to our app’s landing page (i.e.&nbsp;the <strong>About this App</strong> page) so that it looks like the example below:
</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part2/landing-text.png" style="width:100.0%" alt="The landing page (i.e. the 'About this App' page) of ourapp, which includes a large h1 title that says 'Welcome to the LTER Animal Data Explorer!' followed by two subsections titled, 'Why did we build this app?' and 'Where's the data?'. A faint gray horizontal divider line separates these sections from the footer at the bottom of the page, which tells the user that the app is maintained by Samantha Csik, is updated as needed for teaching purposes, to report issues at a link, and that source code is found on GitHub."></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><br> <br></p>
<p class="body-text bottombr">
<strong>Some important pieces for information to consider adding:</strong>
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> motivation for building the app
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> brief instructions for exploring the data
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> who maintains the app, where the code lives, how to submit issues / suggestions
</p>
</div>
</div>
</section>
<section id="unruly-text" class="slide level2" data-menu-title="Unruly text in the UI">
<h2></h2>
<p><span class="slide-title2">Adding long text to the UI can get unruly</span></p>
<hr>
<p class="body-text-s">
For example, I’ve added and formatted my landing page’s text directly in the <strong>UI</strong> using lots of nested <code>tags</code> – I’ve done this inside the <code>tabPanel</code> titled <strong>About this App</strong> (<strong>Note:</strong> I’ve formatted the layout of this page a bit using <code>fluidRow</code> and <code>column</code>s to create some white space around the edges. I’ve also created a faint gray horizontal line, using <code>hr()</code>, beneath which I added a footnote):
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb23" data-code-line-numbers="8-24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb23-2"><a href="#cb23-2"></a>  </span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb23-4"><a href="#cb23-4"></a>  </span>
<span id="cb23-5"><a href="#cb23-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb23-6"><a href="#cb23-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb23-7"><a href="#cb23-7"></a>           </span>
<span id="cb23-8"><a href="#cb23-8"></a>           <span class="fu">fluidRow</span>(</span>
<span id="cb23-9"><a href="#cb23-9"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb23-10"><a href="#cb23-10"></a>             <span class="fu">column</span>(<span class="dv">10</span>,</span>
<span id="cb23-11"><a href="#cb23-11"></a>                    tags<span class="sc">$</span><span class="fu">h1</span>(<span class="st">"Welcome to the LTER Animal Data Explorer!"</span>),</span>
<span id="cb23-12"><a href="#cb23-12"></a>                    tags<span class="sc">$</span><span class="fu">br</span>(),</span>
<span id="cb23-13"><a href="#cb23-13"></a>                    tags<span class="sc">$</span><span class="fu">h4</span>(<span class="st">"Why did we build this app?"</span>),</span>
<span id="cb23-14"><a href="#cb23-14"></a>                    tags<span class="sc">$</span><span class="fu">p</span>(<span class="st">"This shiny app was built, in part, to provide users a way of exploring morphological characteristics of the different animal species found within NSF's"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://lternet.edu/"</span>, <span class="st">"Long Term Ecological Research (LTER)"</span>), <span class="st">"sites...but primarily, it was built as a teaching tool for"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://bren.ucsb.edu/courses/eds-430"</span>, <span class="st">"EDS 430 (Intro to Shiny)"</span>), <span class="st">"-- this workshop, taught through the"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://ucsb-meds.github.io/"</span>, <span class="st">"Master of Environmental Data Science (MEDS) program"</span>), <span class="st">"at the"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://bren.ucsb.edu/"</span>, <span class="st">"Bren School of Environmental Science and Management"</span>), <span class="st">"is a two-day coding-intensive course meant to meant to provide a introductory foundation in shiny app development."</span>),</span>
<span id="cb23-15"><a href="#cb23-15"></a>                    tags<span class="sc">$</span><span class="fu">br</span>(),</span>
<span id="cb23-16"><a href="#cb23-16"></a>                    tags<span class="sc">$</span><span class="fu">h4</span>(<span class="st">"Where's the data?"</span>),</span>
<span id="cb23-17"><a href="#cb23-17"></a>                    tags<span class="sc">$</span><span class="fu">p</span>(<span class="st">"Check out the"</span>, tags<span class="sc">$</span><span class="fu">strong</span>(<span class="st">"Explore the Data"</span>), <span class="st">"page to find interactive data visualizations looking at Cutthroat trout of the"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://andrewsforest.oregonstate.edu/"</span>, <span class="st">"Andrews Forest LTER"</span>), <span class="st">"and Adélie, Gentoo &amp; Chinstrap penguins of the"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://pallter.marine.rutgers.edu/"</span>, <span class="st">"Palmer Station LTER."</span>))</span>
<span id="cb23-18"><a href="#cb23-18"></a>             ),</span>
<span id="cb23-19"><a href="#cb23-19"></a>             <span class="fu">column</span>(<span class="dv">1</span>)</span>
<span id="cb23-20"><a href="#cb23-20"></a>           ), <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow</span></span>
<span id="cb23-21"><a href="#cb23-21"></a>           </span>
<span id="cb23-22"><a href="#cb23-22"></a>           <span class="fu">hr</span>(),</span>
<span id="cb23-23"><a href="#cb23-23"></a>           </span>
<span id="cb23-24"><a href="#cb23-24"></a>           <span class="fu">em</span>(<span class="st">"This app is maintained by"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://samanthacsik.github.io/"</span>, <span class="st">"Samantha Csik"</span>), <span class="st">"and is updated as needed for teaching purposes. Please report any issues"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://github.com/samanthacsik/EDS430-shiny-app/issues"</span>, <span class="st">"here."</span>), <span class="st">"Source code can be found on"</span>, tags<span class="sc">$</span><span class="fu">a</span>(<span class="at">href =</span> <span class="st">"https://github.com/samanthacsik/EDS430-shiny-app"</span>, <span class="st">"GitHub."</span>))</span>
<span id="cb23-25"><a href="#cb23-25"></a>           </span>
<span id="cb23-26"><a href="#cb23-26"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb23-27"><a href="#cb23-27"></a>  </span>
<span id="cb23-28"><a href="#cb23-28"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb23-29"><a href="#cb23-29"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb23-30"><a href="#cb23-30"></a>           </span>
<span id="cb23-31"><a href="#cb23-31"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb23-32"><a href="#cb23-32"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb23-33"><a href="#cb23-33"></a>             </span>
<span id="cb23-34"><a href="#cb23-34"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb23-35"><a href="#cb23-35"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb23-36"><a href="#cb23-36"></a>                      </span>
<span id="cb23-37"><a href="#cb23-37"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb23-38"><a href="#cb23-38"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb23-39"><a href="#cb23-39"></a>                        </span>
<span id="cb23-40"><a href="#cb23-40"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb23-41"><a href="#cb23-41"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb23-42"><a href="#cb23-42"></a>                          </span>
<span id="cb23-43"><a href="#cb23-43"></a>                          <span class="co"># channel type pickerInput ----</span></span>
<span id="cb23-44"><a href="#cb23-44"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb23-45"><a href="#cb23-45"></a>                                      <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb23-46"><a href="#cb23-46"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-47"><a href="#cb23-47"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb23-48"><a href="#cb23-48"></a>                                      <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb23-49"><a href="#cb23-49"></a>                          </span>
<span id="cb23-50"><a href="#cb23-50"></a>                          <span class="co"># # section checkboxGroupInput ----</span></span>
<span id="cb23-51"><a href="#cb23-51"></a>                          <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section:"</span>,</span>
<span id="cb23-52"><a href="#cb23-52"></a>                                               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb23-53"><a href="#cb23-53"></a>                                               <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb23-54"><a href="#cb23-54"></a>                                               <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb23-55"><a href="#cb23-55"></a>                                               <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb23-56"><a href="#cb23-56"></a>                          </span>
<span id="cb23-57"><a href="#cb23-57"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb23-58"><a href="#cb23-58"></a>                        </span>
<span id="cb23-59"><a href="#cb23-59"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb23-60"><a href="#cb23-60"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb23-61"><a href="#cb23-61"></a>                          </span>
<span id="cb23-62"><a href="#cb23-62"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot_output"</span>) </span>
<span id="cb23-63"><a href="#cb23-63"></a>                          </span>
<span id="cb23-64"><a href="#cb23-64"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb23-65"><a href="#cb23-65"></a>                        </span>
<span id="cb23-66"><a href="#cb23-66"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb23-67"><a href="#cb23-67"></a>                      </span>
<span id="cb23-68"><a href="#cb23-68"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb23-69"><a href="#cb23-69"></a>             </span>
<span id="cb23-70"><a href="#cb23-70"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb23-71"><a href="#cb23-71"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb23-72"><a href="#cb23-72"></a>                      </span>
<span id="cb23-73"><a href="#cb23-73"></a>                      <span class="co"># penguin plot sidebarLayout ----</span></span>
<span id="cb23-74"><a href="#cb23-74"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb23-75"><a href="#cb23-75"></a>                        </span>
<span id="cb23-76"><a href="#cb23-76"></a>                        <span class="co"># penguin plot sidebarPanel ----</span></span>
<span id="cb23-77"><a href="#cb23-77"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb23-78"><a href="#cb23-78"></a>                          </span>
<span id="cb23-79"><a href="#cb23-79"></a>                          <span class="co"># island pickerInput ----</span></span>
<span id="cb23-80"><a href="#cb23-80"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_island_input"</span>, <span class="at">label =</span> <span class="st">"Select an island:"</span>,</span>
<span id="cb23-81"><a href="#cb23-81"></a>                                      <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb23-82"><a href="#cb23-82"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb23-83"><a href="#cb23-83"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb23-84"><a href="#cb23-84"></a>                                      <span class="at">multiple =</span> T), <span class="co"># </span><span class="re">END</span><span class="co"> island pickerInput</span></span>
<span id="cb23-85"><a href="#cb23-85"></a>                          </span>
<span id="cb23-86"><a href="#cb23-86"></a>                          <span class="co"># bin number sliderInput ----</span></span>
<span id="cb23-87"><a href="#cb23-87"></a>                          <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"bin_num_input"</span>, <span class="at">label =</span> <span class="st">"Select number of bins:"</span>,</span>
<span id="cb23-88"><a href="#cb23-88"></a>                                      <span class="at">value =</span> <span class="dv">25</span>, <span class="at">max =</span> <span class="dv">100</span>, <span class="at">min =</span> <span class="dv">1</span>), <span class="co"># </span><span class="re">END</span><span class="co"> bin number sliderInput</span></span>
<span id="cb23-89"><a href="#cb23-89"></a>                          </span>
<span id="cb23-90"><a href="#cb23-90"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarPanel</span></span>
<span id="cb23-91"><a href="#cb23-91"></a>                        </span>
<span id="cb23-92"><a href="#cb23-92"></a>                        <span class="co"># penguin plot mainPanel ----</span></span>
<span id="cb23-93"><a href="#cb23-93"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb23-94"><a href="#cb23-94"></a>                          </span>
<span id="cb23-95"><a href="#cb23-95"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"flipperLength_histogram_output"</span>) </span>
<span id="cb23-96"><a href="#cb23-96"></a>                          </span>
<span id="cb23-97"><a href="#cb23-97"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot mainPanel</span></span>
<span id="cb23-98"><a href="#cb23-98"></a>                        </span>
<span id="cb23-99"><a href="#cb23-99"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarLayout</span></span>
<span id="cb23-100"><a href="#cb23-100"></a>                      </span>
<span id="cb23-101"><a href="#cb23-101"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb23-102"><a href="#cb23-102"></a>             </span>
<span id="cb23-103"><a href="#cb23-103"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb23-104"><a href="#cb23-104"></a>           </span>
<span id="cb23-105"><a href="#cb23-105"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb23-106"><a href="#cb23-106"></a>  </span>
<span id="cb23-107"><a href="#cb23-107"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="includeMarkdown" class="slide level2" data-menu-title="includeMarkdown()">
<h2></h2>
<p><span class="slide-title">Instead, use <code>includeMarkdown()</code></span></p>
<hr>
<p class="body-text-s">
To maintain readability and an overall tidier-looking UI, you can write and style long bodies of text in separate markdown (<code>.md</code>) files that you then read into your UI using the <code>includeMarkdown()</code> function (<strong>Important:</strong> the <code>includeMarkdown()</code> function requires the <code>{markdown}</code> package – be sure to add <code>library(markdown)</code> to your <code>global.R</code> file!). I recommend saving those <code>.md</code> files in a subdirectory named <code>/text</code> within your app’s directory (e.g.&nbsp;<code>~/two-file-app/text/mytext.md</code>).
</p>
<p class="body-text-s">
Below shows how we can use this approach to simplify our UI:
</p>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1"><code>ui.R</code></a></li><li><a href="#tabset-3-2"><code>about.md</code></a></li><li><a href="#tabset-3-3"><code>text/footer.md</code></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb24" data-code-line-numbers="8-21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb24-2"><a href="#cb24-2"></a>  </span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb24-4"><a href="#cb24-4"></a>  </span>
<span id="cb24-5"><a href="#cb24-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb24-6"><a href="#cb24-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb24-7"><a href="#cb24-7"></a>           </span>
<span id="cb24-8"><a href="#cb24-8"></a>           <span class="co"># intro text fluidRow ----</span></span>
<span id="cb24-9"><a href="#cb24-9"></a>           <span class="fu">fluidRow</span>(</span>
<span id="cb24-10"><a href="#cb24-10"></a>             </span>
<span id="cb24-11"><a href="#cb24-11"></a>             <span class="co"># use columns to create white space on sides</span></span>
<span id="cb24-12"><a href="#cb24-12"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb24-13"><a href="#cb24-13"></a>             <span class="fu">column</span>(<span class="dv">10</span>, <span class="fu">includeMarkdown</span>(<span class="st">"text/about.md"</span>)),</span>
<span id="cb24-14"><a href="#cb24-14"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb24-15"><a href="#cb24-15"></a>             </span>
<span id="cb24-16"><a href="#cb24-16"></a>           ), <span class="co"># </span><span class="re">END</span><span class="co"> intro text fluidRow</span></span>
<span id="cb24-17"><a href="#cb24-17"></a>           </span>
<span id="cb24-18"><a href="#cb24-18"></a>           <span class="fu">hr</span>(), <span class="co"># creates light gray horizontal line</span></span>
<span id="cb24-19"><a href="#cb24-19"></a>           </span>
<span id="cb24-20"><a href="#cb24-20"></a>           <span class="co"># footer text ----</span></span>
<span id="cb24-21"><a href="#cb24-21"></a>           <span class="fu">includeMarkdown</span>(<span class="st">"text/footer.md"</span>)</span>
<span id="cb24-22"><a href="#cb24-22"></a>           </span>
<span id="cb24-23"><a href="#cb24-23"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb24-24"><a href="#cb24-24"></a>  </span>
<span id="cb24-25"><a href="#cb24-25"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb24-26"><a href="#cb24-26"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb24-27"><a href="#cb24-27"></a>           </span>
<span id="cb24-28"><a href="#cb24-28"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb24-29"><a href="#cb24-29"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb24-30"><a href="#cb24-30"></a>             </span>
<span id="cb24-31"><a href="#cb24-31"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb24-32"><a href="#cb24-32"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb24-33"><a href="#cb24-33"></a>                      </span>
<span id="cb24-34"><a href="#cb24-34"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb24-35"><a href="#cb24-35"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb24-36"><a href="#cb24-36"></a>                        </span>
<span id="cb24-37"><a href="#cb24-37"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb24-38"><a href="#cb24-38"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb24-39"><a href="#cb24-39"></a>                          </span>
<span id="cb24-40"><a href="#cb24-40"></a>                          <span class="co"># channel type pickerInput ----</span></span>
<span id="cb24-41"><a href="#cb24-41"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb24-42"><a href="#cb24-42"></a>                                      <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb24-43"><a href="#cb24-43"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb24-44"><a href="#cb24-44"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb24-45"><a href="#cb24-45"></a>                                      <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb24-46"><a href="#cb24-46"></a>                          </span>
<span id="cb24-47"><a href="#cb24-47"></a>                          <span class="co"># # section checkboxGroupInput ----</span></span>
<span id="cb24-48"><a href="#cb24-48"></a>                          <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section:"</span>,</span>
<span id="cb24-49"><a href="#cb24-49"></a>                                               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb24-50"><a href="#cb24-50"></a>                                               <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb24-51"><a href="#cb24-51"></a>                                               <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb24-52"><a href="#cb24-52"></a>                                               <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb24-53"><a href="#cb24-53"></a>                          </span>
<span id="cb24-54"><a href="#cb24-54"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb24-55"><a href="#cb24-55"></a>                        </span>
<span id="cb24-56"><a href="#cb24-56"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb24-57"><a href="#cb24-57"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb24-58"><a href="#cb24-58"></a>                          </span>
<span id="cb24-59"><a href="#cb24-59"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot_output"</span>) </span>
<span id="cb24-60"><a href="#cb24-60"></a>                          </span>
<span id="cb24-61"><a href="#cb24-61"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb24-62"><a href="#cb24-62"></a>                        </span>
<span id="cb24-63"><a href="#cb24-63"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb24-64"><a href="#cb24-64"></a>                      </span>
<span id="cb24-65"><a href="#cb24-65"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel</span></span>
<span id="cb24-66"><a href="#cb24-66"></a>             </span>
<span id="cb24-67"><a href="#cb24-67"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb24-68"><a href="#cb24-68"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb24-69"><a href="#cb24-69"></a>                      </span>
<span id="cb24-70"><a href="#cb24-70"></a>                      <span class="co"># penguin plot sidebarLayout ----</span></span>
<span id="cb24-71"><a href="#cb24-71"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb24-72"><a href="#cb24-72"></a>                        </span>
<span id="cb24-73"><a href="#cb24-73"></a>                        <span class="co"># penguin plot sidebarPanel ----</span></span>
<span id="cb24-74"><a href="#cb24-74"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb24-75"><a href="#cb24-75"></a>                          </span>
<span id="cb24-76"><a href="#cb24-76"></a>                          <span class="co"># island pickerInput ----</span></span>
<span id="cb24-77"><a href="#cb24-77"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_island_input"</span>, <span class="at">label =</span> <span class="st">"Select an island:"</span>,</span>
<span id="cb24-78"><a href="#cb24-78"></a>                                      <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb24-79"><a href="#cb24-79"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb24-80"><a href="#cb24-80"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb24-81"><a href="#cb24-81"></a>                                      <span class="at">multiple =</span> T), <span class="co"># </span><span class="re">END</span><span class="co"> island pickerInput</span></span>
<span id="cb24-82"><a href="#cb24-82"></a>                          </span>
<span id="cb24-83"><a href="#cb24-83"></a>                          <span class="co"># bin number sliderInput ----</span></span>
<span id="cb24-84"><a href="#cb24-84"></a>                          <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"bin_num_input"</span>, <span class="at">label =</span> <span class="st">"Select number of bins:"</span>,</span>
<span id="cb24-85"><a href="#cb24-85"></a>                                      <span class="at">value =</span> <span class="dv">25</span>, <span class="at">max =</span> <span class="dv">100</span>, <span class="at">min =</span> <span class="dv">1</span>), <span class="co"># </span><span class="re">END</span><span class="co"> bin number sliderInput</span></span>
<span id="cb24-86"><a href="#cb24-86"></a>                          </span>
<span id="cb24-87"><a href="#cb24-87"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarPanel</span></span>
<span id="cb24-88"><a href="#cb24-88"></a>                        </span>
<span id="cb24-89"><a href="#cb24-89"></a>                        <span class="co"># penguin plot mainPanel ----</span></span>
<span id="cb24-90"><a href="#cb24-90"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb24-91"><a href="#cb24-91"></a>                          </span>
<span id="cb24-92"><a href="#cb24-92"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"flipperLength_histogram_output"</span>)</span>
<span id="cb24-93"><a href="#cb24-93"></a>                          </span>
<span id="cb24-94"><a href="#cb24-94"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot mainPanel</span></span>
<span id="cb24-95"><a href="#cb24-95"></a>                        </span>
<span id="cb24-96"><a href="#cb24-96"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarLayout</span></span>
<span id="cb24-97"><a href="#cb24-97"></a>                      </span>
<span id="cb24-98"><a href="#cb24-98"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb24-99"><a href="#cb24-99"></a>             </span>
<span id="cb24-100"><a href="#cb24-100"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb24-101"><a href="#cb24-101"></a>           </span>
<span id="cb24-102"><a href="#cb24-102"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb24-103"><a href="#cb24-103"></a>  </span>
<span id="cb24-104"><a href="#cb24-104"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/text/about.md</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">## Welcome to the LTER Animal Data Explorer!</span></span>
<span id="cb25-2"><a href="#cb25-2"></a></span>
<span id="cb25-3"><a href="#cb25-3"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb25-4"><a href="#cb25-4"></a></span>
<span id="cb25-5"><a href="#cb25-5"></a><span class="fu">#### Why did we build this app?</span></span>
<span id="cb25-6"><a href="#cb25-6"></a></span>
<span id="cb25-7"><a href="#cb25-7"></a>This shiny app was built, in part, to provide users a way of exploring morphological characteristics of the different animal species found within NSF's <span class="co">[</span><span class="ot">Long Term Ecological Research (LTER)</span><span class="co">](https://lternet.edu/)</span> sites...but primarily, it was built as a teaching tool for <span class="co">[</span><span class="ot">EDS 430 (Intro to Shiny)</span><span class="co">](https://bren.ucsb.edu/courses/eds-430)</span> -- this workshop, taught through the <span class="co">[</span><span class="ot">Master of Environmental Data Science (MEDS) program</span><span class="co">](https://ucsb-meds.github.io/)</span> at the <span class="co">[</span><span class="ot">Bren School of Environmental Science and Management</span><span class="co">](https://bren.ucsb.edu/)</span>, is a two-day coding-intensive course meant to meant to provide a introductory foundation in shiny app development.</span>
<span id="cb25-8"><a href="#cb25-8"></a></span>
<span id="cb25-9"><a href="#cb25-9"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb25-10"><a href="#cb25-10"></a></span>
<span id="cb25-11"><a href="#cb25-11"></a><span class="fu">#### Where's the data? </span></span>
<span id="cb25-12"><a href="#cb25-12"></a></span>
<span id="cb25-13"><a href="#cb25-13"></a>Check out the **Explore the Data** page to find interactive data visualizations looking at Cutthroat trout of the <span class="co">[</span><span class="ot">Andrews Forest LTER</span><span class="co">](https://andrewsforest.oregonstate.edu/)</span> and Adelie, Gentoo &amp; Chinstrap penguins of the <span class="co">[</span><span class="ot">Palmer Station LTER</span><span class="co">](https://pallter.marine.rutgers.edu/)</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-3-3">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/text/footer/md</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1"></a>*This app is maintained by [Samantha Csik](https://samanthacsik.github.io/) and is updated as needed for teaching purposes. Please report any issues [here](https://github.com/samanthacsik/EDS430-shiny-app/issues). Source code can be found on [GitHub](https://github.com/samanthacsik/EDS430-shiny-app).*</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="last-run" class="slide level2" data-menu-title="Check out your full app!">
<h2></h2>
<p><span class="slide-title3">Run your app one more time to admire your beautiful creation!</span></p>
<hr>

<img data-src="images/part2/app2_v1.gif" style="width:80.0%" alt="An app titled 'LTER Animal Data Explorer'. The user starts on the 'About this App' page, which includes a couple paragraphs of intro text. The user then clicks on the 'Explore the Data' page which has two tabs: Trout and Penguins. On the Trout tab, we see a scatterplot with Trout Length (mm) on the x-axis and Trout Weight (g) on the y-axis. The user first filters data by Channel Type using a drop down list selector widget, then by Forest Section using two buttons that toggle on data from clear cut vs. old growth forest. In the Penguin tab, we see a histogram displaying Flipper Lengths (mm) of three penguin species. The user uses a drop down list selector widget to filter data by Island, then uses a slider widget to adjust the number of histogram bins." class="r-stretch quarto-figure-center"><p class="body-text-s">
Again, we have some UX/UI quirks to fix (most notably, blank plots when all widget options are deselected), which we’ll handle soon. But for now, we have a functioning app that we can practice deploying for the first time!
</p>
</section>
<section id="app2-code" class="slide level2" data-menu-title="App #2 code (so far)">
<h2></h2>
<p><span class="slide-title">Code recap for app #2, so far:</span></p>
<hr>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1"><code>global.R</code></a></li><li><a href="#tabset-4-2"><code>ui.R</code></a></li><li><a href="#tabset-4-3"><code>server.R</code></a></li><li><a href="#tabset-4-4"><code>about.md</code></a></li><li><a href="#tabset-4-5"><code>footer.md</code></a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/global.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># LOAD LIBRARIES ----</span></span>
<span id="cb27-2"><a href="#cb27-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb27-3"><a href="#cb27-3"></a><span class="fu">library</span>(lterdatasampler)</span>
<span id="cb27-4"><a href="#cb27-4"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb27-5"><a href="#cb27-5"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb27-6"><a href="#cb27-6"></a><span class="fu">library</span>(shinyWidgets)</span>
<span id="cb27-7"><a href="#cb27-7"></a><span class="fu">library</span>(markdown)</span>
<span id="cb27-8"><a href="#cb27-8"></a></span>
<span id="cb27-9"><a href="#cb27-9"></a><span class="co"># DATA WRANGLING ----</span></span>
<span id="cb27-10"><a href="#cb27-10"></a>clean_trout <span class="ot">&lt;-</span> and_vertebrates <span class="sc">|&gt;</span></span>
<span id="cb27-11"><a href="#cb27-11"></a>  <span class="fu">filter</span>(species <span class="sc">==</span> <span class="fu">c</span>(<span class="st">"Cutthroat trout"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb27-12"><a href="#cb27-12"></a>  <span class="fu">select</span>(sampledate, section, species, <span class="at">length_mm =</span> length_1_mm, weight_g, <span class="at">channel_type =</span> unittype) <span class="sc">|&gt;</span> </span>
<span id="cb27-13"><a href="#cb27-13"></a>  <span class="fu">mutate</span>(<span class="at">channel_type =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-14"><a href="#cb27-14"></a>    channel_type <span class="sc">==</span> <span class="st">"C"</span> <span class="sc">~</span> <span class="st">"cascade"</span>,</span>
<span id="cb27-15"><a href="#cb27-15"></a>    channel_type <span class="sc">==</span> <span class="st">"I"</span> <span class="sc">~</span> <span class="st">"riffle"</span>,</span>
<span id="cb27-16"><a href="#cb27-16"></a>    channel_type <span class="sc">==</span><span class="st">"IP"</span> <span class="sc">~</span> <span class="st">"isolated pool"</span>,</span>
<span id="cb27-17"><a href="#cb27-17"></a>    channel_type <span class="sc">==</span><span class="st">"P"</span> <span class="sc">~</span> <span class="st">"pool"</span>,</span>
<span id="cb27-18"><a href="#cb27-18"></a>    channel_type <span class="sc">==</span><span class="st">"R"</span> <span class="sc">~</span> <span class="st">"rapid"</span>,</span>
<span id="cb27-19"><a href="#cb27-19"></a>    channel_type <span class="sc">==</span><span class="st">"S"</span> <span class="sc">~</span> <span class="st">"step (small falls)"</span>,</span>
<span id="cb27-20"><a href="#cb27-20"></a>    channel_type <span class="sc">==</span><span class="st">"SC"</span> <span class="sc">~</span> <span class="st">"side channel"</span></span>
<span id="cb27-21"><a href="#cb27-21"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb27-22"><a href="#cb27-22"></a>  <span class="fu">mutate</span>(<span class="at">section =</span> <span class="fu">case_when</span>(</span>
<span id="cb27-23"><a href="#cb27-23"></a>    section <span class="sc">==</span> <span class="st">"CC"</span> <span class="sc">~</span> <span class="st">"clear cut forest"</span>,</span>
<span id="cb27-24"><a href="#cb27-24"></a>    section <span class="sc">==</span> <span class="st">"OG"</span> <span class="sc">~</span> <span class="st">"old growth forest"</span></span>
<span id="cb27-25"><a href="#cb27-25"></a>  )) <span class="sc">|&gt;</span> </span>
<span id="cb27-26"><a href="#cb27-26"></a>  <span class="fu">drop_na</span>()</span>
<span id="cb27-27"><a href="#cb27-27"></a></span>
<span id="cb27-28"><a href="#cb27-28"></a><span class="co"># GGPLOT THEME ----</span></span>
<span id="cb27-29"><a href="#cb27-29"></a>myCustomTheme <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb27-30"><a href="#cb27-30"></a>  </span>
<span id="cb27-31"><a href="#cb27-31"></a>  <span class="fu">theme_light</span>() <span class="sc">+</span></span>
<span id="cb27-32"><a href="#cb27-32"></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb27-33"><a href="#cb27-33"></a>    <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-34"><a href="#cb27-34"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb27-35"><a href="#cb27-35"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">13</span>),</span>
<span id="cb27-36"><a href="#cb27-36"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb27-37"><a href="#cb27-37"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">colour =</span> <span class="st">"black"</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="fl">0.7</span>))</span>
<span id="cb27-38"><a href="#cb27-38"></a>  </span>
<span id="cb27-39"><a href="#cb27-39"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">navbarPage</span>(</span>
<span id="cb28-2"><a href="#cb28-2"></a>  </span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="at">title =</span> <span class="st">"LTER Animal Data Explorer"</span>,</span>
<span id="cb28-4"><a href="#cb28-4"></a>  </span>
<span id="cb28-5"><a href="#cb28-5"></a>  <span class="co"># (Page 1) intro tabPanel ----</span></span>
<span id="cb28-6"><a href="#cb28-6"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"About this App"</span>,</span>
<span id="cb28-7"><a href="#cb28-7"></a>           </span>
<span id="cb28-8"><a href="#cb28-8"></a>           <span class="co"># intro text fluidRow ----</span></span>
<span id="cb28-9"><a href="#cb28-9"></a>           <span class="fu">fluidRow</span>(</span>
<span id="cb28-10"><a href="#cb28-10"></a>             </span>
<span id="cb28-11"><a href="#cb28-11"></a>             <span class="co"># use columns to create white space on sides</span></span>
<span id="cb28-12"><a href="#cb28-12"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb28-13"><a href="#cb28-13"></a>             <span class="fu">column</span>(<span class="dv">10</span>, <span class="fu">includeMarkdown</span>(<span class="st">"text/about.md"</span>)),</span>
<span id="cb28-14"><a href="#cb28-14"></a>             <span class="fu">column</span>(<span class="dv">1</span>),</span>
<span id="cb28-15"><a href="#cb28-15"></a>             </span>
<span id="cb28-16"><a href="#cb28-16"></a>           ), <span class="co"># </span><span class="re">END</span><span class="co"> intro text fluidRow</span></span>
<span id="cb28-17"><a href="#cb28-17"></a>           </span>
<span id="cb28-18"><a href="#cb28-18"></a>           <span class="fu">hr</span>(), <span class="co"># creates light gray horizontal line</span></span>
<span id="cb28-19"><a href="#cb28-19"></a>           </span>
<span id="cb28-20"><a href="#cb28-20"></a>           <span class="co"># footer text ----</span></span>
<span id="cb28-21"><a href="#cb28-21"></a>           <span class="fu">includeMarkdown</span>(<span class="st">"text/footer.md"</span>)</span>
<span id="cb28-22"><a href="#cb28-22"></a>           </span>
<span id="cb28-23"><a href="#cb28-23"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> (Page 1) intro tabPanel</span></span>
<span id="cb28-24"><a href="#cb28-24"></a>  </span>
<span id="cb28-25"><a href="#cb28-25"></a>  <span class="co"># (Page 2) data viz tabPanel ----</span></span>
<span id="cb28-26"><a href="#cb28-26"></a>  <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Explore the Data"</span>,</span>
<span id="cb28-27"><a href="#cb28-27"></a>           </span>
<span id="cb28-28"><a href="#cb28-28"></a>           <span class="co"># tabsetPanel to contain tabs for data viz ----</span></span>
<span id="cb28-29"><a href="#cb28-29"></a>           <span class="fu">tabsetPanel</span>(</span>
<span id="cb28-30"><a href="#cb28-30"></a>             </span>
<span id="cb28-31"><a href="#cb28-31"></a>             <span class="co"># trout tabPanel ----</span></span>
<span id="cb28-32"><a href="#cb28-32"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Trout"</span>,</span>
<span id="cb28-33"><a href="#cb28-33"></a>                      </span>
<span id="cb28-34"><a href="#cb28-34"></a>                      <span class="co"># trout plot sidebarLayout ----</span></span>
<span id="cb28-35"><a href="#cb28-35"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb28-36"><a href="#cb28-36"></a>                        </span>
<span id="cb28-37"><a href="#cb28-37"></a>                        <span class="co"># trout plot sidebarPanel ----</span></span>
<span id="cb28-38"><a href="#cb28-38"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb28-39"><a href="#cb28-39"></a>                          </span>
<span id="cb28-40"><a href="#cb28-40"></a>                          <span class="co"># channel type pickerInput ----</span></span>
<span id="cb28-41"><a href="#cb28-41"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"channel_type_input"</span>, <span class="at">label =</span> <span class="st">"Select channel type(s):"</span>,</span>
<span id="cb28-42"><a href="#cb28-42"></a>                                      <span class="at">choices =</span> <span class="fu">unique</span>(clean_trout<span class="sc">$</span>channel_type),</span>
<span id="cb28-43"><a href="#cb28-43"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb28-44"><a href="#cb28-44"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"cascade"</span>, <span class="st">"pool"</span>),</span>
<span id="cb28-45"><a href="#cb28-45"></a>                                      <span class="at">multiple =</span> <span class="cn">TRUE</span>), <span class="co"># </span><span class="re">END</span><span class="co"> channel type pickerInput</span></span>
<span id="cb28-46"><a href="#cb28-46"></a>                          </span>
<span id="cb28-47"><a href="#cb28-47"></a>                          <span class="co"># # section checkboxGroupInput ----</span></span>
<span id="cb28-48"><a href="#cb28-48"></a>                          <span class="fu">checkboxGroupButtons</span>(<span class="at">inputId =</span> <span class="st">"section_input"</span>, <span class="at">label =</span> <span class="st">"Select a sampling section(s):"</span>,</span>
<span id="cb28-49"><a href="#cb28-49"></a>                                               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb28-50"><a href="#cb28-50"></a>                                               <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"clear cut forest"</span>, <span class="st">"old growth forest"</span>),</span>
<span id="cb28-51"><a href="#cb28-51"></a>                                               <span class="at">individual =</span> <span class="cn">FALSE</span>, <span class="at">justified =</span> <span class="cn">TRUE</span>, <span class="at">size =</span> <span class="st">"sm"</span>,</span>
<span id="cb28-52"><a href="#cb28-52"></a>                                               <span class="at">checkIcon =</span> <span class="fu">list</span>(<span class="at">yes =</span> <span class="fu">icon</span>(<span class="st">"ok"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>), <span class="at">no =</span> <span class="fu">icon</span>(<span class="st">"remove"</span>, <span class="at">lib =</span> <span class="st">"glyphicon"</span>))), <span class="co"># </span><span class="re">END</span><span class="co"> section checkboxGroupInput</span></span>
<span id="cb28-53"><a href="#cb28-53"></a>                          </span>
<span id="cb28-54"><a href="#cb28-54"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarPanel</span></span>
<span id="cb28-55"><a href="#cb28-55"></a>                        </span>
<span id="cb28-56"><a href="#cb28-56"></a>                        <span class="co"># trout plot mainPanel ----</span></span>
<span id="cb28-57"><a href="#cb28-57"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb28-58"><a href="#cb28-58"></a>                          </span>
<span id="cb28-59"><a href="#cb28-59"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"trout_scatterplot_output"</span>) </span>
<span id="cb28-60"><a href="#cb28-60"></a>                          </span>
<span id="cb28-61"><a href="#cb28-61"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot mainPanel</span></span>
<span id="cb28-62"><a href="#cb28-62"></a>                        </span>
<span id="cb28-63"><a href="#cb28-63"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> trout plot sidebarLayout</span></span>
<span id="cb28-64"><a href="#cb28-64"></a>                      </span>
<span id="cb28-65"><a href="#cb28-65"></a>             ), <span class="co"># </span><span class="re">END</span><span class="co"> trout tabPanel </span></span>
<span id="cb28-66"><a href="#cb28-66"></a>             </span>
<span id="cb28-67"><a href="#cb28-67"></a>             <span class="co"># penguin tabPanel ----</span></span>
<span id="cb28-68"><a href="#cb28-68"></a>             <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Penguins"</span>,</span>
<span id="cb28-69"><a href="#cb28-69"></a>                      </span>
<span id="cb28-70"><a href="#cb28-70"></a>                      <span class="co"># penguin plot sidebarLayout ----</span></span>
<span id="cb28-71"><a href="#cb28-71"></a>                      <span class="fu">sidebarLayout</span>(</span>
<span id="cb28-72"><a href="#cb28-72"></a>                        </span>
<span id="cb28-73"><a href="#cb28-73"></a>                        <span class="co"># penguin plot sidebarPanel ----</span></span>
<span id="cb28-74"><a href="#cb28-74"></a>                        <span class="fu">sidebarPanel</span>(</span>
<span id="cb28-75"><a href="#cb28-75"></a>                          </span>
<span id="cb28-76"><a href="#cb28-76"></a>                          <span class="co"># island pickerInput ----</span></span>
<span id="cb28-77"><a href="#cb28-77"></a>                          <span class="fu">pickerInput</span>(<span class="at">inputId =</span> <span class="st">"penguin_island_input"</span>, <span class="at">label =</span> <span class="st">"Select an island(s):"</span>,</span>
<span id="cb28-78"><a href="#cb28-78"></a>                                      <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb28-79"><a href="#cb28-79"></a>                                      <span class="at">selected =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Dream"</span>, <span class="st">"Biscoe"</span>),</span>
<span id="cb28-80"><a href="#cb28-80"></a>                                      <span class="at">options =</span> <span class="fu">pickerOptions</span>(<span class="at">actionsBox =</span> <span class="cn">TRUE</span>),</span>
<span id="cb28-81"><a href="#cb28-81"></a>                                      <span class="at">multiple =</span> T), <span class="co"># </span><span class="re">END</span><span class="co"> island pickerInput</span></span>
<span id="cb28-82"><a href="#cb28-82"></a>                          </span>
<span id="cb28-83"><a href="#cb28-83"></a>                          <span class="co"># bin number sliderInput ----</span></span>
<span id="cb28-84"><a href="#cb28-84"></a>                          <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"bin_num_input"</span>, <span class="at">label =</span> <span class="st">"Select number of bins:"</span>,</span>
<span id="cb28-85"><a href="#cb28-85"></a>                                      <span class="at">value =</span> <span class="dv">25</span>, <span class="at">max =</span> <span class="dv">100</span>, <span class="at">min =</span> <span class="dv">1</span>), <span class="co"># </span><span class="re">END</span><span class="co"> bin number sliderInput</span></span>
<span id="cb28-86"><a href="#cb28-86"></a>                          </span>
<span id="cb28-87"><a href="#cb28-87"></a>                        ), <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarPanel</span></span>
<span id="cb28-88"><a href="#cb28-88"></a>                        </span>
<span id="cb28-89"><a href="#cb28-89"></a>                        <span class="co"># penguin plot mainPanel ----</span></span>
<span id="cb28-90"><a href="#cb28-90"></a>                        <span class="fu">mainPanel</span>(</span>
<span id="cb28-91"><a href="#cb28-91"></a>                          </span>
<span id="cb28-92"><a href="#cb28-92"></a>                          <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"flipperLength_histogram_input"</span>) </span>
<span id="cb28-93"><a href="#cb28-93"></a>                          </span>
<span id="cb28-94"><a href="#cb28-94"></a>                        ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot mainPanel</span></span>
<span id="cb28-95"><a href="#cb28-95"></a>                        </span>
<span id="cb28-96"><a href="#cb28-96"></a>                      ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin plot sidebarLayout</span></span>
<span id="cb28-97"><a href="#cb28-97"></a>                      </span>
<span id="cb28-98"><a href="#cb28-98"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> penguin tabPanel</span></span>
<span id="cb28-99"><a href="#cb28-99"></a>             </span>
<span id="cb28-100"><a href="#cb28-100"></a>           ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb28-101"><a href="#cb28-101"></a>           </span>
<span id="cb28-102"><a href="#cb28-102"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> (Page 2) data viz tabPanel</span></span>
<span id="cb28-103"><a href="#cb28-103"></a>  </span>
<span id="cb28-104"><a href="#cb28-104"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> navbarPage</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-4-3">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/server.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb29-2"><a href="#cb29-2"></a>  </span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="co"># filter for channel types ----</span></span>
<span id="cb29-4"><a href="#cb29-4"></a>  trout_filtered_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb29-5"><a href="#cb29-5"></a></span>
<span id="cb29-6"><a href="#cb29-6"></a>      clean_trout <span class="sc">|&gt;</span></span>
<span id="cb29-7"><a href="#cb29-7"></a>        <span class="fu">filter</span>(channel_type <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>channel_type_input)) <span class="sc">|&gt;</span></span>
<span id="cb29-8"><a href="#cb29-8"></a>        <span class="fu">filter</span>(section <span class="sc">%in%</span> <span class="fu">c</span>(input<span class="sc">$</span>section_input))</span>
<span id="cb29-9"><a href="#cb29-9"></a>        </span>
<span id="cb29-10"><a href="#cb29-10"></a>    })</span>
<span id="cb29-11"><a href="#cb29-11"></a></span>
<span id="cb29-12"><a href="#cb29-12"></a>  <span class="co"># trout scatterplot ----</span></span>
<span id="cb29-13"><a href="#cb29-13"></a>  output<span class="sc">$</span>trout_scatterplot_output <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb29-14"><a href="#cb29-14"></a></span>
<span id="cb29-15"><a href="#cb29-15"></a>    <span class="fu">ggplot</span>(<span class="fu">trout_filtered_df</span>(), <span class="fu">aes</span>(<span class="at">x =</span> length_mm, <span class="at">y =</span> weight_g, <span class="at">color =</span> channel_type, <span class="at">shape =</span> channel_type)) <span class="sc">+</span></span>
<span id="cb29-16"><a href="#cb29-16"></a>      <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb29-17"><a href="#cb29-17"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="st">"#2E2585"</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="st">"#337538"</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="st">"#DCCD7D"</span>,</span>
<span id="cb29-18"><a href="#cb29-18"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="st">"#5DA899"</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="st">"#C16A77"</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="st">"#9F4A96"</span>,</span>
<span id="cb29-19"><a href="#cb29-19"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="st">"#94CBEC"</span>)) <span class="sc">+</span></span>
<span id="cb29-20"><a href="#cb29-20"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"cascade"</span> <span class="ot">=</span> <span class="dv">15</span>, <span class="st">"riffle"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"isolated pool"</span> <span class="ot">=</span> <span class="dv">19</span>,</span>
<span id="cb29-21"><a href="#cb29-21"></a>                                    <span class="st">"pool"</span> <span class="ot">=</span> <span class="dv">18</span>, <span class="st">"rapid"</span> <span class="ot">=</span> <span class="dv">8</span>, <span class="st">"step (small falls)"</span> <span class="ot">=</span> <span class="dv">23</span>,</span>
<span id="cb29-22"><a href="#cb29-22"></a>                                    <span class="st">"side channel"</span> <span class="ot">=</span> <span class="dv">25</span>)) <span class="sc">+</span></span>
<span id="cb29-23"><a href="#cb29-23"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Trout Length (mm)"</span>, <span class="at">y =</span> <span class="st">"Trout Weight (g)"</span>, <span class="at">color =</span> <span class="st">"Channel Type"</span>, <span class="at">shape =</span> <span class="st">"Channel Type"</span>) <span class="sc">+</span></span>
<span id="cb29-24"><a href="#cb29-24"></a>      <span class="fu">myCustomTheme</span>()</span>
<span id="cb29-25"><a href="#cb29-25"></a></span>
<span id="cb29-26"><a href="#cb29-26"></a>  })</span>
<span id="cb29-27"><a href="#cb29-27"></a>  </span>
<span id="cb29-28"><a href="#cb29-28"></a>  <span class="co"># filter for island ----</span></span>
<span id="cb29-29"><a href="#cb29-29"></a>  island_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb29-30"><a href="#cb29-30"></a></span>
<span id="cb29-31"><a href="#cb29-31"></a>    penguins <span class="sc">|&gt;</span> </span>
<span id="cb29-32"><a href="#cb29-32"></a>      <span class="fu">filter</span>(island <span class="sc">%in%</span> input<span class="sc">$</span>penguin_island_input)</span>
<span id="cb29-33"><a href="#cb29-33"></a></span>
<span id="cb29-34"><a href="#cb29-34"></a>  })</span>
<span id="cb29-35"><a href="#cb29-35"></a></span>
<span id="cb29-36"><a href="#cb29-36"></a>  <span class="co"># render the flipper length histogram ----</span></span>
<span id="cb29-37"><a href="#cb29-37"></a>  output<span class="sc">$</span>flipperLength_histogram_output <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb29-38"><a href="#cb29-38"></a></span>
<span id="cb29-39"><a href="#cb29-39"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">island_df</span>()), <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">fill =</span> species)) <span class="sc">+</span></span>
<span id="cb29-40"><a href="#cb29-40"></a>      <span class="fu">geom_histogram</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>, <span class="at">position =</span> <span class="st">"identity"</span>, <span class="at">bins =</span> input<span class="sc">$</span>bin_num_input) <span class="sc">+</span></span>
<span id="cb29-41"><a href="#cb29-41"></a>      <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb29-42"><a href="#cb29-42"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>,</span>
<span id="cb29-43"><a href="#cb29-43"></a>           <span class="at">fill =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb29-44"><a href="#cb29-44"></a>      myCustomTheme</span>
<span id="cb29-45"><a href="#cb29-45"></a>    </span>
<span id="cb29-46"><a href="#cb29-46"></a>  })</span>
<span id="cb29-47"><a href="#cb29-47"></a>  </span>
<span id="cb29-48"><a href="#cb29-48"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-4-4">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/text/about.md</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">## Welcome to the LTER Animal Data Explorer!</span></span>
<span id="cb30-2"><a href="#cb30-2"></a></span>
<span id="cb30-3"><a href="#cb30-3"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb30-4"><a href="#cb30-4"></a></span>
<span id="cb30-5"><a href="#cb30-5"></a><span class="fu">#### Why did we build this app?</span></span>
<span id="cb30-6"><a href="#cb30-6"></a></span>
<span id="cb30-7"><a href="#cb30-7"></a>This shiny app was built, in part, to provide users a way of exploring morphological characteristics of the different animal species found within NSF's <span class="co">[</span><span class="ot">Long Term Ecological Research (LTER)</span><span class="co">](https://lternet.edu/)</span> sites...but primarily, it was built as a teaching tool for <span class="co">[</span><span class="ot">EDS 430 (Intro to Shiny)</span><span class="co">](https://bren.ucsb.edu/courses/eds-430)</span> -- this workshop, taught through the <span class="co">[</span><span class="ot">Master of Environmental Data Science (MEDS) program</span><span class="co">](https://ucsb-meds.github.io/)</span> at the <span class="co">[</span><span class="ot">Bren School of Environmental Science and Management</span><span class="co">](https://bren.ucsb.edu/)</span>, is a two-day coding-intensive course meant to meant to provide a introductory foundation in shiny app development.</span>
<span id="cb30-8"><a href="#cb30-8"></a></span>
<span id="cb30-9"><a href="#cb30-9"></a><span class="kw">&lt;br&gt;</span></span>
<span id="cb30-10"><a href="#cb30-10"></a></span>
<span id="cb30-11"><a href="#cb30-11"></a><span class="fu">#### Where's the data? </span></span>
<span id="cb30-12"><a href="#cb30-12"></a></span>
<span id="cb30-13"><a href="#cb30-13"></a>Check out the **Explore the Data** page to find interactive data visualizations looking at Cutthroat trout of the <span class="co">[</span><span class="ot">Andrews Forest LTER</span><span class="co">](https://andrewsforest.oregonstate.edu/)</span> and Adelie, Gentoo &amp; Chinstrap penguins of the <span class="co">[</span><span class="ot">Palmer Station LTER</span><span class="co">](https://pallter.marine.rutgers.edu/)</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-4-5">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/two-file-app/text/footer.md</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb31-1"><a href="#cb31-1"></a>*This app is maintained by [Samantha Csik](https://samanthacsik.github.io/) and is updated as needed for teaching purposes. Please report any issues [here](https://github.com/samanthacsik/EDS430-shiny-app/issues). Source code can be found on [GitHub](https://github.com/samanthacsik/EDS430-shiny-app).*</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="end" class="slide level2" data-menu-title="~~~ BREAK ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
End part 2.2
</p>
<p class="caption-text">
<em><strong>Up next:</strong> deploying our app with <a href="https://www.shinyapps.io/">shinyapps.io</a></em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_07be47a0" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>

<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>