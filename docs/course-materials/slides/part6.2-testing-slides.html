<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>EDS 430 – part6.2-testing-slides</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="../../site_libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="title-slide" class="slide level2 center" data-menu-title="Title Slide" data-background="#053660">
<h2></h2>
<p><span class="custom-title">EDS 430: Part 6.2</span></p>
<p><span class="custom-subtitle"><em>Testing</em></span></p>
<hr class="hr-teal">
<p><span class="custom-subtitle3">Week 2 | February 2<sup>nd</sup>, 2024</span></p>
</section>
<section id="testing" class="slide level2" data-menu-title="~~~ Testing ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<i class="fa-solid fa-file-code" title="a file with the code symbol, </>, on it" aria-label="file-code"></i> Testing
</p>
<p class="caption-text">
<em>Creating automated tests for your apps can save time and effort, ensuring that they continue working as expected.</em>
</p>
</div>
</section>
<section id="LO-testing" class="slide level2" data-menu-title="Learning Objectives - Testing">
<h2></h2>
<p><span class="slide-title"><i class="fa-solid fa-book-open" title="an open book" aria-label="book-open"></i> Learning Objectives for Testing</span></p>
<hr>
<p class="body-text-l teal-text bottombr">
After this section, you should:
</p>
<div class="fragment">
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> understand some of the reasons why apps break and the benefit of having automated tests</p>
</div>
<div class="fragment">
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> have a basic understanding of how to use the <code>{shinytest2}</code> package to create regression tests</p>
</div>
<div class="fragment">
<p><span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> know how to rerun tests</p>
</div>
<div class="fragment">
<p class="body-text-l teal-text topbr">
Packages introduced:
</p>
</div>
<div class="fragment">
<p><span class="teal-text"><i class="fa-solid fa-box-open" title="an open box" aria-label="box-open"></i></span> <code>{shinytest2}</code>: provides tools for creating and running automated tests on Shiny applications</p>
</div>
</section>
<section id="shiny-workflow" class="slide level2" data-menu-title="Shiny workflow">
<h2></h2>
<p><span class="slide-title2">This workflow should look a bit familiar . . .</span></p>
<hr>
<ol type="1">
<li>Add / adjust some reactivity</li>
<li>Click “Run App”</li>
<li>Manually experiment with (i.e.&nbsp;informally test) the new feature to see if it works</li>
<li>Rinse &amp; repeat</li>
</ol>
<p><br></p>
<div class="fragment">
<p>But what if you have 20 apps?</p>
<p><br></p>
</div>
<div class="fragment">
<p>Or many team members?</p>
<p><br></p>
</div>
<div class="fragment">
<p><strong>It becomes increasingly challenging to remember all the features you need to test, or how each works.</strong> Things can also get lost in translation with manual testing (e.g.&nbsp;can you explain to your coworker(s) <em>all</em> of your app’s features and make sure that they manually test it properly?).</p>
<div class="footer">
<p>Slide adapted from Barret Schloerke’s rstudio::conf(2022) talk, <a href="https://www.youtube.com/watch?v=DMgAW4m5aTI"><code>{shinytest2}</code>: Unit testing for Shiny applications</a></p>
</div>
</div>
</section>
<section id="why-test" class="slide level2" data-menu-title="Why test?">
<h2></h2>
<p><span class="slide-title">Why test our Shiny apps?</span></p>
<hr>
<p>It’s almost inevitable that our app(s) will (at some point) break – there are lots of reasons why this happens, but to name a few:</p>
<div class="fragment">
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> an upgraded R package(s) has a different behavior (this includes <code>{shiny}</code>) – this is especially relevant for those apps hosted on servers, where server software (including packages) may be updated by system administrators
</p>
</div>
<div class="fragment">
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> you make changes to your app (e.g.&nbsp;add new features, refactor code)
</p>
</div>
<div class="fragment">
<p class="body-text-s topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> an external data source stops working or returns data in a different format than that expected by your app
</p>
</div>
<div class="fragment">
<p><br></p>
<p>Manually testing Shiny apps is takes a lot of time and effort, is often inconsistent, and doesn’t scale well (e.g.&nbsp;for larger apps, many apps, or for larger teams of collaborators).</p>
</div>
<div class="fragment">
<p><br></p>
<p><strong>It can save a lot of time and headache (for you <em>and</em> your collaborators) to have an automated system that checks if your app is working as expected.</strong></p>
</div>
</section>
<section class="slide level2">

<p>Different levels/types of tests:</p>
<ul>
<li><strong>Unit tests</strong> test individual functions, components, modules of your app (e.g.&nbsp;can your app handle the expected data? does your user see what you expect them to see?)</li>
<li><strong>Integration tests</strong> test how your app works with external systems (e.g.&nbsp;APIs)</li>
</ul>
<p><a href="https://www.atlassian.com/continuous-delivery/software-testing/types-of-software-testing" class="uri">https://www.atlassian.com/continuous-delivery/software-testing/types-of-software-testing</a></p>
</section>
<section id="shinytest2" class="slide level2" data-menu-title="{shinytest2}">
<h2></h2>
<p><span class="slide-title">Enter the <code>{shinytest2}</code> package</span></p>
<hr>
<p>The <a href="https://rstudio.github.io/shinytest2/articles/shinytest2.html"><code>{shinytest2}</code> package</a> provides useful tools for <strong>unit testing</strong> Shiny apps. This process is also known as <a href="https://en.wikipedia.org/wiki/Regression_testing"><strong>regression testing</strong></a>, since we’ll be testing existing app behavior for consistency over time (we don’t want app behavior to regress).</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<p class="body-text">
From the <code>{shinytest2}</code> documentation:
</p>
<p class="body-text-s quote-text-bg">
“<em><code>{shinytest2}</code> uses <code>{testthat}</code>’s snapshot-based testing strategy. The first time it runs a set of tests for an application, it performs some scripted interactions with the app and takes one or more snapshots of the application’s state. These snapshots are saved to disk so that future runs of the tests can compare their results to them.</em>”
</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part6/shinytest2-hex.png" style="width:60.0%" alt="A hex that's split down the middle horizontally. The top half is the blue Shiny hex and the bottom half looks like the red {testthat} hex, except it reads 'test2'."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><span class="body-text-s">With <code>{shinytest2}</code>, we can interact with our app via the “app recorder” and our test code will be automatically generated for us. We can then rerun tests to check for consistency as we iterate on our app.</span></p>
<div class="footer">
<p><code>{shinytest2}</code> uses <a href="https://rstudio.github.io/chromote/"><code>{chromote}</code></a> to render your app in a headless <a href="https://www.chromium.org/chromium-projects/">Chromium browser</a> – by default, it uses Google Chrome, so make sure you have that installed on your OS!</p>
</div>
</section>
<section id="setting-stage" class="slide level2" data-menu-title="Setting the stage">
<h2></h2>
<p><span class="slide-title">Let’s imagine . . .</span></p>
<hr>
<p><span class="body-text-s">Your boss has tasked you with building a Shiny app, and asks that you begin with a feature that greets users by name. <strong>Create a new folder, <code>testing-app/</code>, in your GitHub repo and add the following files:</strong></span></p>
<!-- --- -->
<!-- ##  {#starting-app data-menu-title="Starting app"} -->
<!-- [Let's start with the following app]{.slide-title} -->
<!-- <hr> -->
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><code>global.R</code></a></li><li><a href="#tabset-1-2"><code>ui.R</code></a></li><li><a href="#tabset-1-3"><code>server.R</code></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>testing-app/global.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># load libraries ----</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(shiny)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>testing-app/ui.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="co"># Feature 1 ------------------------------------------------------------------</span></span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a>  <span class="fu">h3</span>(<span class="st">"Feature 1"</span>),</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a>  <span class="co"># fluidRow (Feature 1: greeting) ----</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>  <span class="fu">fluidRow</span>(</span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a>    <span class="co"># greeting sidebarLayout ----</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    <span class="fu">sidebarLayout</span>(</span>
<span id="cb2-12"><a href="#cb2-12"></a></span>
<span id="cb2-13"><a href="#cb2-13"></a>      <span class="co"># greeting sidebarPanel ----</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>      <span class="fu">sidebarPanel</span>(</span>
<span id="cb2-15"><a href="#cb2-15"></a></span>
<span id="cb2-16"><a href="#cb2-16"></a>        <span class="fu">textInput</span>(<span class="at">inputId =</span> <span class="st">"name_input"</span>,</span>
<span id="cb2-17"><a href="#cb2-17"></a>                  <span class="at">label =</span> <span class="st">"What is your name?"</span>),</span>
<span id="cb2-18"><a href="#cb2-18"></a></span>
<span id="cb2-19"><a href="#cb2-19"></a>        <span class="fu">actionButton</span>(<span class="at">inputId =</span> <span class="st">"greeting_button_input"</span>,</span>
<span id="cb2-20"><a href="#cb2-20"></a>                     <span class="at">label =</span> <span class="st">"Greet"</span>),</span>
<span id="cb2-21"><a href="#cb2-21"></a></span>
<span id="cb2-22"><a href="#cb2-22"></a>      ), <span class="co"># </span><span class="re">END</span><span class="co"> greeting sidebarPanel</span></span>
<span id="cb2-23"><a href="#cb2-23"></a></span>
<span id="cb2-24"><a href="#cb2-24"></a>      <span class="co"># greeting mainPanel ----</span></span>
<span id="cb2-25"><a href="#cb2-25"></a>      <span class="fu">mainPanel</span>(</span>
<span id="cb2-26"><a href="#cb2-26"></a></span>
<span id="cb2-27"><a href="#cb2-27"></a>        <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">"greeting_output"</span>),</span>
<span id="cb2-28"><a href="#cb2-28"></a></span>
<span id="cb2-29"><a href="#cb2-29"></a>      ) <span class="co"># </span><span class="re">END</span><span class="co"> greeting mainPanel</span></span>
<span id="cb2-30"><a href="#cb2-30"></a></span>
<span id="cb2-31"><a href="#cb2-31"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> greeting sidebarLayout</span></span>
<span id="cb2-32"><a href="#cb2-32"></a></span>
<span id="cb2-33"><a href="#cb2-33"></a>  ), <span class="co"># </span><span class="re">END</span><span class="co"> fluidRow (Feature 1: greeting)</span></span>
<span id="cb2-34"><a href="#cb2-34"></a>  </span>
<span id="cb2-35"><a href="#cb2-35"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-1-3">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>testing-app/server.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb3-2"><a href="#cb3-2"></a>  </span>
<span id="cb3-3"><a href="#cb3-3"></a>  <span class="co"># Feature 1 ------------------------------------------------------------------</span></span>
<span id="cb3-4"><a href="#cb3-4"></a></span>
<span id="cb3-5"><a href="#cb3-5"></a>  output<span class="sc">$</span>greeting_output <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>    <span class="fu">req</span>(input<span class="sc">$</span>greeting_button_input) <span class="co"># req(): textOutput doesn't appear until button is first pressed</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>    <span class="fu">paste0</span>(<span class="st">"Hello "</span>, <span class="fu">isolate</span>(input<span class="sc">$</span>name_input), <span class="st">"!"</span>) <span class="co"># isolate(): prevents textOutput from updating until button is pressed again</span></span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a>  }) </span>
<span id="cb3-11"><a href="#cb3-11"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="run-ex1-appp" class="slide level2" data-menu-title="Run the app">
<h2></h2>
<p><span class="slide-title3">Manually test your app and make note of how it works</span></p>
<hr>

<img data-src="images/part6/ex1-explore.gif" style="width:80.0%" class="r-stretch quarto-figure-center"><p><br></p>
<div class="center-text">
<p>Let’s say that you are satisfied with your work (yay!) and are now ready to write some automated tests to ensure consistent behavior as you continue to build out additional features.</p>
</div>
</section>
<section class="slide level2">

<p><span class="slide-title">Write down your assumptions</span></p>
<hr>
<p>Before we dive into writing any tests, it’s super helpful to inspect your app and, <em>importantly</em> jot down any assumptions it makes of both the inputs and outputs.</p>
<p><br></p>
<p>I find it easiest to consider which <strong>actions</strong> can be taken, and what the <strong>expected outputs</strong> (aka assertions) in the app’s final state should be.</p>
<p><br></p>
<div class="fragment">
<table>
<colgroup>
<col style="width: 56%">
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th>Action(s)</th>
<th>Expectation(s)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Type [some text value] in text box, click Greet button</td>
<td>Greeting output is “Hello [some text value]!”</td>
</tr>
<tr class="even">
<td>Type [some text value] in text box, click Greet button, type [some other text value] in text box, click Greet button</td>
<td>Greeting output is “Hello [some other text value]!”</td>
</tr>
<tr class="odd">
<td>Click Greet button</td>
<td>Greeting output is “Hello !”</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="testing-procedure" class="slide level2" data-menu-title="Testing procedure">
<h2></h2>
<p><span class="slide-title2">Test your assumptions using the <code>{shinytest2}</code> workflow</span></p>
<hr>
<p><br></p>
<p><span class="teal-text"><strong>Generally speaking, that workflow looks something like this:</strong></span></p>
<p><br></p>
<div class="fragment">
<p><span class="teal-text"><strong>(1)</strong></span> Run <code>shinytest2::record_test(&lt;app-directory&gt;)</code> in your Console to launch the app recorder in a browser window</p>
<p><br></p>
</div>
<div class="fragment">
<p><span class="teal-text"><strong>(2)</strong></span> Interact with your application and tell the recorder to make an expectation of the app’s state, which will record all <code>input</code>, <code>output</code>, and <code>exported</code> values.</p>
<!-- (e.g. an expected value when inputX is updated) on the state at various points -->
<p><br></p>
</div>
<div class="fragment">
<p><span class="teal-text"><strong>(3)</strong></span> Give your test a unique name and quit the recorder to save and execute your tests</p>
<p><br></p>
</div>
<div class="fragment">
<div class="center-text body-text-m">
<p>We’ll repeat this workflow to test each of our three assumptions listed on the previous slide.</p>
</div>
</div>
</section>
<section id="chromote-timeout" class="slide level2" data-menu-title="chromote time out">
<h2></h2>
<p><span class="slide-title2">FYI (a warning about chromote time outs)</span></p>
<hr>
<p><br> <br> <br></p>
<p>If you receive the following error message after running, <code>shinytest2::record_test("testing-app")</code>, you’ll need to restart R:</p>
<p><br></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Caused by error<span class="sc">:</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span> Chromote<span class="sc">:</span> timed out waiting <span class="cf">for</span> response to command Target.createTarget</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>It’s a pretty annoying error, which seems to be an <a href="https://github.com/rstudio/chromote/issues/94">ongoing issue</a> with <code>{chromote}</code>. R may be slow to restart (and I’ve had to restart numerous times <i class="fa-solid fa-face-sad-tear" title="a sad face with a tear" aria-label="face-sad-tear"></i>).</p>
</section>
<section id="ft1-test1" class="slide level2" data-menu-title="Feature 1, test 1">
<h2></h2>
<p><span class="slide-title">Let’s test our first assumption . . .</span></p>
<hr>
<p>…which is that when a user types [some text value] into the text box and clicks the Greet button (<strong>i.e.&nbsp;the actions</strong>), the greeting output will return <code>Hello [some text value]!</code> (<strong>i.e.&nbsp;the expectation</strong>). We’ll substitute a known value (e.g.&nbsp;“Sam”) for [some text value] in our test.</p>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part6/one-name-greeting.gif" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><span class="teal-text"><strong>Steps:</strong></span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(1)</strong></span> Run <code>shinytest2::record_test("testing-app")</code> in the Console</span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(2)</strong></span> Type <code>Sam</code> into the text box &gt; click the Greet button &gt; click Expect Shiny Values</span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(3)</strong></span> Give the test a unique name (e.g.&nbsp;<code>one-name-greeting</code>) &gt; click Save test and exit</span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(4)</strong></span> The test recorder will quit, and your test will automatically execute (it should pass!)</span></p>
</div>
</div>
<div class="center-text body-text-s">
<p>Notice that your actions (e.g.&nbsp;typing text, clicking the button) are recorded as code in the right-hand panel – this is your test code, and it’ll be saved when you quit the recorder.</p>
</div>
<!-- --- -->
<!-- What are assumptions? -->
<!-- ```{r} -->
<!-- ex_function <- function(a, b) { -->
<!--   c <- a + b -->
<!--   return(c) -->
<!-- } -->
<!-- ``` -->
<!-- - inputs -- we want to make sure that inputs are consistent and follow the expected format -->
<!--   - # of inputs  -->
<!--   - order of inputs (if not using keyword args) -->
<!--   - type of input (e.g. is `a` a string? a number? can it be anything?) -->
<!--   - absence of inputs (e.g. are there default values) -->
<!-- - logic  -->
<!--   - does this handle the expected inputs (e.g. if i give it something that it should handle, will it do it as I expect) -->
<!--   - does it handle unexpected inputs (e.g. return NULL, throw error message) -->
<!-- - return (what does the function return?) -->
<!--   - make sure that it returns the right data type (e.g. string, numeric) -->
<!-- what different variations of my inputs impact my output? -->
<!-- - you'll never think of all variations -->
<!-- --- -->
<!-- ##  {#assumptions data-menu-title="Write down assumptions"} -->
<!-- [Write down assumptions]{.slide-title2} -->
<!-- <hr> -->
<!-- [**Example 1: Greeting**]{.body-text-m .teal-text} -->
<!-- - input: does the user supply text values? -->
<!-- - logic/output: does the app print, "Hello <input>!" -->
<!-- - Expected output: user's input is prefixed with "Hello" and suffixed with "!". The text is then displayed -->
<!-- - an assumption is that a user can input numbers, paragraphs, etc (anything that is valid as a text input) -->
<!-- - when the greet button is clicked, it'll display what the user has input (even with successive inputs) -->
<!-- [**Example 2: Upload & summarize data**]{.body-text-m .teal-text} -->
<!-- - input:  -->
<!--   - user supplies a csv file -->
<!-- - output:  -->
<!--   - if the csv column has expected column headers, it will: -->
<!--     - rename columns -->
<!--     - remove rows with missing values (NA) -->
<!--     - average values in each column -->
<!--     - return summary data frame -->
<!--   - if the csv does not have the expected column headers, it will: -->
<!--     - return a message that tells the user the file is not as expected -->
<!--   - if the csv does not have any values, it will: -->
<!--     - return a message that tells the user the file is not as expected -->
<!--   - successive csv uploads shows the most recent data -->
<!-- [**Example 3: Reactive plot**]{.body-text-m .teal-text} -->
<!-- - input:  -->
<!--   - shows the user what they can choose: the user can select `Adelie`, `Chinstrap`, and/or `Gentoo` -->
<!--   - when user chooses something, does the right thing happen - when user deselects a species, it's removed from the plot -->
<!--   - when a user selects a species, it's added to the plot  -->
<!--   - when the user deselects all, a message prompts user to select at least one species -->
<!--   - does the user see the correct default selection -- all species are selected by default -->
<!-- - output:  -->
<!--   - selected species will be plotted, deselected species will not be plotted -->
<!--   - if not species are selected, a message will alert user to select species -->
<!-- --- -->
<!-- ##  {#testing-procedure data-menu-title="Testing procedure"} -->
<!-- [Testing using `{shinytest2}`]{.slide-title} -->
<!-- <hr> -->
<!-- **Recording tests requires the following steps:** -->
<!-- . . .  -->
<!-- [[**(1)**]{.teal-text} Run `shinytest2::record_test(<app-directory>)` to launch the app recorder in a browser window]{.body-text-s} -->
<!-- . . .  -->
<!-- [[**(2)**]{.teal-text} Interact with your application and tell the recorder to make an expectation (e.g. an expected value when inputX is updated) on the state at various points]{.body-text-s} -->
<!-- . . .  -->
<!-- [[**(3)**]{.teal-text} Quit the recorder to save and execute your tests]{.body-text-s} -->
<!-- . . .  -->
<!-- <br> -->
<!-- **To test *our* app specifically, we'll do the following:** -->
<!-- [[**(1)**]{.teal-text} run `shinytest2::record_test("testing-app")` in the console to launch the recorder in a browser window]{.body-text-s} -->
<!-- [[**(2)**]{.teal-text} interact with your app by first typing a name (e.g. Sam), then pressing the "Greet" button to display the output text]{.body-text-s} -->
<!-- [[**(3)**]{.teal-text} click the **Expect Shiny values** button in the recorder app sidebar to set an expectation (this will record inputs, outputs, and exported values)]{.body-text-s} -->
<!-- [[**(4)**]{.teal-text} give your test a name in the recorder app sidebar, then click **Save test and exit** - this will save the recorded test and setup the testing infrastructure, if it doesn't exit already]{.body-text-s} -->
<!-- --- -->
<!-- ##  {#creating-test1-example data-menu-title="Creating our first test"} -->
<!-- [Creating our first test]{.slide-title} -->
<!-- <hr> -->
<!-- Following the steps on the previous slide, creating your test should look similar to this: -->
<!-- <br> -->
<!-- ```{r} -->
<!-- #| eval: true -->
<!-- #| echo: false -->
<!-- #| out-width: "100%" -->
<!-- #| fig-align: "center" -->
<!-- #| fig-alt: "A user begins recording a test by typing shinytest2::record_test('testing_app') in the RStudio console, which opens up the app in an iframe with the recorder in a pane to the right. The user types 'Sam' into the text box, clicks the 'Greet' button, then clicks 'Expect Shiny values' in the recorder. Finally, the user names and saves the test, which then runs automatically once the recorder is quit." -->
<!-- knitr::include_graphics("images/part6/sam-test.gif") -->
<!-- ``` -->
<!-- <br> -->
<!-- **Note:** Your test is automatically run as soon as you save and exit the recorder. See the results of your test in your console (it should pass!). -->
</section>
<section id="test-auto-executes" class="slide level2" data-menu-title="Tests auto execute">
<h2></h2>
<p><span class="slide-title2">Your test should automatically run (and pass!)</span></p>
<hr>
<p>After quitting the test recorder, the following will happen:</p>
<ul>
<li><span class="body-text-s">a test script will be saved in <code>&lt;your-app-subdirectory&gt;/tests/testthat/test-shinytest2.R</code></span></li>
<li><span class="body-text-s">if you’re running in the RStudio IDE, <code>test-shinytest2.R</code> will automatically open in the editor</span></li>
<li><span class="body-text-s"><code>shinytest2::test_app()</code> is run behind the scenes to execute the test script</span></li>
</ul>
<p>You should see the following in your RStudio Console:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" data-code-line-numbers="false"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>• Saving test runner<span class="sc">:</span> tests<span class="sc">/</span>testthat.R</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>• Saving test file<span class="sc">:</span> tests<span class="sc">/</span>testthat<span class="sc">/</span>test<span class="sc">-</span>shinytest2.R</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>✔ Adding <span class="st">'shinytest2::load_app_env()'</span> to <span class="st">'tests/testthat/setup-shinytest2.R'</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>• Running recorded test<span class="sc">:</span> tests<span class="sc">/</span>testthat<span class="sc">/</span>test<span class="sc">-</span>shinytest2.R</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>✔ <span class="sc">|</span> F W  S  OK <span class="sc">|</span> Context</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>✔ <span class="sc">|</span>   <span class="dv">2</span>      <span class="dv">1</span> <span class="sc">|</span> shinytest2 [<span class="fl">1.4</span>s]                                                         </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>───────────────────────────────────────────────────────────────────────────────────────────</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="fu">Warning</span> (test<span class="sc">-</span>shinytest2.R<span class="sc">:</span><span class="dv">7</span><span class="sc">:</span><span class="dv">3</span>)<span class="sc">:</span> {shinytest2} recording<span class="sc">:</span> one<span class="sc">-</span>name<span class="sc">-</span>greeting</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>Adding new file snapshot<span class="sc">:</span> <span class="st">'tests/testthat/_snaps/one-name-greeting-001_.png'</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="fu">Warning</span> (test<span class="sc">-</span>shinytest2.R<span class="sc">:</span><span class="dv">7</span><span class="sc">:</span><span class="dv">3</span>)<span class="sc">:</span> {shinytest2} recording<span class="sc">:</span> one<span class="sc">-</span>name<span class="sc">-</span>greeting</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>Adding new file snapshot<span class="sc">:</span> <span class="st">'tests/testthat/_snaps/one-name-greeting-001.json'</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>───────────────────────────────────────────────────────────────────────────────────────────</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>══ Results ════════════════════════════════════════════════════════════════════════════════</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>Duration<span class="sc">:</span> <span class="fl">1.5</span> s</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>[ FAIL <span class="dv">0</span> <span class="sc">|</span> WARN <span class="dv">2</span> <span class="sc">|</span> SKIP <span class="dv">0</span> <span class="sc">|</span> PASS <span class="dv">1</span> ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="test-folder" class="slide level2" data-menu-title="Explore the tests/ folder">
<h2></h2>
<p><span class="slide-title">Understanding the contents of <code>tests/</code></span></p>
<hr>
<p>The first time you record a test, <code>{shinytest2}</code> generates number of directories / subdirectories, along with a bunch of files. The next few slides explain these in more detail.</p>
<p><br></p>
<p>After creating your first test, your repo structure should look something like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="false"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>.</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>├── testing-app/                                  </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>│   └── global.R                     </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>│   └── ui.R                         </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>│   └── server.R                      </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>│   └── tests/                    # generated the first time you record and save a test    </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>│      └── testthat.R             # see note below</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>│      └── testthat/     </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>│         └── setup-shinytest2.R  # see note below</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>│         └── test-shinytest2.R   # see slide 15</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>│         └── snaps/               </span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>│            └── shinytest2/      </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>│               └── *001.json     # see slide X</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>│               └── *001_.png     # see slide X </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><span class="body-text-s"><code>testthat.R</code>: includes the code, <code>shinytest2::test_app()</code>, which is executed when you click the <strong>Run Tests</strong> button in RStudio</span></li>
<li><span class="body-text-s"><code>setup-shinytest2.R</code>: includes the code, <code>shinytest2::load_app_env()</code>, which loads any application support files (e.g.&nbsp;<code>global.R</code> and / or anything inside <code>R/</code>) into the testing environment</span></li>
</ul>
</section>
<section id="test-shinytest2" class="slide level2" data-menu-title="The test file">
<h2></h2>
<p><span class="slide-title"><code>test-shinytest2.R</code> (test code)</span></p>
<hr>
<p><span class="body-text-s">All tests will be saved to <code>tests/testthat/test-shinytest2.R</code>. Yours should look similar to the code below (sans annotations). You may have a different viewport height / width (depending on the size of your viewport when you recorded your test), and if you mistyped / deleted any characters in the textInput, you’ll see multiple <code>app$set_inputs()</code> statements, reflecting these actions:</span></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>testing-app/tests/testthat/test-shinytest2.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">library</span>(shinytest2)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co"># runs our test</span></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="fu">test_that</span>(<span class="st">"{shinytest2} recording: one-name-greeting"</span>, {</span>
<span id="cb7-5"><a href="#cb7-5"></a>  </span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="co"># start Shiny app in a new R session along with chromote's headless browser that's used to simulate user actions</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  app <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(<span class="at">name =</span> <span class="st">"one-name-greeting"</span>, <span class="at">height =</span> <span class="dv">838</span>, <span class="at">width =</span> <span class="dv">1298</span>)</span>
<span id="cb7-8"><a href="#cb7-8"></a>  </span>
<span id="cb7-9"><a href="#cb7-9"></a>  <span class="co"># set the textInput (with Id `name_input`) to the value `Sam`</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>  app<span class="sc">$</span><span class="fu">set_inputs</span>(<span class="at">name_input =</span> <span class="st">"Sam"</span>)</span>
<span id="cb7-11"><a href="#cb7-11"></a>  </span>
<span id="cb7-12"><a href="#cb7-12"></a>  <span class="co"># click the actionButton (with Id `greeting_button_input`)</span></span>
<span id="cb7-13"><a href="#cb7-13"></a>  app<span class="sc">$</span><span class="fu">click</span>(<span class="st">"greeting_button_input"</span>)</span>
<span id="cb7-14"><a href="#cb7-14"></a>  </span>
<span id="cb7-15"><a href="#cb7-15"></a>  <span class="co"># save the expected input, output, and export values to a JSON snapshot and generates a debug screenshot of the app</span></span>
<span id="cb7-16"><a href="#cb7-16"></a>  app<span class="sc">$</span><span class="fu">expect_values</span>()</span>
<span id="cb7-17"><a href="#cb7-17"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="snaps" class="slide level2" data-menu-title="The _snaps/ folder">
<h2></h2>
<p><span class="slide-title">The <code>snaps/</code> folder</span></p>
<hr>
<p><span class="body-text-s">When <code>shinytest2::test_app()</code> runs your test code (<code>test-shinytest2.R</code>), it plays back the specified actions (e.g.&nbsp;setting the textInput to <code>Sam</code>, then clicking the Greet button), and records your application’s resulting state as a snapshot. Snapshots are saved to the <code>tests/testthat/shinytest2/_snaps/</code> folder. You should see two different snapshot files:</span></p>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="center-text body-text-s">
<p><code>one-name-greeting-001_.png</code>, a debug screenshot of the app when <code>app$expect_values()</code> was called:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part6/one-name-greeting.png" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="center-text body-text-s">
<p><code>one-name-greeting-001.json</code>, a <a href="https://www.json.org/json-en.html">JSON</a> representation of the state of the app when <code>app$expect_values()</code> was called:</p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">{</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="dt">"input"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb8-3"><a href="#cb8-3"></a>    <span class="dt">"greeting_input"</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb8-4"><a href="#cb8-4"></a>    <span class="dt">"name_input"</span><span class="fu">:</span> <span class="st">"Sam"</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>  <span class="fu">},</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>  <span class="dt">"output"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb8-7"><a href="#cb8-7"></a>    <span class="dt">"greeting_output"</span><span class="fu">:</span> <span class="st">"Hello Sam!"</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>  <span class="fu">},</span></span>
<span id="cb8-9"><a href="#cb8-9"></a>  <span class="dt">"export"</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb8-10"><a href="#cb8-10"></a></span>
<span id="cb8-11"><a href="#cb8-11"></a>  <span class="fu">}</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="fu">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="footer">
<p>We don’t have any exported values in our app, and we won’t be covering those here. Read more about exported values in the <a href="https://rstudio.github.io/shinytest2/articles/in-depth.html#exported-values"><code>{shinytest2}</code> documentation</a>.</p>
</div>
</section>
<section id="test-recap" class="slide level2" data-menu-title="Test recap">
<h2></h2>
<p><span class="slide-title">A quick recap of our test files</span></p>
<hr>
<ul>
<li><strong>You can think of your test as a <em>recipe</em> for <code>{shinytest2}</code> to follow to simulate user actions (i.e.&nbsp;inputs).</strong>
<ul>
<li><span class="body-text-s">These simulations are performed programmatically whenever you click <strong>Run Test</strong>.</span></li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li><strong>The JSON file defines your test’s expected outputs given known inputs.</strong>
<ul>
<li><span class="body-text-s">When you rerun your test, the same user actions (inputs) are simulated and the resulting outputs are compared against prior snapshots. We expect the resulting outputs to be the same each time. If the resulting outputs differ from our expectations, the test will fail.</span></li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><strong>The <em>debug</em> screenshot (<code>*_.png</code> file) can be used to visually inspect your app’s state at the time of your test.</strong>
<ul>
<li><span class="body-text-s">The <code>*_.png</code> file differs from a <code>*.png</code> file (which we did not capture). <code>*.png</code> files are screenshots of the application from <code>app$expect_screenshot()</code> (i.e.&nbsp;by clicking <em>Expect screenshot</em> in the app recorder), which you can use to ensure that the visual state of the application does not change. If subsequent screenshots differ (even by just a pixel!), your test will fail. This type of testing is quite brittle, and we won’t be covering it further.</span></li>
</ul></li>
</ul>
</div>
<div class="fragment">
<div class="center-text teal-text">
<p><strong>All of the above files should be tracked with <code>git</code> (ignore any <code>_.new.png</code> files).</strong></p>
</div>
</div>
</section>
<section id="rerun-tests" class="slide level2" data-menu-title="Rerun the test">
<h2></h2>
<p><span class="slide-title">Rerun your test</span></p>
<hr>
<p>Rerun your test by clicking on the <strong>Run Tests</strong> button, which is visible when <code>test-shinytest2.R</code> is open. They should all still pass (we haven’t changed anything since our first test run)!</p>

<img data-src="images/part6/rerun-test.png" style="width:100.0%" class="r-stretch quarto-figure-center"></section>
<section id="test-other-assumptions" class="slide level2" data-menu-title="Test remaining assumptions">
<h2></h2>
<p><span class="slide-title">Test our remaining assumptions</span></p>
<hr>
<p><br> <br> <br></p>
<table>
<colgroup>
<col style="width: 56%">
<col style="width: 43%">
</colgroup>
<thead>
<tr class="header">
<th>Action(s)</th>
<th>Expectation(s)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><i class="fa-solid fa-square-check" title="a checked box" aria-label="square-check"></i> Type [some text value] in text box, click Greet button</td>
<td>Greeting output is “Hello [some text value]!”</td>
</tr>
<tr class="even">
<td><i class="fa-solid fa-square" title="an unchecked box" aria-label="square"></i> Type [some text value] in text box, click Greet button, type [some other text value] in text box, click Greet button</td>
<td>Greeting output is “Hello [some other text value]!”</td>
</tr>
<tr class="odd">
<td><i class="fa-solid fa-square" title="an unchecked box" aria-label="square"></i> Click Greet button</td>
<td>Greeting output is “Hello !”</td>
</tr>
</tbody>
</table>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_7cce1a33" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="feature1-complete-tests" class="slide level2" data-menu-title="All feature 1 tests">
<h2></h2>
<p><span class="slide-title2"><code>test-shinytest2.R</code> should now look like this:</span></p>
<hr>
<p><span class="body-text-s">Or at least fairly close to this (maybe you chose slightly different names to test with):</span></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>testing-app/tests/testthat/test-shinytest2.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">library</span>(shinytest2)</span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="fu">test_that</span>(<span class="st">"{shinytest2} recording: one-name-greeting"</span>, {</span>
<span id="cb9-4"><a href="#cb9-4"></a>  app <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(<span class="at">name =</span> <span class="st">"one-name-greeting"</span>, <span class="at">height =</span> <span class="dv">1335</span>, <span class="at">width =</span> <span class="dv">1126</span>)</span>
<span id="cb9-5"><a href="#cb9-5"></a>  app<span class="sc">$</span><span class="fu">set_inputs</span>(<span class="at">name_input =</span> <span class="st">"Sam"</span>)</span>
<span id="cb9-6"><a href="#cb9-6"></a>  app<span class="sc">$</span><span class="fu">click</span>(<span class="st">"greeting_button_input"</span>)</span>
<span id="cb9-7"><a href="#cb9-7"></a>  app<span class="sc">$</span><span class="fu">expect_values</span>()</span>
<span id="cb9-8"><a href="#cb9-8"></a>})</span>
<span id="cb9-9"><a href="#cb9-9"></a></span>
<span id="cb9-10"><a href="#cb9-10"></a></span>
<span id="cb9-11"><a href="#cb9-11"></a><span class="fu">test_that</span>(<span class="st">"{shinytest2} recording: consecutive-name-greeting"</span>, {</span>
<span id="cb9-12"><a href="#cb9-12"></a>  app <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(<span class="at">name =</span> <span class="st">"consecutive-name-greeting"</span>, <span class="at">height =</span> <span class="dv">837</span>, <span class="at">width =</span> <span class="dv">1294</span>)</span>
<span id="cb9-13"><a href="#cb9-13"></a>  app<span class="sc">$</span><span class="fu">set_inputs</span>(<span class="at">name_input =</span> <span class="st">"Sam"</span>)</span>
<span id="cb9-14"><a href="#cb9-14"></a>  app<span class="sc">$</span><span class="fu">click</span>(<span class="st">"greeting_button_input"</span>)</span>
<span id="cb9-15"><a href="#cb9-15"></a>  app<span class="sc">$</span><span class="fu">set_inputs</span>(<span class="at">name_input =</span> <span class="st">""</span>)</span>
<span id="cb9-16"><a href="#cb9-16"></a>  app<span class="sc">$</span><span class="fu">set_inputs</span>(<span class="at">name_input =</span> <span class="st">"Kat"</span>)</span>
<span id="cb9-17"><a href="#cb9-17"></a>  app<span class="sc">$</span><span class="fu">click</span>(<span class="st">"greeting_button_input"</span>)</span>
<span id="cb9-18"><a href="#cb9-18"></a>  app<span class="sc">$</span><span class="fu">expect_values</span>()</span>
<span id="cb9-19"><a href="#cb9-19"></a>})</span>
<span id="cb9-20"><a href="#cb9-20"></a></span>
<span id="cb9-21"><a href="#cb9-21"></a></span>
<span id="cb9-22"><a href="#cb9-22"></a><span class="fu">test_that</span>(<span class="st">"{shinytest2} recording: no-name-greeting"</span>, {</span>
<span id="cb9-23"><a href="#cb9-23"></a>  app <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(<span class="at">name =</span> <span class="st">"no-name-greeting"</span>, <span class="at">height =</span> <span class="dv">837</span>, <span class="at">width =</span> <span class="dv">1294</span>)</span>
<span id="cb9-24"><a href="#cb9-24"></a>  app<span class="sc">$</span><span class="fu">click</span>(<span class="st">"greeting_button_input"</span>)</span>
<span id="cb9-25"><a href="#cb9-25"></a>  app<span class="sc">$</span><span class="fu">expect_values</span>()</span>
<span id="cb9-26"><a href="#cb9-26"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><span class="body-text-s">You can rerun all your tests at once by clicking the <strong>Run Tests</strong> button again (they should all pass!).</span></p>
</section>
<section id="improve-feature1" class="slide level2" data-menu-title="Improving feature 1 functionality">
<h2></h2>
<p><span class="slide-title2">Your boss requests an improvement on feature 1!</span></p>
<hr>
<p><span class="body-text-s">Your boss is excited to see your progress, but would love to see an informative message pop up when a user clicks the Greet button without first typing in a name (currently, clicking the Greet button without typing a name will return “Hello !”… which is a bit odd). You make the following update to your app:</span></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>testing-app/server.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb10-2"><a href="#cb10-2"></a>  </span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="co"># Example 1 ------------------------------------------------------------------</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="co"># wait for user to click the Greet button before returning the message</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="fu">observe</span>({</span>
<span id="cb10-6"><a href="#cb10-6"></a>    </span>
<span id="cb10-7"><a href="#cb10-7"></a>    <span class="co"># if the user does not type anything, return the message, "Please type a name, then click the Greet button."</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>    <span class="cf">if</span> (<span class="fu">nchar</span>(input<span class="sc">$</span>name_input) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb10-9"><a href="#cb10-9"></a>      output<span class="sc">$</span>greeting_output <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb10-10"><a href="#cb10-10"></a>        <span class="st">"Please type a name, then click the Greet button."</span></span>
<span id="cb10-11"><a href="#cb10-11"></a>      })</span>
<span id="cb10-12"><a href="#cb10-12"></a>      </span>
<span id="cb10-13"><a href="#cb10-13"></a>      <span class="co"># if the user does type a name, return the greeting, "Hello [name]!"</span></span>
<span id="cb10-14"><a href="#cb10-14"></a>    } <span class="cf">else</span> {</span>
<span id="cb10-15"><a href="#cb10-15"></a>      output<span class="sc">$</span>greeting_output <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb10-16"><a href="#cb10-16"></a>        <span class="fu">paste0</span>(<span class="st">"Hello "</span>, <span class="fu">isolate</span>(input<span class="sc">$</span>name_input), <span class="st">"!"</span>)</span>
<span id="cb10-17"><a href="#cb10-17"></a>      })</span>
<span id="cb10-18"><a href="#cb10-18"></a>    }</span>
<span id="cb10-19"><a href="#cb10-19"></a>  }) <span class="sc">|&gt;</span></span>
<span id="cb10-20"><a href="#cb10-20"></a>    </span>
<span id="cb10-21"><a href="#cb10-21"></a>    <span class="co"># </span><span class="al">TODO</span><span class="co">: add description here</span></span>
<span id="cb10-22"><a href="#cb10-22"></a>    <span class="fu">bindEvent</span>(input<span class="sc">$</span>greeting_button_input)</span>
<span id="cb10-23"><a href="#cb10-23"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="no-name-greeting-breaks" class="slide level2" data-menu-title="Your test breaks!">
<h2></h2>
<p><span class="slide-title">Rerun your tests after making your update</span></p>
<hr>
<p>Our first two tests pass, but <strong>the third one failed</strong> <i class="fa-solid fa-face-frown" title="a frowning face" aria-label="face-frown"></i>. You’ll see something like this to start:</p>

<img data-src="images/part6/failed-no-name-greeting.png" style="width:100.0%" class="r-stretch quarto-figure-center"><p>Click on the <strong>Output tab</strong> for more information on why the test failed (see next slide).</p>
</section>
<section id="output-tab" class="slide level2" data-menu-title="Output tab">
<h2></h2>
<p><span class="slide-title2">The Output tab tells us what caused our test to fail</span></p>
<hr>
<p><span class="body-text-s">There’s a lot of helpful information here, but lines 6-7 tell us that our <code>no-name-greeting</code> test failed, while lines 17-27 here tell us exactly what changed:</span></p>
<!-- - [**before** i.e. in our original test, clicking the Greet button resulted in an output that reads, "Hello !"]{.body-text-s} -->
<!-- - [**after** i.e. in our most recent test rerun (after our updates to feature 1), clicking the Greet button resulted in an output that reads, "Please type a name before clicking the Greet button."]{.body-text-s} -->
<div class="cell">
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="6-7,17-27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="sc">==</span><span class="er">&gt;</span> Testing R file using <span class="st">'testthat'</span></span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a>[ FAIL <span class="dv">0</span> <span class="sc">|</span> WARN <span class="dv">0</span> <span class="sc">|</span> SKIP <span class="dv">0</span> <span class="sc">|</span> PASS <span class="dv">0</span> ]Loading required package<span class="sc">:</span> shiny</span>
<span id="cb11-4"><a href="#cb11-4"></a>[ FAIL <span class="dv">1</span> <span class="sc">|</span> WARN <span class="dv">1</span> <span class="sc">|</span> SKIP <span class="dv">0</span> <span class="sc">|</span> PASS <span class="dv">2</span> ]</span>
<span id="cb11-5"><a href="#cb11-5"></a></span>
<span id="cb11-6"><a href="#cb11-6"></a>── <span class="fu">Failure</span> (test<span class="sc">-</span>shinytest2.R<span class="sc">:</span><span class="dv">25</span><span class="sc">:</span><span class="dv">3</span>)<span class="sc">:</span> {shinytest2} recording<span class="sc">:</span> no<span class="sc">-</span>name<span class="sc">-</span>greeting ──</span>
<span id="cb11-7"><a href="#cb11-7"></a>Snapshot of <span class="st">`</span><span class="at">file</span><span class="st">`</span> to <span class="st">'shinytest2/no-name-greeting-001.json'</span> has changed</span>
<span id="cb11-8"><a href="#cb11-8"></a>Run testthat<span class="sc">::</span><span class="fu">snapshot_review</span>(<span class="st">'shinytest2/'</span>) to review changes</span>
<span id="cb11-9"><a href="#cb11-9"></a>Backtrace<span class="sc">:</span></span>
<span id="cb11-10"><a href="#cb11-10"></a>    ▆</span>
<span id="cb11-11"><a href="#cb11-11"></a> <span class="fl">1.</span> └─app<span class="sc">$</span><span class="fu">expect_values</span>() at test<span class="sc">-</span>shinytest2.R<span class="sc">:</span><span class="dv">25</span><span class="sc">:</span><span class="dv">3</span></span>
<span id="cb11-12"><a href="#cb11-12"></a> <span class="fl">2.</span>   └─shinytest2<span class="sc">:::</span><span class="fu">app_expect_values</span>(...)</span>
<span id="cb11-13"><a href="#cb11-13"></a> <span class="fl">3.</span>     └─shinytest2<span class="sc">:::</span><span class="fu">app__expect_snapshot_file</span>(...)</span>
<span id="cb11-14"><a href="#cb11-14"></a> <span class="fl">4.</span>       ├─base<span class="sc">::</span><span class="fu">withCallingHandlers</span>(...)</span>
<span id="cb11-15"><a href="#cb11-15"></a> <span class="fl">5.</span>       └─testthat<span class="sc">::</span><span class="fu">expect_snapshot_file</span>(...)</span>
<span id="cb11-16"><a href="#cb11-16"></a></span>
<span id="cb11-17"><a href="#cb11-17"></a>── <span class="fu">Warning</span> (test<span class="sc">-</span>shinytest2.R<span class="sc">:</span><span class="dv">25</span><span class="sc">:</span><span class="dv">3</span>)<span class="sc">:</span> {shinytest2} recording<span class="sc">:</span> no<span class="sc">-</span>name<span class="sc">-</span>greeting ──</span>
<span id="cb11-18"><a href="#cb11-18"></a>Diff <span class="cf">in</span> snapshot file <span class="st">`</span><span class="at">shinytest2no-name-greeting-001.json</span><span class="st">`</span></span>
<span id="cb11-19"><a href="#cb11-19"></a><span class="sc">&lt;</span> before                                                                       </span>
<span id="cb11-20"><a href="#cb11-20"></a><span class="sc">&gt;</span> after                                                                        </span>
<span id="cb11-21"><a href="#cb11-21"></a><span class="sc">@</span><span class="er">@</span> <span class="dv">5</span>,<span class="dv">5</span> <span class="sc">/</span> <span class="dv">5</span>,<span class="dv">5</span> <span class="sc">@</span><span class="er">@</span>                                                                </span>
<span id="cb11-22"><a href="#cb11-22"></a>    <span class="er">}</span>,                                                                         </span>
<span id="cb11-23"><a href="#cb11-23"></a>    <span class="st">"output"</span><span class="sc">:</span> {                                                                </span>
<span id="cb11-24"><a href="#cb11-24"></a><span class="sc">&lt;</span>     <span class="st">"greeting_output"</span><span class="sc">:</span> <span class="st">"Hello !"</span>                                             </span>
<span id="cb11-25"><a href="#cb11-25"></a><span class="sc">&gt;</span>     <span class="st">"greeting_output"</span><span class="sc">:</span> <span class="st">"Please type a name before clicking the Greet button."</span></span>
<span id="cb11-26"><a href="#cb11-26"></a>    },                                                                         </span>
<span id="cb11-27"><a href="#cb11-27"></a>    <span class="st">"export"</span><span class="sc">:</span> {                                                                </span>
<span id="cb11-28"><a href="#cb11-28"></a>[ FAIL <span class="dv">1</span> <span class="sc">|</span> WARN <span class="dv">1</span> <span class="sc">|</span> SKIP <span class="dv">0</span> <span class="sc">|</span> PASS <span class="dv">2</span> ]</span>
<span id="cb11-29"><a href="#cb11-29"></a>Warning messages<span class="sc">:</span></span>
<span id="cb11-30"><a href="#cb11-30"></a><span class="dv">1</span><span class="sc">:</span> package ‘testthat’ was built under R version <span class="dv">4</span>.<span class="fl">3.1</span> </span>
<span id="cb11-31"><a href="#cb11-31"></a><span class="dv">2</span><span class="sc">:</span> package ‘shiny’ was built under R version <span class="dv">4</span>.<span class="fl">3.1</span> </span>
<span id="cb11-32"><a href="#cb11-32"></a></span>
<span id="cb11-33"><a href="#cb11-33"></a>Test complete</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="update-expectations" class="slide level2" data-menu-title="Update expected results">
<h2></h2>
<p><span class="slide-title">We’ll want to update our expected results</span></p>
<hr>
<p>Our test correctly failed (the expected output was different)! But we’ll want to update our test’s expected output so that it reflects the changes we made to our app (i.e.&nbsp;that when a user clicks the Greet button without first typing a name is the text, “Please type a name before clicking the Greet button.” is printed).</p>
<p>To do so….</p>
<p>TODO</p>
</section>
<section class="slide level2">

<p>Tests should all pass now!</p>
</section>
<section class="slide level2">

<p>Okay, you’re boss has requested a new feature:</p>
<ul>
<li>a file uploader that accepts a standardized csv file (predictable headings / data types) and cleans / averages values by column</li>
</ul>
</section>
<section class="slide level2">

</section>
<section class="slide level2">

<p>Please also download <a href="https://drive.google.com/drive/folders/1fMpPHFgYQhfZH0dmbUtWbxSoHYfFgUZD?usp=sharing">these CSV files</a> and save them to your Desktop (we’ll use these later).</p>
</section>
<section id="testing-tips" class="slide level2" data-menu-title="Testing tips">
<h2></h2>
<p><span class="slide-title">Tips for testing</span></p>
<hr>
<p class="body-text topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Record subsequent tests following the same workflow, giving each a unique name. Run <code>test_app("path/to/app")</code> to run all test scripts in your app’s <code>tests/testhat/</code> directory.
</p>
<p class="body-text">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> <strong>Use <code>record_test()</code> fairly often</strong> – Barret Schloerke argues that you should make a test recording for each feature of your app (many little recordings are encouraged!)
</p>
<p class="body-text topbr">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> <strong>Limit testing to objects under your control.</strong> For example, let’s say you have a reactive data frame that you then send to a <code>DT::datatable</code> – if package maintainers update the <code>DT</code> package, your output might change which could lead to false positive failed tests. Instead, test just your data frame that gets sent to <code>DT</code>.
</p>
<div class="fragment">
<p><br></p>
<center>
<p class="body-text-l teal-text">
This is only a brief intro to <code>shinytest2</code>! Dig into the <a href="https://rstudio.github.io/shinytest2/index.html">documentation</a> to learn more.
</p>
</center>
</div>
</section>
<section id="end" class="slide level2" data-menu-title="~~~ BREAK ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
End part 6.2
</p>
<p class="caption-text">
<em><strong>Up next:</strong> streamlining code</em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_6f892dc3" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>

<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>