<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <title>EDS 430 – part7.1-debugging-slides</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #767676;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #767676;  padding-left: 4px; }
    div.sourceCode
      { color: #545454; background-color: #fefefe; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #545454; } /* Normal */
    code span.al { color: #7928a1; } /* Alert */
    code span.an { color: #696969; } /* Annotation */
    code span.at { color: #a55a00; } /* Attribute */
    code span.bn { color: #7928a1; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #d91e18; } /* ControlFlow */
    code span.ch { color: #008000; } /* Char */
    code span.cn { color: #d91e18; } /* Constant */
    code span.co { color: #696969; } /* Comment */
    code span.cv { color: #696969; font-style: italic; } /* CommentVar */
    code span.do { color: #696969; font-style: italic; } /* Documentation */
    code span.dt { color: #7928a1; } /* DataType */
    code span.dv { color: #7928a1; } /* DecVal */
    code span.er { color: #7928a1; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #a55a00; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #696969; } /* Information */
    code span.kw { color: #d91e18; } /* Keyword */
    code span.op { color: #00769e; } /* Operator */
    code span.ot { color: #d91e18; } /* Other */
    code span.pp { color: #7928a1; } /* Preprocessor */
    code span.sc { color: #00769e; } /* SpecialChar */
    code span.ss { color: #008000; } /* SpecialString */
    code span.st { color: #008000; } /* String */
    code span.va { color: #a55a00; } /* Variable */
    code span.vs { color: #008000; } /* VerbatimString */
    code span.wa { color: #696969; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="../../site_libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="../../site_libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="title-slide" class="slide level2 center" data-menu-title="Title Slide" data-background="#053660">
<h2></h2>
<p><span class="custom-title">EDS 430: Part 7.1</span></p>
<p><span class="custom-subtitle"><em>Debugging</em></span></p>
<hr class="hr-teal">
<!-- [Week 2 | February 2^nd^, 2024]{.custom-subtitle3} -->
</section>
<section id="debugging" class="slide level2" data-menu-title="~~~ Debugging ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
<i class="fa-solid fa-bug" title="bug" aria-label="bug"></i> Debugging
</p>
<p class="caption-text">
<em>Like any code, you’re bound to run into errors as you’re developing your shiny app(s). However, Shiny can be particularly challenging to debug. In this section, we’ll review a few approaches for solving pesky issues.</em>
</p>
</div>
</section>
<section id="LO-debugging" class="slide level2" data-menu-title="Learning Objectives - Debugging">
<h2></h2>
<p><span class="slide-title"><i class="fa-solid fa-book-open" title="an open book" aria-label="book-open"></i> Learning Objectives - Debugging</span></p>
<hr>
<p class="body-text-l teal-text bottombr">
After this section, you should:
</p>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> understand some of the challenges associated with debugging shiny applications
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> know to a few approaches and tools for debugging shiny applications, including using diagnostic messages and the <code>reactlog</code> package.
</p>
</div>
<div class="fragment">
<p class="body-text-l teal-text topbr">
Packages introduced:
</p>
</div>
<div class="fragment">
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-book-open" title="an open book" aria-label="book-open"></i></span> <code>{reactlog}</code>: a reactivity visualizer for shiny
</p>
</div>
</section>
<section id="debugging-challenges" class="slide level2" data-menu-title="Debugging is challenging">
<h2></h2>
<p><span class="slide-title">Debugging can be challenging</span></p>
<hr>
<p class="body-text">
Shiny apps can be particularly challenging to debug for a few reasons:
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Shiny is <strong>reactive</strong>, so code execution isn’t as linear as other code that you’re likely more familiar with (e.g.&nbsp;analytical pipelines written in “normal” R scripts, where each line of code is executed in succession)
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> Shiny code runs behind a web server <em>and</em> the Shiny framework itself, which can obscure what’s going on
</p>
<div class="fragment">
<p class="body-text topbr">
While there are a number of different tools / strategies for debugging Shiny apps, I find myself turning to one (or more) of these approaches most often:
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> <strong>isolating pesky errors</strong> (typos, missing commas, unmatched parentheses) in the UI by commenting out code from the outside in
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> <strong>reducing your app to <em>just</em> problematic code</strong> by commenting out as much correctly-functioning code as possible
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> <strong>adding diagnostic messages</strong> to my reactives
</p>
<p class="body-text-s">
<span class="teal-text"><i class="fa-solid fa-angle-right" title="a bullet point" aria-label="angle-right"></i></span> <strong>using <code>{reactlog}</code></strong> to visualize reactivity errors
</p>
</div>
<div class="fragment">
<p class="body-text topbr">
We’ll touch on each of these, briefly, but be sure to check out the Shiny article, <a href="https://shiny.rstudio.com/articles/debugging.html">Debugging Shiny applications</a> and <a href="https://mastering-shiny.org/action-workflow.html#debugging">Mastering Shiny Ch. 5.2</a>, by Hadley Wickham, for more approaches, details, and examples.
</p>
</div>
</section>
<section id="ui-errors1" class="slide level2" data-menu-title="Tracking down UI errors">
<h2></h2>
<p><span class="slide-title2">Track down pesky UI errors by commenting out code from the outside in</span></p>
<hr>
<p><br></p>
<p>Many of us experienced the frustrations of finding unmatched parentheses, typos, missing commas, etc. when building out our UI layout for App #2, and tracking down the issue can require some patience and persistence.</p>
<p><br></p>
<p><strong>My preferred approach for troubleshooting a situation like this is to <span class="teal-text">comment out all code inside the highest-level layout function (e.g.&nbsp;<code>navbarPage()</code>)</span>, re-run your app to ensure that it works, uncomment the next inner-most pieces, re-run, etc. until you find the place where your app breaks.</strong></p>
<p><br> <br></p>
<div class="center-text body-text-l teal-text">
<p>See next slide for an example</p>
</div>
</section>
<section id="ui-errors2" class="slide level2" data-menu-title="Tracking down UI errors">
<h2></h2>
<p><span class="slide-title3">An example: debugging App #2 by un / commenting</span></p>
<hr>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<p class="body-text-s topbr">
If I were to trouble shoot the UI for App #2, I’d comment out everything except <code>ui &lt;- navbarPage(title = "LTER Animal Data Explorer"</code> and the ending <code>) # END navbarPage</code>, then run my app to make sure an empty app with a gray navbar and title at the top appears. It does? Great. Next, un-comment the two <code>tabPanel()</code>s that create the “About this App” and “Explore the Data” pages. Works? Add a little bit more back in now, and continue this process. I like to un-comment / re-run all layout function code <em>first</em>, then begin adding back the inputs and outputs one-by-one. See a short, but incomplete demo to the right:
</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part6/debugging-ui.gif" style="width:100.0%" alt="An example of commenting code from the outside in, demoed in RStudio as described above."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p><br></p>
<p><strong>Ultimately, taking your time, adding <em>lots</em> of <span class="teal-text">code comments to mark the ending parentheses</span> of each function, and <span class="teal-text">leaving space between lines of code</span> so that you can more easily see what’s going on will save you lots of headache!</strong></p>
</section>
<section id="next" class="slide level2" data-menu-title="next strategies">
<h2></h2>
<p><span class="slide-title">What about “larger” errors?</span></p>
<hr>
<p>Oftentimes, you’ll need to identify larger, more complex errors, like why an output isn’t rendering correctly or even appearing in your app at all.</p>
<p><br></p>
<p><strong>I often turn to two strategies:</strong></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(1)</strong></span> commenting out everything except the UI elements and server logic where I believe the issue is stemming from</span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(2)</strong></span> adding diagnostic messages to my reactives</span></p>
<div class="fragment">
<p><span class="body-text-s"><span class="teal-text"><strong>(3)</strong></span> …<em>and</em> on rare occasions, I’ll try using the <a href="https://rstudio.github.io/reactlog/"><code>{reactlog}</code> package</a> to help visualize my app’s reactivity in an attempt to identify the problem.</span></p>
</div>
<div class="fragment">
<p><br></p>
<p>To demo these approaches, we’ll use two pre-constructed apps as examples:</p>
<p><span class="body-text-s"><span class="teal-text"><strong>(1)</strong></span> <a href="https://github.com/samanthacsik/EDS430-shiny-app/tree/main/reactlog-working"><code>working-app</code></a> (a small app that’s functioning as intended)</span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(2)</strong></span> <a href="https://github.com/samanthacsik/EDS430-shiny-app/tree/main/reactlog-broken"><code>broken-app</code></a> (the same small app that’s <em>not</em> functioning as intended)</span></p>
</div>
</section>
<section id="non-buggy-app" class="slide level2" data-menu-title="A correctly functioning app">
<h2></h2>
<p><span class="slide-title2">I’m building an app that should look like this…</span></p>
<hr>
<p class="body-text-s">
In <strong>Tab 1</strong>, both the image and text should update whenever a new radio button is chosen. In <strong>Tab 2</strong>, the scatterplot should update so that only data points for penguins with body masses within our chosen range are displayed.
</p>

<img data-src="images/part6/working-app.gif" style="width:100.0%" alt="A functioning shiny app with two tabs. The first tab has radioButtons that when selected, update the penguin image and description text. The second tab has a sliderInput and scatterplot." class="r-stretch quarto-figure-center"></section>
<section id="buggy-app" class="slide level2" data-menu-title="A buggy app">
<h2></h2>
<p><span class="slide-title">. . . but let’s say it actually looks like this:</span></p>
<hr>
<p class="body-text-s">
In <strong>Tab 1</strong>, only the image updates whenever a new radio button is chosen, and text is missing altogether. In <strong>Tab 2</strong>, the scatterplot updates as expected whenever the body mass range is changed.
</p>

<img data-src="images/part6/buggy-app.gif" style="width:100.0%" alt="The same shiny app as on the previous slide, but this time when the radioButtons are updated, only the image changes -- no text appears." class="r-stretch quarto-figure-center"></section>
<section id="setup-apps" class="slide level2" data-menu-title="Set up both apps">
<h2></h2>
<p><span class="slide-title">Create both apps in your repo</span></p>
<hr>
<p><span class="body-text-s">Create two new subdirectories (one for each of the following apps) and copy the code below into the respective <code>app.R</code> files. You’ll also want to <a href="https://drive.google.com/drive/folders/18lnX4sMjrgKyF1vw28vByCEk0Uhh8xmc?usp=drive_link">download this <code>www/</code> folder</a> (containing penguin images) and put a copy of it into each subdirectory:</span></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/working-app/app.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># load packages ----</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(reactlog)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb1-6"><a href="#cb1-6"></a></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co"># ui ----</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb1-9"><a href="#cb1-9"></a>  </span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="fu">tabsetPanel</span>(</span>
<span id="cb1-11"><a href="#cb1-11"></a>    </span>
<span id="cb1-12"><a href="#cb1-12"></a>    <span class="co"># tab 1 ----</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 1"</span>,</span>
<span id="cb1-14"><a href="#cb1-14"></a>             </span>
<span id="cb1-15"><a href="#cb1-15"></a>             <span class="co"># radio button input ----</span></span>
<span id="cb1-16"><a href="#cb1-16"></a>             <span class="fu">radioButtons</span>(</span>
<span id="cb1-17"><a href="#cb1-17"></a>               <span class="at">inputId =</span> <span class="st">"img_input"</span>, <span class="at">label =</span> <span class="st">"Choose a penguin to display:"</span>,</span>
<span id="cb1-18"><a href="#cb1-18"></a>               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"All penguins"</span>, <span class="st">"Sassy chinstrap"</span>, <span class="st">"Staring gentoo"</span>, <span class="st">"Adorable adelie"</span>),</span>
<span id="cb1-19"><a href="#cb1-19"></a>               <span class="at">selected =</span> <span class="st">"All penguins"</span>),</span>
<span id="cb1-20"><a href="#cb1-20"></a>             </span>
<span id="cb1-21"><a href="#cb1-21"></a>             <span class="co"># text output ----</span></span>
<span id="cb1-22"><a href="#cb1-22"></a>             <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_text_output"</span>),</span>
<span id="cb1-23"><a href="#cb1-23"></a>             </span>
<span id="cb1-24"><a href="#cb1-24"></a>             <span class="co"># img output ----</span></span>
<span id="cb1-25"><a href="#cb1-25"></a>             <span class="fu">imageOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_img_output"</span>)</span>
<span id="cb1-26"><a href="#cb1-26"></a>             </span>
<span id="cb1-27"><a href="#cb1-27"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> tab 1</span></span>
<span id="cb1-28"><a href="#cb1-28"></a>    </span>
<span id="cb1-29"><a href="#cb1-29"></a>    <span class="co"># tab 2 ----</span></span>
<span id="cb1-30"><a href="#cb1-30"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 2"</span>,</span>
<span id="cb1-31"><a href="#cb1-31"></a>             </span>
<span id="cb1-32"><a href="#cb1-32"></a>             <span class="co"># body mass slider input ----</span></span>
<span id="cb1-33"><a href="#cb1-33"></a>             <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass_input"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g)"</span>,</span>
<span id="cb1-34"><a href="#cb1-34"></a>                         <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>)),</span>
<span id="cb1-35"><a href="#cb1-35"></a></span>
<span id="cb1-36"><a href="#cb1-36"></a>             <span class="co"># body mass plot output ----</span></span>
<span id="cb1-37"><a href="#cb1-37"></a>             <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterplot_output"</span>)</span>
<span id="cb1-38"><a href="#cb1-38"></a>             </span>
<span id="cb1-39"><a href="#cb1-39"></a>             ) <span class="co"># </span><span class="re">END</span><span class="co"> tab 2</span></span>
<span id="cb1-40"><a href="#cb1-40"></a>    </span>
<span id="cb1-41"><a href="#cb1-41"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb1-42"><a href="#cb1-42"></a>  </span>
<span id="cb1-43"><a href="#cb1-43"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span>
<span id="cb1-44"><a href="#cb1-44"></a></span>
<span id="cb1-45"><a href="#cb1-45"></a></span>
<span id="cb1-46"><a href="#cb1-46"></a><span class="co"># server ----</span></span>
<span id="cb1-47"><a href="#cb1-47"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output){</span>
<span id="cb1-48"><a href="#cb1-48"></a>  </span>
<span id="cb1-49"><a href="#cb1-49"></a>  <span class="co"># render penguin text ----</span></span>
<span id="cb1-50"><a href="#cb1-50"></a>  output<span class="sc">$</span>penguin_text_output <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb1-51"><a href="#cb1-51"></a>    </span>
<span id="cb1-52"><a href="#cb1-52"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb1-53"><a href="#cb1-53"></a>      <span class="st">"Meet all of our lovely penguins species!"</span></span>
<span id="cb1-54"><a href="#cb1-54"></a>    }</span>
<span id="cb1-55"><a href="#cb1-55"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb1-56"><a href="#cb1-56"></a>      <span class="st">"Chinstraps get their name from the thin black line that runs under their chins"</span></span>
<span id="cb1-57"><a href="#cb1-57"></a>    }</span>
<span id="cb1-58"><a href="#cb1-58"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb1-59"><a href="#cb1-59"></a>      <span class="st">"Gentoos stand out because of their bright orange bills and feet"</span></span>
<span id="cb1-60"><a href="#cb1-60"></a>    }</span>
<span id="cb1-61"><a href="#cb1-61"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb1-62"><a href="#cb1-62"></a>      <span class="st">"Adelie penguins are my personal favorite &lt;3"</span></span>
<span id="cb1-63"><a href="#cb1-63"></a>    }</span>
<span id="cb1-64"><a href="#cb1-64"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> renderText</span></span>
<span id="cb1-65"><a href="#cb1-65"></a>  </span>
<span id="cb1-66"><a href="#cb1-66"></a>  </span>
<span id="cb1-67"><a href="#cb1-67"></a>  <span class="co"># render penguin images ----</span></span>
<span id="cb1-68"><a href="#cb1-68"></a>  output<span class="sc">$</span>penguin_img_output <span class="ot">&lt;-</span> <span class="fu">renderImage</span>({</span>
<span id="cb1-69"><a href="#cb1-69"></a>    </span>
<span id="cb1-70"><a href="#cb1-70"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb1-71"><a href="#cb1-71"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/all_penguins.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb1-72"><a href="#cb1-72"></a>    }</span>
<span id="cb1-73"><a href="#cb1-73"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb1-74"><a href="#cb1-74"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/chinstrap.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb1-75"><a href="#cb1-75"></a>    }</span>
<span id="cb1-76"><a href="#cb1-76"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb1-77"><a href="#cb1-77"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/gentoo.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb1-78"><a href="#cb1-78"></a>    }</span>
<span id="cb1-79"><a href="#cb1-79"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb1-80"><a href="#cb1-80"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/adelie.gif"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb1-81"><a href="#cb1-81"></a>    }</span>
<span id="cb1-82"><a href="#cb1-82"></a>    </span>
<span id="cb1-83"><a href="#cb1-83"></a>  }, <span class="at">deleteFile =</span> <span class="cn">FALSE</span>) <span class="co"># </span><span class="re">END</span><span class="co"> renderImage</span></span>
<span id="cb1-84"><a href="#cb1-84"></a>  </span>
<span id="cb1-85"><a href="#cb1-85"></a>  </span>
<span id="cb1-86"><a href="#cb1-86"></a>  <span class="co"># filter body masses ----</span></span>
<span id="cb1-87"><a href="#cb1-87"></a>  body_mass_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb1-88"><a href="#cb1-88"></a>    penguins <span class="sc">|&gt;</span></span>
<span id="cb1-89"><a href="#cb1-89"></a>      <span class="fu">filter</span>(body_mass_g <span class="sc">%in%</span> input<span class="sc">$</span>body_mass_input[<span class="dv">1</span>]<span class="sc">:</span>input<span class="sc">$</span>body_mass_input[<span class="dv">2</span>])</span>
<span id="cb1-90"><a href="#cb1-90"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> filter body masses</span></span>
<span id="cb1-91"><a href="#cb1-91"></a></span>
<span id="cb1-92"><a href="#cb1-92"></a>  </span>
<span id="cb1-93"><a href="#cb1-93"></a>  <span class="co"># render the scatterplot output ----</span></span>
<span id="cb1-94"><a href="#cb1-94"></a>  output<span class="sc">$</span>bodyMass_scatterplot_output <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb1-95"><a href="#cb1-95"></a></span>
<span id="cb1-96"><a href="#cb1-96"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">body_mass_df</span>()),</span>
<span id="cb1-97"><a href="#cb1-97"></a>           <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> bill_length_mm,</span>
<span id="cb1-98"><a href="#cb1-98"></a>               <span class="at">color =</span> species, <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb1-99"><a href="#cb1-99"></a>      <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1-100"><a href="#cb1-100"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb1-101"><a href="#cb1-101"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="dv">19</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb1-102"><a href="#cb1-102"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Bill length (mm)"</span>,</span>
<span id="cb1-103"><a href="#cb1-103"></a>           <span class="at">color =</span> <span class="st">"Penguin species"</span>, <span class="at">shape =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb1-104"><a href="#cb1-104"></a>      <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-105"><a href="#cb1-105"></a>      <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.85</span>, <span class="fl">0.2</span>),</span>
<span id="cb1-106"><a href="#cb1-106"></a>            <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>))</span>
<span id="cb1-107"><a href="#cb1-107"></a></span>
<span id="cb1-108"><a href="#cb1-108"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> render scatterplot</span></span>
<span id="cb1-109"><a href="#cb1-109"></a></span>
<span id="cb1-110"><a href="#cb1-110"></a>  </span>
<span id="cb1-111"><a href="#cb1-111"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span>
<span id="cb1-112"><a href="#cb1-112"></a></span>
<span id="cb1-113"><a href="#cb1-113"></a><span class="co"># combine UI &amp; server into an app ----</span></span>
<span id="cb1-114"><a href="#cb1-114"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<!-- ::: {.center-text} -->
<!-- `reactlog-broken` -->
<!-- ::: -->
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/broken-app/app.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="co"># load packages ----</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="fu">library</span>(reactlog)</span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co"># ui ----</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb2-9"><a href="#cb2-9"></a>  </span>
<span id="cb2-10"><a href="#cb2-10"></a>  <span class="fu">tabsetPanel</span>(</span>
<span id="cb2-11"><a href="#cb2-11"></a>    </span>
<span id="cb2-12"><a href="#cb2-12"></a>    <span class="co"># tab 1 ----</span></span>
<span id="cb2-13"><a href="#cb2-13"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 1"</span>,</span>
<span id="cb2-14"><a href="#cb2-14"></a>             </span>
<span id="cb2-15"><a href="#cb2-15"></a>             <span class="co"># radio button input ----</span></span>
<span id="cb2-16"><a href="#cb2-16"></a>             <span class="fu">radioButtons</span>(</span>
<span id="cb2-17"><a href="#cb2-17"></a>               <span class="at">inputId =</span> <span class="st">"img_input"</span>, <span class="at">label =</span> <span class="st">"Choose a penguin to display:"</span>,</span>
<span id="cb2-18"><a href="#cb2-18"></a>               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"All penguins"</span>, <span class="st">"Sassy chinstrap"</span>, <span class="st">"Staring gentoo"</span>, <span class="st">"Adorable adelie"</span>),</span>
<span id="cb2-19"><a href="#cb2-19"></a>               <span class="at">selected =</span> <span class="st">"All penguins"</span>),</span>
<span id="cb2-20"><a href="#cb2-20"></a>             </span>
<span id="cb2-21"><a href="#cb2-21"></a>             <span class="co"># text output ----</span></span>
<span id="cb2-22"><a href="#cb2-22"></a>             <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_text_output"</span>),</span>
<span id="cb2-23"><a href="#cb2-23"></a>             </span>
<span id="cb2-24"><a href="#cb2-24"></a>             <span class="co"># img output ----</span></span>
<span id="cb2-25"><a href="#cb2-25"></a>             <span class="fu">imageOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_img_output"</span>)</span>
<span id="cb2-26"><a href="#cb2-26"></a>             </span>
<span id="cb2-27"><a href="#cb2-27"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> tab 1</span></span>
<span id="cb2-28"><a href="#cb2-28"></a>    </span>
<span id="cb2-29"><a href="#cb2-29"></a>    <span class="co"># tab 2 ----</span></span>
<span id="cb2-30"><a href="#cb2-30"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 2"</span>,</span>
<span id="cb2-31"><a href="#cb2-31"></a>             </span>
<span id="cb2-32"><a href="#cb2-32"></a>             <span class="co"># body mass slider input ----</span></span>
<span id="cb2-33"><a href="#cb2-33"></a>             <span class="fu">sliderInput</span>(<span class="at">inputId =</span> <span class="st">"body_mass_input"</span>, <span class="at">label =</span> <span class="st">"Select a range of body masses (g)"</span>,</span>
<span id="cb2-34"><a href="#cb2-34"></a>                         <span class="at">min =</span> <span class="dv">2700</span>, <span class="at">max =</span> <span class="dv">6300</span>, <span class="at">value =</span> <span class="fu">c</span>(<span class="dv">3000</span>, <span class="dv">4000</span>)),</span>
<span id="cb2-35"><a href="#cb2-35"></a>             </span>
<span id="cb2-36"><a href="#cb2-36"></a>             <span class="co"># body mass plot output ----</span></span>
<span id="cb2-37"><a href="#cb2-37"></a>             <span class="fu">plotOutput</span>(<span class="at">outputId =</span> <span class="st">"bodyMass_scatterplot_output"</span>)</span>
<span id="cb2-38"><a href="#cb2-38"></a>             </span>
<span id="cb2-39"><a href="#cb2-39"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> tab 2</span></span>
<span id="cb2-40"><a href="#cb2-40"></a>    </span>
<span id="cb2-41"><a href="#cb2-41"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb2-42"><a href="#cb2-42"></a>  </span>
<span id="cb2-43"><a href="#cb2-43"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span>
<span id="cb2-44"><a href="#cb2-44"></a></span>
<span id="cb2-45"><a href="#cb2-45"></a></span>
<span id="cb2-46"><a href="#cb2-46"></a><span class="co"># server ----</span></span>
<span id="cb2-47"><a href="#cb2-47"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output){</span>
<span id="cb2-48"><a href="#cb2-48"></a>  </span>
<span id="cb2-49"><a href="#cb2-49"></a>  <span class="co"># render penguin text ----</span></span>
<span id="cb2-50"><a href="#cb2-50"></a>  output<span class="sc">$</span>penguins_text_output <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb2-51"><a href="#cb2-51"></a>    </span>
<span id="cb2-52"><a href="#cb2-52"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb2-53"><a href="#cb2-53"></a>      <span class="st">"Meet all of our lovely penguins species!"</span></span>
<span id="cb2-54"><a href="#cb2-54"></a>    }</span>
<span id="cb2-55"><a href="#cb2-55"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb2-56"><a href="#cb2-56"></a>      <span class="st">"Chinstraps get their name from the thin black line that runs under their chins"</span></span>
<span id="cb2-57"><a href="#cb2-57"></a>    }</span>
<span id="cb2-58"><a href="#cb2-58"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb2-59"><a href="#cb2-59"></a>      <span class="st">"Gentoos stand out because of their bright orange bills and feet"</span></span>
<span id="cb2-60"><a href="#cb2-60"></a>    }</span>
<span id="cb2-61"><a href="#cb2-61"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb2-62"><a href="#cb2-62"></a>      <span class="st">"Adelie penguins are my personal favorite &lt;3"</span></span>
<span id="cb2-63"><a href="#cb2-63"></a>    }</span>
<span id="cb2-64"><a href="#cb2-64"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> renderText</span></span>
<span id="cb2-65"><a href="#cb2-65"></a>  </span>
<span id="cb2-66"><a href="#cb2-66"></a>  </span>
<span id="cb2-67"><a href="#cb2-67"></a>  <span class="co"># render penguin images ----</span></span>
<span id="cb2-68"><a href="#cb2-68"></a>  output<span class="sc">$</span>penguin_img_output <span class="ot">&lt;-</span> <span class="fu">renderImage</span>({</span>
<span id="cb2-69"><a href="#cb2-69"></a>    </span>
<span id="cb2-70"><a href="#cb2-70"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb2-71"><a href="#cb2-71"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/all_penguins.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb2-72"><a href="#cb2-72"></a>    }</span>
<span id="cb2-73"><a href="#cb2-73"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb2-74"><a href="#cb2-74"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/chinstrap.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb2-75"><a href="#cb2-75"></a>    }</span>
<span id="cb2-76"><a href="#cb2-76"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb2-77"><a href="#cb2-77"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/gentoo.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb2-78"><a href="#cb2-78"></a>    }</span>
<span id="cb2-79"><a href="#cb2-79"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb2-80"><a href="#cb2-80"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/adelie.gif"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb2-81"><a href="#cb2-81"></a>    }</span>
<span id="cb2-82"><a href="#cb2-82"></a>    </span>
<span id="cb2-83"><a href="#cb2-83"></a>  }, <span class="at">deleteFile =</span> <span class="cn">FALSE</span>) <span class="co"># </span><span class="re">END</span><span class="co"> renderImage</span></span>
<span id="cb2-84"><a href="#cb2-84"></a>  </span>
<span id="cb2-85"><a href="#cb2-85"></a>  </span>
<span id="cb2-86"><a href="#cb2-86"></a>  <span class="co"># filter body masses ----</span></span>
<span id="cb2-87"><a href="#cb2-87"></a>  body_mass_df <span class="ot">&lt;-</span> <span class="fu">reactive</span>({</span>
<span id="cb2-88"><a href="#cb2-88"></a>    penguins <span class="sc">|&gt;</span></span>
<span id="cb2-89"><a href="#cb2-89"></a>      <span class="fu">filter</span>(body_mass_g <span class="sc">%in%</span> input<span class="sc">$</span>body_mass_input[<span class="dv">1</span>]<span class="sc">:</span>input<span class="sc">$</span>body_mass_input[<span class="dv">2</span>]) </span>
<span id="cb2-90"><a href="#cb2-90"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> filter body masses</span></span>
<span id="cb2-91"><a href="#cb2-91"></a>  </span>
<span id="cb2-92"><a href="#cb2-92"></a>  </span>
<span id="cb2-93"><a href="#cb2-93"></a>  <span class="co"># render the scatterplot output ----</span></span>
<span id="cb2-94"><a href="#cb2-94"></a>  output<span class="sc">$</span>bodyMass_scatterplot_output <span class="ot">&lt;-</span> <span class="fu">renderPlot</span>({</span>
<span id="cb2-95"><a href="#cb2-95"></a></span>
<span id="cb2-96"><a href="#cb2-96"></a>    <span class="fu">ggplot</span>(<span class="fu">na.omit</span>(<span class="fu">body_mass_df</span>()),</span>
<span id="cb2-97"><a href="#cb2-97"></a>           <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> bill_length_mm,</span>
<span id="cb2-98"><a href="#cb2-98"></a>               <span class="at">color =</span> species, <span class="at">shape =</span> species)) <span class="sc">+</span></span>
<span id="cb2-99"><a href="#cb2-99"></a>      <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb2-100"><a href="#cb2-100"></a>      <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="st">"#FEA346"</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="st">"#B251F1"</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="st">"#4BA4A4"</span>)) <span class="sc">+</span></span>
<span id="cb2-101"><a href="#cb2-101"></a>      <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span> <span class="ot">=</span> <span class="dv">19</span>, <span class="st">"Chinstrap"</span> <span class="ot">=</span> <span class="dv">17</span>, <span class="st">"Gentoo"</span> <span class="ot">=</span> <span class="dv">15</span>)) <span class="sc">+</span></span>
<span id="cb2-102"><a href="#cb2-102"></a>      <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Flipper length (mm)"</span>, <span class="at">y =</span> <span class="st">"Bill length (mm)"</span>,</span>
<span id="cb2-103"><a href="#cb2-103"></a>           <span class="at">color =</span> <span class="st">"Penguin species"</span>, <span class="at">shape =</span> <span class="st">"Penguin species"</span>) <span class="sc">+</span></span>
<span id="cb2-104"><a href="#cb2-104"></a>      <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-105"><a href="#cb2-105"></a>      <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.85</span>, <span class="fl">0.2</span>),</span>
<span id="cb2-106"><a href="#cb2-106"></a>            <span class="at">legend.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"white"</span>))</span>
<span id="cb2-107"><a href="#cb2-107"></a></span>
<span id="cb2-108"><a href="#cb2-108"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> render scatterplot</span></span>
<span id="cb2-109"><a href="#cb2-109"></a>  </span>
<span id="cb2-110"><a href="#cb2-110"></a>  </span>
<span id="cb2-111"><a href="#cb2-111"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span>
<span id="cb2-112"><a href="#cb2-112"></a></span>
<span id="cb2-113"><a href="#cb2-113"></a><span class="co"># combine UI &amp; server into an app ----</span></span>
<span id="cb2-114"><a href="#cb2-114"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="comment-out-code1" class="slide level2" data-menu-title="Comment out code">
<h2></h2>
<p><span class="slide-title">Start by commenting out functioning code</span></p>
<hr>
<p><br></p>
<p>Even though this is a relatively small / simple app, <strong>there is still code that, for lack of a better term, <em>gets in the way</em>.</strong></p>
<p><br></p>
<p>After a quick assessment, my reactive scatterplot on <strong>Tab 2</strong> appears to be working as expected. To help simplify the amount of code I need to look at, I’ll start by commenting out all UI elements (<code>sliderInput</code> &amp; <code>plotOutput</code>) and server logic for the scatterplot.</p>
<p><br></p>
<p><strong>Note:</strong> As you begin building more complex apps, you may have reactives that depend on other reactives – it’s important to think about these dependencies when commenting out parts of your app for debugging purposes.</p>
<p><br></p>
<div class="center-text body-text-l teal-text">
<p>See next slide for code</p>
</div>
</section>
<section id="comment-out-code2" class="slide level2" data-menu-title="Comment out code">
<h2></h2>
<p><span class="slide-title">Start by commenting out functioning code</span></p>
<hr>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1"><code>app.R</code></a></li><li><a href="#tabset-1-2">app preview</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/broken-app/app.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># load packages ----</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="fu">library</span>(reactlog)</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co"># ui ----</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb3-9"><a href="#cb3-9"></a>  </span>
<span id="cb3-10"><a href="#cb3-10"></a>  <span class="fu">tabsetPanel</span>(</span>
<span id="cb3-11"><a href="#cb3-11"></a>    </span>
<span id="cb3-12"><a href="#cb3-12"></a>    <span class="co"># tab 1 ----</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 1"</span>,</span>
<span id="cb3-14"><a href="#cb3-14"></a>             </span>
<span id="cb3-15"><a href="#cb3-15"></a>             <span class="co"># radio button input ----</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>             <span class="fu">radioButtons</span>(</span>
<span id="cb3-17"><a href="#cb3-17"></a>               <span class="at">inputId =</span> <span class="st">"img_input"</span>, <span class="at">label =</span> <span class="st">"Choose a penguin to display:"</span>,</span>
<span id="cb3-18"><a href="#cb3-18"></a>               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"All penguins"</span>, <span class="st">"Sassy chinstrap"</span>, <span class="st">"Staring gentoo"</span>, <span class="st">"Adorable adelie"</span>),</span>
<span id="cb3-19"><a href="#cb3-19"></a>               <span class="at">selected =</span> <span class="st">"All penguins"</span>),</span>
<span id="cb3-20"><a href="#cb3-20"></a>             </span>
<span id="cb3-21"><a href="#cb3-21"></a>             <span class="co"># text output ----</span></span>
<span id="cb3-22"><a href="#cb3-22"></a>             <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_text_output"</span>),</span>
<span id="cb3-23"><a href="#cb3-23"></a>             </span>
<span id="cb3-24"><a href="#cb3-24"></a>             <span class="co"># img output ----</span></span>
<span id="cb3-25"><a href="#cb3-25"></a>             <span class="fu">imageOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_img_output"</span>)</span>
<span id="cb3-26"><a href="#cb3-26"></a>             </span>
<span id="cb3-27"><a href="#cb3-27"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> tab 1</span></span>
<span id="cb3-28"><a href="#cb3-28"></a>    </span>
<span id="cb3-29"><a href="#cb3-29"></a>    <span class="co"># tab 2 ----</span></span>
<span id="cb3-30"><a href="#cb3-30"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 2"</span><span class="co">#,</span></span>
<span id="cb3-31"><a href="#cb3-31"></a>             </span>
<span id="cb3-32"><a href="#cb3-32"></a>             <span class="co"># # body mass slider input ----</span></span>
<span id="cb3-33"><a href="#cb3-33"></a>             <span class="co"># sliderInput(inputId = "body_mass_input", label = "Select a range of body masses (g)",</span></span>
<span id="cb3-34"><a href="#cb3-34"></a>             <span class="co">#             min = 2700, max = 6300, value = c(3000, 4000)),</span></span>
<span id="cb3-35"><a href="#cb3-35"></a>             </span>
<span id="cb3-36"><a href="#cb3-36"></a>             <span class="co"># # body mass plot output ----</span></span>
<span id="cb3-37"><a href="#cb3-37"></a>             <span class="co"># plotOutput(outputId = "bodyMass_scatterplot_output")</span></span>
<span id="cb3-38"><a href="#cb3-38"></a>             </span>
<span id="cb3-39"><a href="#cb3-39"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> tab 2</span></span>
<span id="cb3-40"><a href="#cb3-40"></a>    </span>
<span id="cb3-41"><a href="#cb3-41"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb3-42"><a href="#cb3-42"></a>  </span>
<span id="cb3-43"><a href="#cb3-43"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span>
<span id="cb3-44"><a href="#cb3-44"></a></span>
<span id="cb3-45"><a href="#cb3-45"></a></span>
<span id="cb3-46"><a href="#cb3-46"></a><span class="co"># server ----</span></span>
<span id="cb3-47"><a href="#cb3-47"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output){</span>
<span id="cb3-48"><a href="#cb3-48"></a>  </span>
<span id="cb3-49"><a href="#cb3-49"></a>  <span class="co"># render penguin text ----</span></span>
<span id="cb3-50"><a href="#cb3-50"></a>  output<span class="sc">$</span>penguins_text_output <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb3-51"><a href="#cb3-51"></a>    </span>
<span id="cb3-52"><a href="#cb3-52"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb3-53"><a href="#cb3-53"></a>      <span class="st">"Meet all of our lovely penguins species!"</span></span>
<span id="cb3-54"><a href="#cb3-54"></a>    }</span>
<span id="cb3-55"><a href="#cb3-55"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb3-56"><a href="#cb3-56"></a>      <span class="st">"Chinstraps get their name from the thin black line that runs under their chins"</span></span>
<span id="cb3-57"><a href="#cb3-57"></a>    }</span>
<span id="cb3-58"><a href="#cb3-58"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb3-59"><a href="#cb3-59"></a>      <span class="st">"Gentoos stand out because of their bright orange bills and feet"</span></span>
<span id="cb3-60"><a href="#cb3-60"></a>    }</span>
<span id="cb3-61"><a href="#cb3-61"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb3-62"><a href="#cb3-62"></a>      <span class="st">"Adelie penguins are my personal favorite &lt;3"</span></span>
<span id="cb3-63"><a href="#cb3-63"></a>    }</span>
<span id="cb3-64"><a href="#cb3-64"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> renderText</span></span>
<span id="cb3-65"><a href="#cb3-65"></a>  </span>
<span id="cb3-66"><a href="#cb3-66"></a>  </span>
<span id="cb3-67"><a href="#cb3-67"></a>  <span class="co"># render penguin images ----</span></span>
<span id="cb3-68"><a href="#cb3-68"></a>  output<span class="sc">$</span>penguin_img_output <span class="ot">&lt;-</span> <span class="fu">renderImage</span>({</span>
<span id="cb3-69"><a href="#cb3-69"></a>    </span>
<span id="cb3-70"><a href="#cb3-70"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb3-71"><a href="#cb3-71"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/all_penguins.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb3-72"><a href="#cb3-72"></a>    }</span>
<span id="cb3-73"><a href="#cb3-73"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb3-74"><a href="#cb3-74"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/chinstrap.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb3-75"><a href="#cb3-75"></a>    }</span>
<span id="cb3-76"><a href="#cb3-76"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb3-77"><a href="#cb3-77"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/gentoo.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb3-78"><a href="#cb3-78"></a>    }</span>
<span id="cb3-79"><a href="#cb3-79"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb3-80"><a href="#cb3-80"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/adelie.gif"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb3-81"><a href="#cb3-81"></a>    }</span>
<span id="cb3-82"><a href="#cb3-82"></a>    </span>
<span id="cb3-83"><a href="#cb3-83"></a>  }, <span class="at">deleteFile =</span> <span class="cn">FALSE</span>) <span class="co"># </span><span class="re">END</span><span class="co"> renderImage</span></span>
<span id="cb3-84"><a href="#cb3-84"></a>  </span>
<span id="cb3-85"><a href="#cb3-85"></a>  </span>
<span id="cb3-86"><a href="#cb3-86"></a>  <span class="co"># # filter body masses ----</span></span>
<span id="cb3-87"><a href="#cb3-87"></a>  <span class="co"># body_mass_df &lt;- reactive({</span></span>
<span id="cb3-88"><a href="#cb3-88"></a>  <span class="co">#   penguins |&gt;</span></span>
<span id="cb3-89"><a href="#cb3-89"></a>  <span class="co">#     filter(body_mass_g %in% input$body_mass_input[1]:input$body_mass_input[2])</span></span>
<span id="cb3-90"><a href="#cb3-90"></a>  <span class="co"># }) # </span><span class="re">END</span><span class="co"> filter body masses</span></span>
<span id="cb3-91"><a href="#cb3-91"></a>  </span>
<span id="cb3-92"><a href="#cb3-92"></a>  </span>
<span id="cb3-93"><a href="#cb3-93"></a>  <span class="co"># # render the scatterplot output ----</span></span>
<span id="cb3-94"><a href="#cb3-94"></a>  <span class="co"># output$bodyMass_scatterplot_output &lt;- renderPlot({</span></span>
<span id="cb3-95"><a href="#cb3-95"></a>  <span class="co">#   </span></span>
<span id="cb3-96"><a href="#cb3-96"></a>  <span class="co">#   ggplot(na.omit(body_mass_df()),</span></span>
<span id="cb3-97"><a href="#cb3-97"></a>  <span class="co">#          aes(x = flipper_length_mm, y = bill_length_mm,</span></span>
<span id="cb3-98"><a href="#cb3-98"></a>  <span class="co">#              color = species, shape = species)) +</span></span>
<span id="cb3-99"><a href="#cb3-99"></a>  <span class="co">#     geom_point() +</span></span>
<span id="cb3-100"><a href="#cb3-100"></a>  <span class="co">#     scale_color_manual(values = c("Adelie" = "#FEA346", "Chinstrap" = "#B251F1", "Gentoo" = "#4BA4A4")) +</span></span>
<span id="cb3-101"><a href="#cb3-101"></a>  <span class="co">#     scale_shape_manual(values = c("Adelie" = 19, "Chinstrap" = 17, "Gentoo" = 15)) +</span></span>
<span id="cb3-102"><a href="#cb3-102"></a>  <span class="co">#     labs(x = "Flipper length (mm)", y = "Bill length (mm)",</span></span>
<span id="cb3-103"><a href="#cb3-103"></a>  <span class="co">#          color = "Penguin species", shape = "Penguin species") +</span></span>
<span id="cb3-104"><a href="#cb3-104"></a>  <span class="co">#     theme_minimal() +</span></span>
<span id="cb3-105"><a href="#cb3-105"></a>  <span class="co">#     theme(legend.position = c(0.85, 0.2),</span></span>
<span id="cb3-106"><a href="#cb3-106"></a>  <span class="co">#           legend.background = element_rect(color = "white"))</span></span>
<span id="cb3-107"><a href="#cb3-107"></a>  <span class="co">#   </span></span>
<span id="cb3-108"><a href="#cb3-108"></a>  <span class="co"># }) # </span><span class="re">END</span><span class="co"> render scatterplot</span></span>
<span id="cb3-109"><a href="#cb3-109"></a>  </span>
<span id="cb3-110"><a href="#cb3-110"></a>  </span>
<span id="cb3-111"><a href="#cb3-111"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span>
<span id="cb3-112"><a href="#cb3-112"></a></span>
<span id="cb3-113"><a href="#cb3-113"></a><span class="co"># combine UI &amp; server into an app ----</span></span>
<span id="cb3-114"><a href="#cb3-114"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part6/commented-out-code.gif" style="width:60.0%" alt="The same app as on the previous slides, except the sliderInput and scatterplot code has been commented out so that those elements don't appear when the app is run."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="add-messages" class="slide level2" data-menu-title="Add messages to reactives">
<h2></h2>
<p><span class="slide-title">Next, add messages to your reactives</span></p>
<hr>
<p>You can insert diagnostic messages within your reactives using <code>message()</code> – here, we’ll add a short message where each text and image output should be rendered.</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/broken-app/app.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb4" data-code-line-numbers="53|57|61|65|75|79|83|87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># load packages ----</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">library</span>(shiny)</span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="fu">library</span>(reactlog)</span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb4-6"><a href="#cb4-6"></a></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co"># ui ----</span></span>
<span id="cb4-8"><a href="#cb4-8"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb4-9"><a href="#cb4-9"></a>  </span>
<span id="cb4-10"><a href="#cb4-10"></a>  <span class="fu">tabsetPanel</span>(</span>
<span id="cb4-11"><a href="#cb4-11"></a>    </span>
<span id="cb4-12"><a href="#cb4-12"></a>    <span class="co"># tab 1 ----</span></span>
<span id="cb4-13"><a href="#cb4-13"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 1"</span>,</span>
<span id="cb4-14"><a href="#cb4-14"></a>             </span>
<span id="cb4-15"><a href="#cb4-15"></a>             <span class="co"># radio button input ----</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>             <span class="fu">radioButtons</span>(</span>
<span id="cb4-17"><a href="#cb4-17"></a>               <span class="at">inputId =</span> <span class="st">"img_input"</span>, <span class="at">label =</span> <span class="st">"Choose a penguin to display:"</span>,</span>
<span id="cb4-18"><a href="#cb4-18"></a>               <span class="at">choices =</span> <span class="fu">c</span>(<span class="st">"All penguins"</span>, <span class="st">"Sassy chinstrap"</span>, <span class="st">"Staring gentoo"</span>, <span class="st">"Adorable adelie"</span>),</span>
<span id="cb4-19"><a href="#cb4-19"></a>               <span class="at">selected =</span> <span class="st">"All penguins"</span>),</span>
<span id="cb4-20"><a href="#cb4-20"></a>             </span>
<span id="cb4-21"><a href="#cb4-21"></a>             <span class="co"># text output ----</span></span>
<span id="cb4-22"><a href="#cb4-22"></a>             <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_text_output"</span>),</span>
<span id="cb4-23"><a href="#cb4-23"></a>             </span>
<span id="cb4-24"><a href="#cb4-24"></a>             <span class="co"># img output ----</span></span>
<span id="cb4-25"><a href="#cb4-25"></a>             <span class="fu">imageOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_img_output"</span>)</span>
<span id="cb4-26"><a href="#cb4-26"></a>             </span>
<span id="cb4-27"><a href="#cb4-27"></a>    ), <span class="co"># </span><span class="re">END</span><span class="co"> tab 1</span></span>
<span id="cb4-28"><a href="#cb4-28"></a>    </span>
<span id="cb4-29"><a href="#cb4-29"></a>    <span class="co"># tab 2 ----</span></span>
<span id="cb4-30"><a href="#cb4-30"></a>    <span class="fu">tabPanel</span>(<span class="at">title =</span> <span class="st">"Tab 2"</span><span class="co">#,</span></span>
<span id="cb4-31"><a href="#cb4-31"></a>             </span>
<span id="cb4-32"><a href="#cb4-32"></a>             <span class="co"># # body mass slider input ----</span></span>
<span id="cb4-33"><a href="#cb4-33"></a>             <span class="co"># sliderInput(inputId = "body_mass_input", label = "Select a range of body masses (g)",</span></span>
<span id="cb4-34"><a href="#cb4-34"></a>             <span class="co">#             min = 2700, max = 6300, value = c(3000, 4000)),</span></span>
<span id="cb4-35"><a href="#cb4-35"></a>             </span>
<span id="cb4-36"><a href="#cb4-36"></a>             <span class="co"># # body mass plot output ----</span></span>
<span id="cb4-37"><a href="#cb4-37"></a>             <span class="co"># plotOutput(outputId = "bodyMass_scatterplot_output")</span></span>
<span id="cb4-38"><a href="#cb4-38"></a>             </span>
<span id="cb4-39"><a href="#cb4-39"></a>    ) <span class="co"># </span><span class="re">END</span><span class="co"> tab 2</span></span>
<span id="cb4-40"><a href="#cb4-40"></a>    </span>
<span id="cb4-41"><a href="#cb4-41"></a>  ) <span class="co"># </span><span class="re">END</span><span class="co"> tabsetPanel</span></span>
<span id="cb4-42"><a href="#cb4-42"></a>  </span>
<span id="cb4-43"><a href="#cb4-43"></a>) <span class="co"># </span><span class="re">END</span><span class="co"> fluidPage</span></span>
<span id="cb4-44"><a href="#cb4-44"></a></span>
<span id="cb4-45"><a href="#cb4-45"></a></span>
<span id="cb4-46"><a href="#cb4-46"></a><span class="co"># server ----</span></span>
<span id="cb4-47"><a href="#cb4-47"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output){</span>
<span id="cb4-48"><a href="#cb4-48"></a>  </span>
<span id="cb4-49"><a href="#cb4-49"></a>  <span class="co"># render penguin text ----</span></span>
<span id="cb4-50"><a href="#cb4-50"></a>  output<span class="sc">$</span>penguins_text_output <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb4-51"><a href="#cb4-51"></a>    </span>
<span id="cb4-52"><a href="#cb4-52"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb4-53"><a href="#cb4-53"></a>      <span class="fu">message</span>(<span class="st">"Printing all penguins text"</span>)</span>
<span id="cb4-54"><a href="#cb4-54"></a>      <span class="st">"Meet all of our lovely penguins species!"</span></span>
<span id="cb4-55"><a href="#cb4-55"></a>    }</span>
<span id="cb4-56"><a href="#cb4-56"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb4-57"><a href="#cb4-57"></a>      <span class="fu">message</span>(<span class="st">"Printing chinstrap text"</span>)</span>
<span id="cb4-58"><a href="#cb4-58"></a>      <span class="st">"Chinstraps get their name from the thin black line that runs under their chins"</span></span>
<span id="cb4-59"><a href="#cb4-59"></a>    }</span>
<span id="cb4-60"><a href="#cb4-60"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb4-61"><a href="#cb4-61"></a>      <span class="fu">message</span>(<span class="st">"Printing gentoo text"</span>)</span>
<span id="cb4-62"><a href="#cb4-62"></a>      <span class="st">"Gentoos stand out because of their bright orange bills and feet"</span></span>
<span id="cb4-63"><a href="#cb4-63"></a>    }</span>
<span id="cb4-64"><a href="#cb4-64"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb4-65"><a href="#cb4-65"></a>      <span class="fu">message</span>(<span class="st">"Printing adelie text"</span>)</span>
<span id="cb4-66"><a href="#cb4-66"></a>      <span class="st">"Adelie penguins are my personal favorite &lt;3"</span></span>
<span id="cb4-67"><a href="#cb4-67"></a>    }</span>
<span id="cb4-68"><a href="#cb4-68"></a>  }) <span class="co"># </span><span class="re">END</span><span class="co"> renderText</span></span>
<span id="cb4-69"><a href="#cb4-69"></a>  </span>
<span id="cb4-70"><a href="#cb4-70"></a>  </span>
<span id="cb4-71"><a href="#cb4-71"></a>  <span class="co"># render penguin images ----</span></span>
<span id="cb4-72"><a href="#cb4-72"></a>  output<span class="sc">$</span>penguin_img_output <span class="ot">&lt;-</span> <span class="fu">renderImage</span>({</span>
<span id="cb4-73"><a href="#cb4-73"></a>    </span>
<span id="cb4-74"><a href="#cb4-74"></a>    <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"All penguins"</span>){</span>
<span id="cb4-75"><a href="#cb4-75"></a>      <span class="fu">message</span>(<span class="st">"Displaying all penguins image"</span>)</span>
<span id="cb4-76"><a href="#cb4-76"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/all_penguins.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb4-77"><a href="#cb4-77"></a>    }</span>
<span id="cb4-78"><a href="#cb4-78"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Sassy chinstrap"</span>){</span>
<span id="cb4-79"><a href="#cb4-79"></a>      <span class="fu">message</span>(<span class="st">"Displaying chinstrap image"</span>)</span>
<span id="cb4-80"><a href="#cb4-80"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/chinstrap.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb4-81"><a href="#cb4-81"></a>    }</span>
<span id="cb4-82"><a href="#cb4-82"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Staring gentoo"</span>){</span>
<span id="cb4-83"><a href="#cb4-83"></a>      <span class="fu">message</span>(<span class="st">"Displaying all gentoo image"</span>)</span>
<span id="cb4-84"><a href="#cb4-84"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/gentoo.jpeg"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb4-85"><a href="#cb4-85"></a>    }</span>
<span id="cb4-86"><a href="#cb4-86"></a>    <span class="cf">else</span> <span class="cf">if</span>(input<span class="sc">$</span>img_input <span class="sc">==</span> <span class="st">"Adorable adelie"</span>){</span>
<span id="cb4-87"><a href="#cb4-87"></a>      <span class="fu">message</span>(<span class="st">"Displaying all adelie image"</span>)</span>
<span id="cb4-88"><a href="#cb4-88"></a>      <span class="fu">list</span>(<span class="at">src =</span> <span class="st">"www/adelie.gif"</span>, <span class="at">height =</span> <span class="dv">240</span>, <span class="at">width =</span> <span class="dv">300</span>)</span>
<span id="cb4-89"><a href="#cb4-89"></a>    }</span>
<span id="cb4-90"><a href="#cb4-90"></a>    </span>
<span id="cb4-91"><a href="#cb4-91"></a>  }, <span class="at">deleteFile =</span> <span class="cn">FALSE</span>) <span class="co"># </span><span class="re">END</span><span class="co"> renderImage</span></span>
<span id="cb4-92"><a href="#cb4-92"></a>  </span>
<span id="cb4-93"><a href="#cb4-93"></a>  </span>
<span id="cb4-94"><a href="#cb4-94"></a>  <span class="co"># # filter body masses ----</span></span>
<span id="cb4-95"><a href="#cb4-95"></a>  <span class="co"># body_mass_df &lt;- reactive({</span></span>
<span id="cb4-96"><a href="#cb4-96"></a>  <span class="co">#   penguins |&gt;</span></span>
<span id="cb4-97"><a href="#cb4-97"></a>  <span class="co">#     filter(body_mass_g %in% input$body_mass_input[1]:input$body_mass_input[2])</span></span>
<span id="cb4-98"><a href="#cb4-98"></a>  <span class="co"># }) # </span><span class="re">END</span><span class="co"> filter body masses</span></span>
<span id="cb4-99"><a href="#cb4-99"></a>  </span>
<span id="cb4-100"><a href="#cb4-100"></a>  </span>
<span id="cb4-101"><a href="#cb4-101"></a>  <span class="co"># # render the scatterplot output ----</span></span>
<span id="cb4-102"><a href="#cb4-102"></a>  <span class="co"># output$bodyMass_scatterplot_output &lt;- renderPlot({</span></span>
<span id="cb4-103"><a href="#cb4-103"></a>  <span class="co">#   </span></span>
<span id="cb4-104"><a href="#cb4-104"></a>  <span class="co">#   ggplot(na.omit(body_mass_df()),</span></span>
<span id="cb4-105"><a href="#cb4-105"></a>  <span class="co">#          aes(x = flipper_length_mm, y = bill_length_mm,</span></span>
<span id="cb4-106"><a href="#cb4-106"></a>  <span class="co">#              color = species, shape = species)) +</span></span>
<span id="cb4-107"><a href="#cb4-107"></a>  <span class="co">#     geom_point() +</span></span>
<span id="cb4-108"><a href="#cb4-108"></a>  <span class="co">#     scale_color_manual(values = c("Adelie" = "#FEA346", "Chinstrap" = "#B251F1", "Gentoo" = "#4BA4A4")) +</span></span>
<span id="cb4-109"><a href="#cb4-109"></a>  <span class="co">#     scale_shape_manual(values = c("Adelie" = 19, "Chinstrap" = 17, "Gentoo" = 15)) +</span></span>
<span id="cb4-110"><a href="#cb4-110"></a>  <span class="co">#     labs(x = "Flipper length (mm)", y = "Bill length (mm)",</span></span>
<span id="cb4-111"><a href="#cb4-111"></a>  <span class="co">#          color = "Penguin species", shape = "Penguin species") +</span></span>
<span id="cb4-112"><a href="#cb4-112"></a>  <span class="co">#     theme_minimal() +</span></span>
<span id="cb4-113"><a href="#cb4-113"></a>  <span class="co">#     theme(legend.position = c(0.85, 0.2),</span></span>
<span id="cb4-114"><a href="#cb4-114"></a>  <span class="co">#           legend.background = element_rect(color = "white"))</span></span>
<span id="cb4-115"><a href="#cb4-115"></a>  <span class="co">#   </span></span>
<span id="cb4-116"><a href="#cb4-116"></a>  <span class="co"># }) # </span><span class="re">END</span><span class="co"> render scatterplot</span></span>
<span id="cb4-117"><a href="#cb4-117"></a>  </span>
<span id="cb4-118"><a href="#cb4-118"></a>  </span>
<span id="cb4-119"><a href="#cb4-119"></a>} <span class="co"># </span><span class="re">END</span><span class="co"> server</span></span>
<span id="cb4-120"><a href="#cb4-120"></a></span>
<span id="cb4-121"><a href="#cb4-121"></a><span class="co"># combine UI &amp; server into an app ----</span></span>
<span id="cb4-122"><a href="#cb4-122"></a><span class="fu">shinyApp</span>(<span class="at">ui =</span> ui, <span class="at">server =</span> server)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="see-messages" class="slide level2" data-menu-title="See messages print (or not)">
<h2></h2>
<p><span class="slide-title">See which messages successfully print</span></p>
<hr>
<p><span class="body-text-s">We can run our app and see messages successfully (or in the case of a broken app, unsuccessfully) print in the RStudio console as we interact with the app. You’ll notice that the each image message (e.g.&nbsp;<em>“Displaying all penguins image”</em>) prints when a new radioButton is selected, but those associated with the text outputs do not. <strong>This tells us that code is not being executed, beginning with first <code>if</code> statement inside <code>renderText</code></strong> and that this is a good starting location for reviewing code (e.g.&nbsp;carefully crosschecking all <code>inputId</code>s and <code>outputId</code>s in that section).</span></p>

<img data-src="images/part6/messages.gif" style="width:100.0%" alt="We see our app.R file with 'message()'s inserted throughout our reactive elements. When our app is run and the user updates the radioButtons, we see the associated messages appear in the console (or not appear, if code is broken)." class="r-stretch quarto-figure-center"></section>
<section id="reactlog" class="slide level2" data-menu-title="{reactlog}">
<h2></h2>
<p><span class="slide-title2">If helpful, use <code>{reactlog}</code> to visualize reactivity</span></p>
<hr>
<div class="columns">
<div class="column" style="width:50%;">
<p><br> <br> <br> <br> <br></p>
<p><code>reactlog</code> is a package / tool that provides:</p>
<p class="body-text-s quote-text-bg">
<em>“A snapshot of the history (<strong>log</strong>) of all <strong>react</strong>ive interactions within a shiny application”</em> <strong>- Barret Schloerke in his 2019 RSTUDIO::CONF talk, <a href="https://www.rstudio.com/resources/rstudioconf-2019/reactlog-2-0-debugging-the-state-of-shiny/">Reactlog 2.0: Debugging the state of Shiny</a></strong>
</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part6/reactlog.png" style="width:100.0%" alt="The reactlog hex sticker design."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<p class="body-text-s">
Reactivity can be confusing. I recommend watching Barret Schloerke’s talk, linked above, and reading through the <a href="https://rstudio.github.io/reactlog/articles/reactlog.html">Shiny Reactlog vignette</a> as you get started.
</p>
</section>
<section id="reactlog-workflow" class="slide level2" data-menu-title="{reactlog} workflow">
<h2></h2>
<p><span class="slide-title">Using <code>{reactlog}</code></span></p>
<hr>
<p><code>reactlog</code> should already be installed as a dependency of <code>shiny</code> (but you’ll need to load it using <code>library(reactlog)</code> in your console). When enabled, it provides an interactive browser-based tool to visualize reactive dependencies and executions in your app.</p>
<p><br></p>
<p><strong>To use <code>reactlog</code>, follow these steps:</strong></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(1)</strong></span> Load the reactlog library in you console (<code>library(reactlog)</code>)</span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(2)</strong></span> Call <code>reactlog_enable()</code> in your console</span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(3)</strong></span> Run your app, interact with it, then quit your app</span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(4)</strong></span> Launch reactlog by running <code>shiny::reactlogShow()</code> in your console (or use the keyboard shortcut <code>cmd</code>/<code>ctrl</code> + <code>F3</code>)</span></p>
<p><span class="body-text-s"><span class="teal-text"><strong>(5)</strong></span> Use your <code>&lt;-</code> and <code>-&gt;</code> arrow keys (or <img src="images/part6/previous.png" alt="A gray, left-facing play button" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;"> and <img src="images/part6/forward.png" alt="A gray, right-facing play button" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;">) to move forward and backward through your app’s reactive life cycle</span></p>
<p><br></p>
<div class="footer">
<p>Read about the components of the <a href="https://rstudio.github.io/reactlog/articles/reactlog.html#status-bar">status bar</a> and the meaning of different <a href="https://rstudio.github.io/reactlog/articles/reactlog.html#reactive-states">reactive states</a> in the <code>reactlog</code> vignette.</p>
</div>
</section>
<section id="using-reactlog-working-app" class="slide level2" data-menu-title="Using {reactlog} - working app">
<h2></h2>
<p><span class="slide-title3">Using <code>{reactlog}</code> to visualize reactivity in a correctly-functioning app</span></p>
<hr>
<p class="body-text-s">
To visualize the reactive life cycle of the <code>reactlog-working</code> app, let’s first load the reactlog library, then call <code>reactlog_enable()</code> in our console. Next, we’ll run the app and interact with it. By default, <strong>All penguins</strong> is selected. For demonstration purposes, let’s click down the list (<strong>Sassy chinstrap</strong>, <strong>Staring gentoo</strong>, and finally <strong>Adorable adelie</strong>). When done, stop the app, then run <code>shiny::reactlogShow()</code> in the console to open the reactlog visualizer in a browser window.
</p>
<p class="body-text-s">
<strong>Note:</strong> We’ve left the scatter plot on Tab 2 (and it’s related UI elements) commented out (as we practiced in the earlier few slides) for this demo – the <code>{reactlog}</code> package has many features that allow you to explore reactive dependencies across your whole app, but it can get complicated quickly. For demo purposes, we’re going to work with this “smaller” version of our app, which contains just the problematic code.
</p>

<img data-src="images/part6/reactlog-working.gif" style="width:80.0%" class="r-stretch quarto-figure-center"></section>
<section id="interpreting-reactlog-working-app" class="slide level2" data-menu-title="Interpreting {reactlog}">
<h2></h2>
<p><span class="slide-title2">Interpreting <code>{reactlog}</code> (used with our correctly-functioning app)</span></p>
<hr>
<p>There’s a lot to take when looking at the reactlog viewer, so let’s take it one step at a time:</p>
<p><span class="body-text-s"><span class="teal-text"><strong>(1)</strong></span> The <code>radioButton</code> input defaults to show the <strong>All penguins</strong> image and associated text. When we launch reactlog, our input <img src="images/part6/input.png" alt="" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;">, reactive expression <img src="images/part6/expression.png" alt="" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;">, and outputs <img src="images/part6/output.png" alt="" style="display: inline-block; margin: 0; position: relative; top: 3px; width:15px;height:15px;"> are <strong>Ready</strong>, meaning the calculated values are available (defaults in this case) and reactive elements have finished executing (i.e.&nbsp;the image and text is displayed). This <strong>Ready</strong> state is indicated by the green icons.</span></p>
<div class="fragment">
<p><span class="body-text-s"><span class="teal-text"><strong>(2)</strong></span> I (the user) then updated the input by choosing <strong>Sassy chinstrap</strong>, invalidating (i.e.&nbsp;resetting) the input and thereby invalidating any dependencies – in this case both the image and text outputs. This <strong>Invalidating</strong> state is indicated by the gray icons.</span></p>
</div>
<div class="fragment">
<p><span class="body-text-s"><span class="teal-text"><strong>(3)</strong></span> Once all dependencies are invalidated, the reactive elements can begin <strong>Calculating</strong> (i.e.&nbsp;executing) based on the new input (<strong>Sassy chinstrap</strong>). Elements are colored yellow when they are being calculated, then green when calculations are complete and the reactive element has been updated. In this example, first the image and then the text are calculated and updated.</span></p>
</div>
<div class="fragment">
<p><span class="body-text-s"><span class="teal-text"><strong>(4)</strong></span> These same steps are repeated when I select the <strong>Staring gentoo</strong>, then <strong>Adorable adelie</strong> <code>radioButtons</code></span></p>
</div>
</section>
<section id="using-reactlog-broken-app" class="slide level2" data-menu-title="Using {reactlog} - broken app">
<h2></h2>
<p><span class="slide-title2">Using <code>{reactlog}</code> to visualize reactivity in a broken app</span></p>
<hr>
<p class="body-text-s">
Let’s try out reactlog on our intentionally broken app (<code>reactlog-broken</code>, where our image changes when a radioButton user input is updated, but our text doesn’t appear). As in our functioning app, the <strong>All penguins</strong> image is selected by default. For demonstration purposes, let’s select each option moving down the list (<strong>Sassy chinstrap</strong>, <strong>Staring gentoo</strong>, <strong>Adorable adelie</strong>) before launching the reactlog browser view (using <code>shiny::reactlogShow()</code>).
</p>
<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<p class="body-text-s">
Similar to our functioning app, the default input, <strong>All penguins</strong>, and image output are <strong>Ready</strong> (green). However, in this example our text output is <em>not a dependency</em> of our application’s input – there’s no linkage and the text output is <strong>Invalidated</strong> (gray).
</p>
<p class="body-text-s">
As we click down the list of radioButtons, the image output is invalidated, then updated accordingly, but the text output remains disconnected from our input.
</p>
</div><div class="column" style="width:50%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/part6/reactlog-broken.gif" style="width:100.0%" alt="The reactlog hex sticker design."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="id-bug" class="slide level2" data-menu-title="Identify the bug">
<h2></h2>
<p><span class="slide-title">So what’s the issue with our app?</span></p>
<hr>
<p class="body-text-s">
Evidence from our diagnostic messages <em>and</em> <code>reactlog</code> suggests that we should make sure that our UI and server are actually able to communicate about our desired text output. After careful inspection of our <code>textOutput()</code> and <code>renderText()</code> code, we find that a spelling error is to blame:
</p>
<p class="body-text-s">
Our <code>outputId</code> in the <strong>UI</strong> is set to <code>penguin_text_output</code>:
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/broken-app/app.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb5" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>ui <span class="ot">&lt;-</span> <span class="fu">fluidPage</span>(</span>
<span id="cb5-2"><a href="#cb5-2"></a>  </span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="co"># ~ previous code excluded for brevity ~</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  </span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="co"># text output ----</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="fu">textOutput</span>(<span class="at">outputId =</span> <span class="st">"penguin_text_output"</span>)</span>
<span id="cb5-7"><a href="#cb5-7"></a>  </span>
<span id="cb5-8"><a href="#cb5-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p class="body-text-s">
But we call <code>penguins_text_output</code> (note the plural) when rendering our output in the <strong>server</strong>:
</p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>~/broken-app/app.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>server <span class="ot">&lt;-</span> <span class="cf">function</span>(input, output){</span>
<span id="cb6-2"><a href="#cb6-2"></a>  </span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="co"># ~ previous code excluded for brevity ~</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  </span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="co"># render penguin text ----</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  output<span class="sc">$</span>penguins_text_output <span class="ot">&lt;-</span> <span class="fu">renderText</span>({</span>
<span id="cb6-7"><a href="#cb6-7"></a>    </span>
<span id="cb6-8"><a href="#cb6-8"></a>    <span class="co"># ~ code excluded for brevity ~</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>    </span>
<span id="cb6-10"><a href="#cb6-10"></a>  })</span>
<span id="cb6-11"><a href="#cb6-11"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p class="body-text-s">
By updating our <code>outputId</code> to match in both the UI and the server, we fix our app.
</p>
</section>
<section id="end" class="slide level2" data-menu-title="~~~ END ~~~" data-background="#047C90">
<h2></h2>
<div class="page-center vertical-center">
<p class="custom-subtitle bottombr">
End part 7.1
</p>
<p class="caption-text">
<em><strong>Up next:</strong> testing</em>
</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_903bb101" data-update-every="1" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>

<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>